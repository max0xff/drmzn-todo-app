!function(t){var e={};function o(n){if(e[n])return e[n].exports;var s=e[n]={i:n,l:!1,exports:{}};return t[n].call(s.exports,s,s.exports,o),s.l=!0,s.exports}o.m=t,o.c=e,o.d=function(t,e,n){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},o.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)o.d(n,s,function(e){return t[e]}.bind(null,s));return n},o.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="",o(o.s="./src/server.ts")}({"./src/components/footer.tsx":function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=o("react");e.default=n.memo(t=>{const e=t.state.Main.todo.options;if(!e.hasData)return null;const o=e.isOneCount?"item":"items";return n.createElement("footer",{className:"footer"},n.createElement("span",{className:"todo-count"},n.createElement("strong",null,e.countNotComplete)," ",o," left"),n.createElement("ul",{className:"filters"},n.createElement("li",null,n.createElement("a",{className:e.filter.all?"selected":"",href:"#/"},"All")),n.createElement("li",null,n.createElement("a",{className:e.filter.active?"selected":"",href:"#/active"},"Active")),n.createElement("li",null,n.createElement("a",{className:e.filter.completed?"selected":"",href:"#/completed"},"Completed"))),(()=>{if(e.hasCompleted)return n.createElement("button",{className:"clear-completed"},"Clear completed")})())})},"./src/components/header.tsx":function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=o("react");e.default=n.memo(()=>n.createElement("div",{id:"header"},n.createElement("header",{className:"header"},n.createElement("h1",null,"todos"),n.createElement("input",{className:"new-todo",placeholder:"What needs to be done?",autoFocus:!0}))))},"./src/components/root.tsx":function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=o("react"),s=o("react-redux"),a=o("./src/components/header.tsx"),i=o("./src/components/footer.tsx"),r=o("./src/components/todos.tsx");e.default=s.connect(function(t){return t})(t=>n.createElement("section",{className:"todoapp"},n.createElement(a.default,null),n.createElement(r.default,{state:t.state}),n.createElement(i.default,{state:t.state})))},"./src/components/todo.tsx":function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=o("react"),s=o("./src/config/functions.ts");e.default=n.memo(t=>{const e=t.data;return n.createElement("li",{key:e.id,"data-id":e.id,className:s.classNames(e)},n.createElement("div",{className:"view"},n.createElement("input",{className:"toggle",type:"checkbox",checked:e.isCompleted,onChange:function(){}}),n.createElement("label",null,e.text),n.createElement("button",{className:"destroy"})),n.createElement("input",{type:"text",className:"edit",defaultValue:e.text,"data-text":e.text}))})},"./src/components/todos.tsx":function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=o("react"),s=o("./src/components/todo.tsx");e.default=n.memo(t=>{const e=t.state.Main.todo.data,o=t.state.Main.todo.options;if(!o.hasData)return null;return n.createElement("section",{className:"main"},n.createElement("input",{id:"toggle-all",className:"toggle-all",type:"checkbox",checked:o.isAllComplete,onChange:function(){}}),n.createElement("label",{htmlFor:"toggle-all"},"Mark all as complete"),n.createElement("ul",{className:"todo-list"},e.filter(t=>t.isVisible).map(t=>n.createElement(s.default,{data:t,key:t.id}))))})},"./src/config/actions.ts":function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=o("object-path-immutable/index");var s;(s=e.page||(e.page={})).type="PAGE",s.dispatch=((t,e)=>{t.dispatch({type:s.type,page:e})}),s.reduce=((t,e)=>n(t).set("Main.options.mainPage",{}).set(`Main.options.mainPage.${e.page}`,!0).value()),function(t){t.type="init",t.dispatch=((e,o,n)=>{e.dispatch({type:t.type,data:o,options:n})}),t.reduce=((t,e)=>n(t).set("Main.todo.data",e.data).set("Main.todo.options",e.options).value())}(e.init||(e.init={})),function(t){t.type="add",t.dispatch=((e,o,n)=>{e.dispatch({type:t.type,data:o,options:n})}),t.reduce=((t,e)=>n(t).set("Main.todo.data",e.data).set("Main.todo.options",e.options).value())}(e.add||(e.add={})),function(t){t.type="edit",t.dispatch=((e,o,n)=>{e.dispatch({type:t.type,data:o,options:n})}),t.reduce=((t,e)=>n(t).set("Main.todo.data",e.data).set("Main.todo.options",e.options).value())}(e.edit||(e.edit={})),function(t){t.type="remove",t.dispatch=((e,o,n)=>{e.dispatch({type:t.type,data:o,options:n})}),t.reduce=((t,e)=>n(t).set("Main.todo.data",e.data).set("Main.todo.options",e.options).value())}(e.remove||(e.remove={})),function(t){t.type="toggle",t.dispatch=((e,o,n)=>{e.dispatch({type:t.type,data:o,options:n})}),t.reduce=((t,e)=>n(t).set("Main.todo.data",e.data).set("Main.todo.options",e.options).value())}(e.toggle||(e.toggle={})),function(t){t.type="toggleAll",t.dispatch=((e,o,n)=>{e.dispatch({type:t.type,data:o,options:n})}),t.reduce=((t,e)=>n(t).set("Main.todo.data",e.data).set("Main.todo.options",e.options).value())}(e.toggleAll||(e.toggleAll={})),function(t){t.type="filterBy",t.dispatch=((e,o,n)=>{e.dispatch({type:t.type,data:o,options:n})}),t.reduce=((t,e)=>n(t).set("Main.todo.data",e.data).set("Main.todo.options",e.options).value())}(e.filterBy||(e.filterBy={})),function(t){t.type="removeCompleted",t.dispatch=((e,o,n)=>{e.dispatch({type:t.type,data:o,options:n})}),t.reduce=((t,e)=>n(t).set("Main.todo.data",e.data).set("Main.todo.options",e.options).value())}(e.removeCompleted||(e.removeCompleted={})),function(t){t.type="toggleEditing",t.dispatch=((e,o,n)=>{e.dispatch({type:t.type,data:o,options:n})}),t.reduce=((t,e)=>n(t).set("Main.todo.data",e.data).set("Main.todo.options",e.options).value())}(e.toggleEditing||(e.toggleEditing={})),function(t){t.type="monitorSaga",t.dispatch=((e,o)=>{e.dispatch({type:t.type,data:o})}),t.reduce=((t,e)=>n(t).set("Main.saga.test",e.data).set("Main.saga.reducer","yoyo").value())}(e.monitorSaga||(e.monitorSaga={}))},"./src/config/functions.ts":function(t,e,o){"use strict";function n(t){return JSON.parse(JSON.stringify(t))}function s(t,e){let o="all",n="/";return"#/"===e&&(o="all",n="/"),"#/active"===e&&(o="active",n="/active"),"#/completed"===e&&(o="completed",n="/completed"),"type"===t?o:n}function a(){return Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15)}function i(t,e){let o=-1;for(let n=0;n<t.length;n++){t[n].id===e&&(o=n)}return o}function r(t,e){const o=t.getState();let n={all:!0};o&&o.Main&&o.Main.todo&&o.Main.todo.options&&o.Main.todo.options.filter&&(n=Object.assign({},o.Main.todo.options.filter));const s={countTotal:0,countComplete:0,countNotComplete:0,hasCompleted:!1,isAllComplete:!1,isEditing:!1,hasData:!1,isOneCount:!1,filter:n};s.countTotal=e.length,e.forEach(t=>{t.isCompleted?s.countComplete=s.countComplete+1:s.countNotComplete=s.countNotComplete+1,t.isEditing&&(s.isEditing=!0)}),s.countComplete>0&&(s.hasCompleted=!0),e.length===s.countComplete&&(s.isAllComplete=!0),e.length>0&&(s.hasData=!0),1===s.countNotComplete&&(s.isOneCount=!0);try{localStorage.setItem("todos-drmzn",JSON.stringify(e))}catch(t){}return s}Object.defineProperty(e,"__esModule",{value:!0}),e.classNames=function(t){let e="";return t.isCompleted&&(e=`${e} completed`),t.isEditing&&(e=`${e} editing`),e.trim()},e.getProp=s,e.randomId=a,e.getIndex=i,e.computeOptions=r,e.computeInit=function(t,e){let o;try{(o=JSON.parse(localStorage.getItem("todos-drmzn"))).forEach(t=>{t.isEditing=!1})}catch(t){}o||(o=[]);const n=r(t,o),a=s("type",e);return n.filter={},n.filter[a]=!0,{data:o,options:n}},e.computeAdd=function(t,e){const o=t.getState(),s=n(o.Main.todo.data);let i=!0;o.Main.todo.options.filter.completed&&(i=!1);const c={id:a(),text:e.trim(),isCompleted:!1,isVisible:i};return s.push(c),{data:s,options:r(t,s)}},e.computeEdit=function(t,e,o){const s=n(t.getState().Main.todo.data);return s[i(s,e)].text=o.trim(),{data:s,options:r(t,s)}},e.computeRemove=function(t,e){const o=n(t.getState().Main.todo.data),s=i(o,e);return o.splice(s,1),{data:o,options:r(t,o)}},e.computeToggle=function(t,e){const o=t.getState(),s=n(o.Main.todo.data),a=i(s,e);return s[a].isCompleted=!s[a].isCompleted,o.Main.todo.options.filter.completed&&(s[a].isVisible=!!s[a].isCompleted),o.Main.todo.options.filter.active&&(s[a].isVisible=!s[a].isCompleted),{data:s,options:r(t,s)}},e.computeToggleAll=function(t){const e=t.getState(),o=n(e.Main.todo.data);let s=!0;return o.forEach(t=>{!1===t.isCompleted&&(s=!1)}),o.forEach(t=>{s?(t.isCompleted=!1,e.Main.todo.options.filter.completed&&(t.isVisible=!1),e.Main.todo.options.filter.active&&(t.isVisible=!0)):(t.isCompleted=!0,e.Main.todo.options.filter.completed&&(t.isVisible=!0),e.Main.todo.options.filter.active&&(t.isVisible=!1))}),{data:o,options:r(t,o)}},e.computeFilterBy=function(t,e="all"){const o=n(t.getState().Main.todo.data);"active"===e&&o.forEach(t=>{!1===t.isCompleted?t.isVisible=!0:t.isVisible=!1}),"completed"===e&&o.forEach(t=>{!0===t.isCompleted?t.isVisible=!0:t.isVisible=!1}),"all"===e&&o.forEach(t=>{t.isVisible=!0});const s=r(t,o);return s.filter={},s.filter[e]=!0,{data:o,options:s}},e.computeRemoveCompleted=function(t){const e=n(t.getState().Main.todo.data).filter(t=>!1===t.isCompleted);return{data:e,options:r(t,e)}},e.computeToggleEdit=function(t,e,o,s){const a=n(t.getState().Main.todo.data);if(a.forEach(t=>{t.isEditing=!1}),e&&"on"===o){const t=i(a,e);t>-1&&(a[t].isEditing=!0)}e&&s&&"off"===o&&(a[i(a,e)].text=s);return{data:a,options:r(t,a)}}},"./src/config/placeholder.ts":function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.placeholder=((t,e,o)=>`<!doctype html>\n<html lang="en">\n\t<head>\n\t\t<meta charset="utf-8">\n\t\t<meta name="viewport" content="width=device-width, initial-scale=1">\n\t\t<title>Drmzn â€¢ TodoMVC</title>\n\t\t<link rel="stylesheet" href="/css/base.css">\n\t\t<link rel="stylesheet" href="/css/index.css">\n\t\t<link rel="stylesheet" href="/css/app.css">\n\t</head>\n\t<body>\n\t\t<div id="root">${t}</div>\n\n\t\t<footer class="info">\n\t\t\t<p>Double-click to edit a todo</p>\n\t\t\t<p>Created by <a href="mailto:alex.tzvetanov@gmail.com">Alex Tzvetanov</a></p>\n\t\t\t<p>Part of <a href="http://todomvc.com">TodoMVC</a></p>\n\t\t</footer>\n\n\t\t<script>\n      window.__PRELOADED_STATE__ = '${e}';\n    <\/script>\n\n\t\t<script src="/js/base.js"><\/script>\n    <script type="text/javascript" src="/js/main.${o}.min.js"><\/script>\n  </body>\n</html>`)},"./src/config/store.ts":function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=o("./src/config/actions.ts"),s=o("redux"),a=o("redux-saga"),i=o("redux-devtools-extension"),r=o("drmzn-redux");e.sagaMiddleware=a.default(),e.storeCreate=(()=>s.createStore(r.actionReducer(n),r.hydrate,i.composeWithDevTools(s.applyMiddleware(e.sagaMiddleware)))),e.store=e.storeCreate()},"./src/controllers/TodoController.ts":function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=o("./src/config/actions.ts"),s=o("./src/config/functions.ts");e.Todo=(t=>{return{init:e=>{const{data:o,options:a}=s.computeInit(t,e);n.init.dispatch(t,o,a)},add:e=>{const{data:o,options:a}=s.computeAdd(t,e);n.add.dispatch(t,o,a)},edit:(e,o)=>{const{data:a,options:i}=s.computeEdit(t,e,o);n.edit.dispatch(t,a,i)},remove:e=>{const{data:o,options:a}=s.computeRemove(t,e);n.remove.dispatch(t,o,a)},toggle:e=>{const{data:o,options:a}=s.computeToggle(t,e);n.toggle.dispatch(t,o,a)},toggleAll:()=>{const{data:e,options:o}=s.computeToggleAll(t);n.toggleAll.dispatch(t,e,o)},filterBy:e=>{const{data:o,options:a}=s.computeFilterBy(t,e);n.filterBy.dispatch(t,o,a)},removeCompleted:()=>{const{data:e,options:o}=s.computeRemoveCompleted(t);n.removeCompleted.dispatch(t,e,o)},toggleEditing:(e,o,a)=>{const{data:i,options:r}=s.computeToggleEdit(t,e,o,a);n.toggleEditing.dispatch(t,i,r)}}})},"./src/server.ts":function(t,e,o){"use strict";var n=this&&this.__awaiter||function(t,e,o,n){return new(o||(o=Promise))(function(s,a){function i(t){try{c(n.next(t))}catch(t){a(t)}}function r(t){try{c(n.throw(t))}catch(t){a(t)}}function c(t){t.done?s(t.value):new o(function(e){e(t.value)}).then(i,r)}c((n=n.apply(t,e||[])).next())})};Object.defineProperty(e,"__esModule",{value:!0});const s=o("express"),a=o("compression"),i=o("http"),r=o("pusher"),c=o("js-string-escape"),l=o("./src/config/store.ts"),d=o("./src/controllers/TodoController.ts"),p=o("./src/config/placeholder.ts"),u=o("drmzn-react"),m=o("./src/components/root.tsx"),f=new r({appId:process.env.appId,key:process.env.key,secret:process.env.secret,cluster:process.env.cluster}),g=s();g.use(a()),g.get("/",(t,e)=>n(this,void 0,void 0,function*(){const o=l.storeCreate();yield d.Todo(o).init("/"),u.ssr(p.placeholder,m.default,"0.0.3").render(o,t,e)})),g.get("/secret-message/:message",(t,e)=>n(this,void 0,void 0,function*(){const o=c(t.params.message);f.trigger("drmzn","secret-message",{message:o}),e.status(200).end()})),g.use("/",s.static("public")),i.createServer(g).listen(process.env.PORT)},compression:function(t,e){t.exports=require("compression")},"drmzn-react":function(t,e){t.exports=require("drmzn-react")},"drmzn-redux":function(t,e){t.exports=require("drmzn-redux")},express:function(t,e){t.exports=require("express")},http:function(t,e){t.exports=require("http")},"js-string-escape":function(t,e){t.exports=require("js-string-escape")},"object-path-immutable/index":function(t,e){t.exports=require("object-path-immutable/index")},pusher:function(t,e){t.exports=require("pusher")},react:function(t,e){t.exports=require("react")},"react-redux":function(t,e){t.exports=require("react-redux")},redux:function(t,e){t.exports=require("redux")},"redux-devtools-extension":function(t,e){t.exports=require("redux-devtools-extension")},"redux-saga":function(t,e){t.exports=require("redux-saga")}});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvZm9vdGVyLnRzeCIsIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9oZWFkZXIudHN4Iiwid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL3Jvb3QudHN4Iiwid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL3RvZG8udHN4Iiwid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL3RvZG9zLnRzeCIsIndlYnBhY2s6Ly8vLi9zcmMvY29uZmlnL2FjdGlvbnMudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbmZpZy9mdW5jdGlvbnMudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbmZpZy9wbGFjZWhvbGRlci50cyIsIndlYnBhY2s6Ly8vLi9zcmMvY29uZmlnL3N0b3JlLnRzIiwid2VicGFjazovLy8uL3NyYy9jb250cm9sbGVycy9Ub2RvQ29udHJvbGxlci50cyIsIndlYnBhY2s6Ly8vLi9zcmMvc2VydmVyLnRzIiwid2VicGFjazovLy9leHRlcm5hbCBcImNvbXByZXNzaW9uXCIiLCJ3ZWJwYWNrOi8vL2V4dGVybmFsIFwiZHJtem4tcmVhY3RcIiIsIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJkcm16bi1yZWR1eFwiIiwid2VicGFjazovLy9leHRlcm5hbCBcImV4cHJlc3NcIiIsIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJodHRwXCIiLCJ3ZWJwYWNrOi8vL2V4dGVybmFsIFwianMtc3RyaW5nLWVzY2FwZVwiIiwid2VicGFjazovLy9leHRlcm5hbCBcIm9iamVjdC1wYXRoLWltbXV0YWJsZS9pbmRleFwiIiwid2VicGFjazovLy9leHRlcm5hbCBcInB1c2hlclwiIiwid2VicGFjazovLy9leHRlcm5hbCBcInJlYWN0XCIiLCJ3ZWJwYWNrOi8vL2V4dGVybmFsIFwicmVhY3QtcmVkdXhcIiIsIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJyZWR1eFwiIiwid2VicGFjazovLy9leHRlcm5hbCBcInJlZHV4LWRldnRvb2xzLWV4dGVuc2lvblwiIiwid2VicGFjazovLy9leHRlcm5hbCBcInJlZHV4LXNhZ2FcIiJdLCJuYW1lcyI6WyJpbnN0YWxsZWRNb2R1bGVzIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiZXhwb3J0cyIsIm1vZHVsZSIsImkiLCJsIiwibW9kdWxlcyIsImNhbGwiLCJtIiwiYyIsImQiLCJuYW1lIiwiZ2V0dGVyIiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsInIiLCJTeW1ib2wiLCJ0b1N0cmluZ1RhZyIsInZhbHVlIiwidCIsIm1vZGUiLCJfX2VzTW9kdWxlIiwibnMiLCJjcmVhdGUiLCJrZXkiLCJiaW5kIiwibiIsIm9iamVjdCIsInByb3BlcnR5IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJwIiwicyIsIlJlYWN0IiwiZGVmYXVsdCIsIm1lbW8iLCJwcm9wcyIsIm9wdGlvbnMiLCJzdGF0ZSIsIk1haW4iLCJ0b2RvIiwiaGFzRGF0YSIsIml0ZW1UeHQiLCJpc09uZUNvdW50IiwiY3JlYXRlRWxlbWVudCIsImNsYXNzTmFtZSIsImNvdW50Tm90Q29tcGxldGUiLCJmaWx0ZXIiLCJhbGwiLCJocmVmIiwiYWN0aXZlIiwiY29tcGxldGVkIiwiaGFzQ29tcGxldGVkIiwiY2xlYXJDb21wbGV0ZWQiLCJpZCIsInBsYWNlaG9sZGVyIiwiYXV0b0ZvY3VzIiwicmVhY3RfcmVkdXhfMSIsImhlYWRlcl8xIiwiZm9vdGVyXzEiLCJ0b2Rvc18xIiwiY29ubmVjdCIsImZ1bmN0aW9uc18xIiwiaXRlbSIsImRhdGEiLCJkYXRhLWlkIiwiY2xhc3NOYW1lcyIsInR5cGUiLCJjaGVja2VkIiwiaXNDb21wbGV0ZWQiLCJvbkNoYW5nZSIsInRleHQiLCJkZWZhdWx0VmFsdWUiLCJkYXRhLXRleHQiLCJ0b2RvXzEiLCJpc0FsbENvbXBsZXRlIiwiaHRtbEZvciIsImlzVmlzaWJsZSIsIm1hcCIsImltbXV0YWJsZSIsInBhZ2VfMSIsInBhZ2UiLCJkaXNwYXRjaCIsInN0b3JlIiwicmVkdWNlIiwiYWN0aW9uIiwic2V0IiwiaW5pdCIsImFkZCIsImVkaXQiLCJyZW1vdmUiLCJ0b2dnbGUiLCJ0b2dnbGVBbGwiLCJmaWx0ZXJCeSIsInJlbW92ZUNvbXBsZXRlZCIsInRvZ2dsZUVkaXRpbmciLCJtb25pdG9yU2FnYSIsImNvcHkiLCJvYmoiLCJKU09OIiwicGFyc2UiLCJzdHJpbmdpZnkiLCJnZXRQcm9wIiwicHJvcCIsImhhc2giLCJ1cmwiLCJyYW5kb21JZCIsIk1hdGgiLCJyYW5kb20iLCJ0b1N0cmluZyIsInN1YnN0cmluZyIsImdldEluZGV4IiwidG9kb0lkIiwiZm91bmRJbmRleCIsImluZGV4IiwibGVuZ3RoIiwiY29tcHV0ZU9wdGlvbnMiLCJnZXRTdGF0ZSIsImZpbHRlclN0YXRlIiwiYXNzaWduIiwiY291bnRUb3RhbCIsImNvdW50Q29tcGxldGUiLCJpc0VkaXRpbmciLCJmb3JFYWNoIiwibG9jYWxTdG9yYWdlIiwic2V0SXRlbSIsImVycm9yIiwiY2xhc3NMaXN0IiwidHJpbSIsImNvbXB1dGVJbml0IiwiZ2V0SXRlbSIsImNvbXB1dGVBZGQiLCJpc1Zpc2libGVTdGF0ZSIsInB1c2giLCJjb21wdXRlRWRpdCIsImNvbXB1dGVSZW1vdmUiLCJzcGxpY2UiLCJjb21wdXRlVG9nZ2xlIiwiY29tcHV0ZVRvZ2dsZUFsbCIsImFsbENvbXBsZXRlZCIsImNvbXB1dGVGaWx0ZXJCeSIsImNvbXB1dGVSZW1vdmVDb21wbGV0ZWQiLCJjb21wdXRlVG9nZ2xlRWRpdCIsImh0bWwiLCJwcmVsb2FkZWRTdGF0ZSIsInZlcnNpb24iLCJhY3Rpb25zIiwicmVkdXhfMSIsInJlZHV4X3NhZ2FfMSIsInJlZHV4X2RldnRvb2xzX2V4dGVuc2lvbl8xIiwiZHJtem5fcmVkdXhfMSIsInNhZ2FNaWRkbGV3YXJlIiwic3RvcmVDcmVhdGUiLCJjcmVhdGVTdG9yZSIsImFjdGlvblJlZHVjZXIiLCJoeWRyYXRlIiwiY29tcG9zZVdpdGhEZXZUb29scyIsImFwcGx5TWlkZGxld2FyZSIsIlRvZG8iLCJleHByZXNzIiwiY29tcHJlc3Npb24iLCJodHRwIiwiUHVzaGVyIiwianNTdHJpbmdFc2NhcGUiLCJzdG9yZV8xIiwiVG9kb0NvbnRyb2xsZXJfMSIsInBsYWNlaG9sZGVyXzEiLCJkcm16bl9yZWFjdF8xIiwicm9vdF8xIiwicHVzaGVyIiwiYXBwSWQiLCJwcm9jZXNzIiwiZW52Iiwic2VjcmV0IiwiY2x1c3RlciIsImFwcCIsInVzZSIsInJlcSIsInJlcyIsIl9fYXdhaXRlciIsInRoaXMiLCJzc3IiLCJyZW5kZXIiLCJtZXNzYWdlIiwicGFyYW1zIiwidHJpZ2dlciIsInN0YXR1cyIsImVuZCIsInN0YXRpYyIsImNyZWF0ZVNlcnZlciIsImxpc3RlbiIsIlBPUlQiLCJyZXF1aXJlIl0sIm1hcHBpbmdzIjoiYUFDQSxJQUFBQSxFQUFBLEdBR0EsU0FBQUMsRUFBQUMsR0FHQSxHQUFBRixFQUFBRSxHQUNBLE9BQUFGLEVBQUFFLEdBQUFDLFFBR0EsSUFBQUMsRUFBQUosRUFBQUUsR0FBQSxDQUNBRyxFQUFBSCxFQUNBSSxHQUFBLEVBQ0FILFFBQUEsSUFVQSxPQU5BSSxFQUFBTCxHQUFBTSxLQUFBSixFQUFBRCxRQUFBQyxJQUFBRCxRQUFBRixHQUdBRyxFQUFBRSxHQUFBLEVBR0FGLEVBQUFELFFBS0FGLEVBQUFRLEVBQUFGLEVBR0FOLEVBQUFTLEVBQUFWLEVBR0FDLEVBQUFVLEVBQUEsU0FBQVIsRUFBQVMsRUFBQUMsR0FDQVosRUFBQWEsRUFBQVgsRUFBQVMsSUFDQUcsT0FBQUMsZUFBQWIsRUFBQVMsRUFBQSxDQUEwQ0ssWUFBQSxFQUFBQyxJQUFBTCxLQUsxQ1osRUFBQWtCLEVBQUEsU0FBQWhCLEdBQ0Esb0JBQUFpQixlQUFBQyxhQUNBTixPQUFBQyxlQUFBYixFQUFBaUIsT0FBQUMsWUFBQSxDQUF3REMsTUFBQSxXQUV4RFAsT0FBQUMsZUFBQWIsRUFBQSxjQUFpRG1CLE9BQUEsS0FRakRyQixF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LFVBQUEscUJBQzlCLE1BQU1qRyxFQUFRaUYsRUFBQVosb0JBQ1JhLEVBQUFQLEtBQUszRSxHQUFPSSxLQUFLLEtBR3ZCZ0YsRUFBQWMsSUFBSWYsRUFBQS9HLFlBQWFpSCxFQUFBdEksUUFWSCxTQVVpQm9KLE9BQU9uRyxFQUFPOEYsRUFBS0MsTUFPcERILEVBQUlqSyxJQUFJLDJCQUE0QixDQUFPbUssRUFBS0MsSUFBT0MsRUFBQUMsVUFBQSxxQkFDckQsTUFBTUcsRUFBVXBCLEVBQWVjLEVBQUlPLE9BQU9ELFNBQzFDZCxFQUFPZ0IsUUFBUSxRQUFTLGlCQUFrQixDQUN4Q0YsWUFFRkwsRUFBSVEsT0FBTyxLQUFLQyxTQUdsQlosRUFBSUMsSUFBSSxJQUFLakIsRUFBUTZCLE9BQU8sV0FFYjNCLEVBQUs0QixhQUFhZCxHQUMxQmUsT0FBT25CLFFBQVFDLElBQUltQixpQ0MxRDFCL0wsRUFBQUQsUUFBQWlNLFFBQUEsNENDQUFoTSxFQUFBRCxRQUFBaU0sUUFBQSw0Q0NBQWhNLEVBQUFELFFBQUFpTSxRQUFBLHNDQ0FBaE0sRUFBQUQsUUFBQWlNLFFBQUEsK0JDQUFoTSxFQUFBRCxRQUFBaU0sUUFBQSwwQ0NBQWhNLEVBQUFELFFBQUFpTSxRQUFBLGlFQ0FBaE0sRUFBQUQsUUFBQWlNLFFBQUEscURDQUFoTSxFQUFBRCxRQUFBaU0sUUFBQSwrQkNBQWhNLEVBQUFELFFBQUFpTSxRQUFBLHNDQ0FBaE0sRUFBQUQsUUFBQWlNLFFBQUEsb0NDQUFoTSxFQUFBRCxRQUFBaU0sUUFBQSxtRENBQWhNLEVBQUFELFFBQUFpTSxRQUFBLHdEQ0FBaE0sRUFBQUQsUUFBQWlNLFFBQUEiLCJmaWxlIjoic2VydmVyLmpzIiwic291cmNlc0NvbnRlbnQiOlsiIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge31cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZ2V0dGVyIH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSBmdW5jdGlvbihleHBvcnRzKSB7XG4gXHRcdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuIFx0XHR9XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG4gXHR9O1xuXG4gXHQvLyBjcmVhdGUgYSBmYWtlIG5hbWVzcGFjZSBvYmplY3RcbiBcdC8vIG1vZGUgJiAxOiB2YWx1ZSBpcyBhIG1vZHVsZSBpZCwgcmVxdWlyZSBpdFxuIFx0Ly8gbW9kZSAmIDI6IG1lcmdlIGFsbCBwcm9wZXJ0aWVzIG9mIHZhbHVlIGludG8gdGhlIG5zXG4gXHQvLyBtb2RlICYgNDogcmV0dXJuIHZhbHVlIHdoZW4gYWxyZWFkeSBucyBvYmplY3RcbiBcdC8vIG1vZGUgJiA4fDE6IGJlaGF2ZSBsaWtlIHJlcXVpcmVcbiBcdF9fd2VicGFja19yZXF1aXJlX18udCA9IGZ1bmN0aW9uKHZhbHVlLCBtb2RlKSB7XG4gXHRcdGlmKG1vZGUgJiAxKSB2YWx1ZSA9IF9fd2VicGFja19yZXF1aXJlX18odmFsdWUpO1xuIFx0XHRpZihtb2RlICYgOCkgcmV0dXJuIHZhbHVlO1xuIFx0XHRpZigobW9kZSAmIDQpICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgJiYgdmFsdWUuX19lc01vZHVsZSkgcmV0dXJuIHZhbHVlO1xuIFx0XHR2YXIgbnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIobnMpO1xuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobnMsICdkZWZhdWx0JywgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdmFsdWUgfSk7XG4gXHRcdGlmKG1vZGUgJiAyICYmIHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykgZm9yKHZhciBrZXkgaW4gdmFsdWUpIF9fd2VicGFja19yZXF1aXJlX18uZChucywga2V5LCBmdW5jdGlvbihrZXkpIHsgcmV0dXJuIHZhbHVlW2tleV07IH0uYmluZChudWxsLCBrZXkpKTtcbiBcdFx0cmV0dXJuIG5zO1xuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IFwiLi9zcmMvc2VydmVyLnRzXCIpO1xuIiwiaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgT3B0aW9ucyB9IGZyb20gJ3NyYy9jb25maWcvaW50ZXJmYWNlcyc7XG5cbmNvbnN0IEZvb3RlciA9IChwcm9wcykgPT4ge1xuICBjb25zdCBvcHRpb25zOk9wdGlvbnMgPSBwcm9wcy5zdGF0ZS5NYWluLnRvZG8ub3B0aW9ucztcbiAgaWYgKCFvcHRpb25zLmhhc0RhdGEpIHJldHVybiBudWxsO1xuICBjb25zdCBpdGVtVHh0ID0gb3B0aW9ucy5pc09uZUNvdW50ID8gJ2l0ZW0nIDogJ2l0ZW1zJztcbiAgY29uc3QgY2xlYXJDb21wbGV0ZWQgPSAoKSA9PiB7XG4gICAgaWYgKG9wdGlvbnMuaGFzQ29tcGxldGVkKSB7XG4gICAgICByZXR1cm4gPGJ1dHRvbiBjbGFzc05hbWU9XCJjbGVhci1jb21wbGV0ZWRcIj5DbGVhciBjb21wbGV0ZWQ8L2J1dHRvbj47XG4gICAgfVxuICB9O1xuICByZXR1cm4gKFxuICAgIDxmb290ZXIgY2xhc3NOYW1lPVwiZm9vdGVyXCI+XG4gICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0b2RvLWNvdW50XCI+PHN0cm9uZz57b3B0aW9ucy5jb3VudE5vdENvbXBsZXRlfTwvc3Ryb25nPiB7aXRlbVR4dH0gbGVmdDwvc3Bhbj5cbiAgICAgICAgPHVsIGNsYXNzTmFtZT1cImZpbHRlcnNcIj5cbiAgICAgICAgICA8bGk+PGEgY2xhc3NOYW1lPXtvcHRpb25zLmZpbHRlci5hbGwgPyAnc2VsZWN0ZWQnIDogJyd9IGhyZWY9XCIjL1wiPkFsbDwvYT48L2xpPlxuICAgICAgICAgIDxsaT48YSBjbGFzc05hbWU9e29wdGlvbnMuZmlsdGVyLmFjdGl2ZSA/ICdzZWxlY3RlZCcgOiAnJ30gaHJlZj1cIiMvYWN0aXZlXCI+QWN0aXZlPC9hPjwvbGk+XG4gICAgICAgICAgPGxpPjxhIGNsYXNzTmFtZT17b3B0aW9ucy5maWx0ZXIuY29tcGxldGVkID8gJ3NlbGVjdGVkJyA6ICcnfSBocmVmPVwiIy9jb21wbGV0ZWRcIj5Db21wbGV0ZWQ8L2E+PC9saT5cbiAgICAgICAgPC91bD5cbiAgICAgICAge2NsZWFyQ29tcGxldGVkKCl9XG4gICAgPC9mb290ZXI+XG4gICk7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBSZWFjdC5tZW1vKEZvb3Rlcik7XG4iLCJpbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5cbmNvbnN0IEhlYWRlciA9ICgpID0+IHtcbiAgcmV0dXJuIChcbiAgICA8ZGl2IGlkPVwiaGVhZGVyXCI+XG4gICAgICA8aGVhZGVyIGNsYXNzTmFtZT1cImhlYWRlclwiPlxuICAgICAgICA8aDE+dG9kb3M8L2gxPlxuICAgICAgICA8aW5wdXQgY2xhc3NOYW1lPVwibmV3LXRvZG9cIiBwbGFjZWhvbGRlcj1cIldoYXQgbmVlZHMgdG8gYmUgZG9uZT9cIiBhdXRvRm9jdXM9e3RydWV9IC8+XG4gICAgICA8L2hlYWRlcj5cbiAgICA8L2Rpdj5cbiAgKTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IFJlYWN0Lm1lbW8oSGVhZGVyKTtcbiIsImltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IGNvbm5lY3QgfSBmcm9tICdyZWFjdC1yZWR1eCc7XG5cbmltcG9ydCBIZWFkZXIgZnJvbSAnc3JjL2NvbXBvbmVudHMvaGVhZGVyJztcbmltcG9ydCBGb290ZXIgZnJvbSAnc3JjL2NvbXBvbmVudHMvZm9vdGVyJztcbmltcG9ydCBUb2RvcyBmcm9tICdzcmMvY29tcG9uZW50cy90b2Rvcyc7XG5cbmZ1bmN0aW9uIG1hcFN0YXRlVG9Qcm9wcyhzdGF0ZSkge1xuICByZXR1cm4gc3RhdGU7XG59XG5cbmNvbnN0IEFwcCA9IChwcm9wcykgPT4ge1xuICByZXR1cm4gKFxuICAgIDxzZWN0aW9uIGNsYXNzTmFtZT1cInRvZG9hcHBcIj5cbiAgICAgIDxIZWFkZXIgLz5cbiAgICAgIDxUb2RvcyBzdGF0ZT17cHJvcHMuc3RhdGV9IC8+XG4gICAgICA8Rm9vdGVyIHN0YXRlPXtwcm9wcy5zdGF0ZX0gLz5cbiAgICA8L3NlY3Rpb24+XG4gICk7XG59O1xuXG4vLyBleHBvcnQgZGVmYXVsdCBBcHA7XG5leHBvcnQgZGVmYXVsdCBjb25uZWN0KG1hcFN0YXRlVG9Qcm9wcykoQXBwKTtcbiIsImltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IGNsYXNzTmFtZXMgfSBmcm9tICdzcmMvY29uZmlnL2Z1bmN0aW9ucyc7XG5pbXBvcnQgeyBUb2RvIH0gZnJvbSAnc3JjL2NvbmZpZy9pbnRlcmZhY2VzJztcblxuY29uc3QgVG9kb0l0ZW0gPSAocHJvcHMpID0+IHtcbiAgY29uc3QgaXRlbTpUb2RvID0gcHJvcHMuZGF0YTtcbiAgZnVuY3Rpb24gaGFuZGxlQ2hhbmdlKCkge31cbiAgcmV0dXJuIChcbiAgICA8bGkga2V5PXtpdGVtLmlkfSBkYXRhLWlkPXtpdGVtLmlkfSBjbGFzc05hbWU9e2NsYXNzTmFtZXMoaXRlbSl9PlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJ2aWV3XCI+XG4gICAgICA8aW5wdXQgY2xhc3NOYW1lPVwidG9nZ2xlXCIgdHlwZT1cImNoZWNrYm94XCIgY2hlY2tlZD17aXRlbS5pc0NvbXBsZXRlZH0gb25DaGFuZ2U9e2hhbmRsZUNoYW5nZX0gLz5cbiAgICAgICAgPGxhYmVsPntpdGVtLnRleHR9PC9sYWJlbD5cbiAgICAgICAgPGJ1dHRvbiBjbGFzc05hbWU9XCJkZXN0cm95XCIvPlxuICAgICAgPC9kaXY+XG4gICAgICA8aW5wdXQgdHlwZT1cInRleHRcIiBjbGFzc05hbWU9XCJlZGl0XCIgZGVmYXVsdFZhbHVlPXtpdGVtLnRleHR9IGRhdGEtdGV4dD17aXRlbS50ZXh0fSAvPlxuICAgIDwvbGk+XG4gICk7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBSZWFjdC5tZW1vKFRvZG9JdGVtKTtcbiIsImltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IFRvZG8sIE9wdGlvbnMgfSBmcm9tICdzcmMvY29uZmlnL2ludGVyZmFjZXMnO1xuaW1wb3J0IFRvZG9JdGVtIGZyb20gJ3NyYy9jb21wb25lbnRzL3RvZG8nO1xuXG5jb25zdCBUb2RvcyA9IChwcm9wcykgPT4ge1xuICBjb25zdCBkYXRhOltUb2RvXSA9IHByb3BzLnN0YXRlLk1haW4udG9kby5kYXRhO1xuICBjb25zdCBvcHRpb25zOk9wdGlvbnMgPSBwcm9wcy5zdGF0ZS5NYWluLnRvZG8ub3B0aW9ucztcbiAgaWYgKCFvcHRpb25zLmhhc0RhdGEpIHJldHVybiBudWxsO1xuICBmdW5jdGlvbiBoYW5kbGVDaGFuZ2UoKSB7fVxuICByZXR1cm4gKFxuICAgIDxzZWN0aW9uIGNsYXNzTmFtZT1cIm1haW5cIj5cbiAgICAgIDxpbnB1dCBpZD1cInRvZ2dsZS1hbGxcIiBjbGFzc05hbWU9XCJ0b2dnbGUtYWxsXCIgdHlwZT1cImNoZWNrYm94XCIgY2hlY2tlZD17b3B0aW9ucy5pc0FsbENvbXBsZXRlfSBvbkNoYW5nZT17aGFuZGxlQ2hhbmdlfSAvPlxuICAgICAgPGxhYmVsIGh0bWxGb3I9XCJ0b2dnbGUtYWxsXCI+TWFyayBhbGwgYXMgY29tcGxldGU8L2xhYmVsPlxuICAgICAgPHVsIGNsYXNzTmFtZT1cInRvZG8tbGlzdFwiPlxuICAgICAgICB7ZGF0YS5maWx0ZXIoaXRlbSA9PiBpdGVtLmlzVmlzaWJsZSkubWFwKGl0ZW0gPT4gPFRvZG9JdGVtIGRhdGE9e2l0ZW19IGtleT17aXRlbS5pZH0gLz4pfVxuICAgICAgPC91bD5cbiAgICA8L3NlY3Rpb24+XG4gICk7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBSZWFjdC5tZW1vKFRvZG9zKTtcbiIsImltcG9ydCAqIGFzIGltbXV0YWJsZSBmcm9tICdvYmplY3QtcGF0aC1pbW11dGFibGUvaW5kZXgnO1xuXG5leHBvcnQgbmFtZXNwYWNlIHBhZ2Uge1xuICBleHBvcnQgY29uc3QgdHlwZSA9ICdQQUdFJztcbiAgZXhwb3J0IGNvbnN0IGRpc3BhdGNoID0gKHN0b3JlLCBwYWdlKSA9PiB7XG4gICAgc3RvcmUuZGlzcGF0Y2goe1xuICAgICAgdHlwZSxcbiAgICAgIHBhZ2VcbiAgICB9KTtcbiAgfTtcbiAgZXhwb3J0IGNvbnN0IHJlZHVjZSA9IChzdGF0ZSwgYWN0aW9uKSA9PiBpbW11dGFibGUoc3RhdGUpXG4gICAgLnNldCgnTWFpbi5vcHRpb25zLm1haW5QYWdlJywge30pXG4gICAgLnNldChgTWFpbi5vcHRpb25zLm1haW5QYWdlLiR7YWN0aW9uLnBhZ2V9YCwgdHJ1ZSlcbiAgICAudmFsdWUoKTtcbn1cblxuZXhwb3J0IG5hbWVzcGFjZSBpbml0IHtcbiAgZXhwb3J0IGNvbnN0IHR5cGUgPSAnaW5pdCc7XG4gIGV4cG9ydCBjb25zdCBkaXNwYXRjaCA9IChzdG9yZSwgZGF0YSwgb3B0aW9ucykgPT4ge1xuICAgIHN0b3JlLmRpc3BhdGNoKHtcbiAgICAgIHR5cGUsXG4gICAgICBkYXRhLFxuICAgICAgb3B0aW9uc1xuICAgIH0pO1xuICB9O1xuICBleHBvcnQgY29uc3QgcmVkdWNlID0gKHN0YXRlLCBhY3Rpb24pID0+IGltbXV0YWJsZShzdGF0ZSlcbiAgICAuc2V0KCdNYWluLnRvZG8uZGF0YScsIGFjdGlvbi5kYXRhKVxuICAgIC5zZXQoJ01haW4udG9kby5vcHRpb25zJywgYWN0aW9uLm9wdGlvbnMpXG4gICAgLnZhbHVlKCk7XG59XG5cbmV4cG9ydCBuYW1lc3BhY2UgYWRkIHtcbiAgZXhwb3J0IGNvbnN0IHR5cGUgPSAnYWRkJztcbiAgZXhwb3J0IGNvbnN0IGRpc3BhdGNoID0gKHN0b3JlLCBkYXRhLCBvcHRpb25zKSA9PiB7XG4gICAgc3RvcmUuZGlzcGF0Y2goe1xuICAgICAgdHlwZSxcbiAgICAgIGRhdGEsXG4gICAgICBvcHRpb25zXG4gICAgfSk7XG4gIH07XG4gIGV4cG9ydCBjb25zdCByZWR1Y2UgPSAoc3RhdGUsIGFjdGlvbikgPT4gaW1tdXRhYmxlKHN0YXRlKVxuICAgIC5zZXQoJ01haW4udG9kby5kYXRhJywgYWN0aW9uLmRhdGEpXG4gICAgLnNldCgnTWFpbi50b2RvLm9wdGlvbnMnLCBhY3Rpb24ub3B0aW9ucylcbiAgICAudmFsdWUoKTtcbn1cblxuZXhwb3J0IG5hbWVzcGFjZSBlZGl0IHtcbiAgZXhwb3J0IGNvbnN0IHR5cGUgPSAnZWRpdCc7XG4gIGV4cG9ydCBjb25zdCBkaXNwYXRjaCA9IChzdG9yZSwgZGF0YSwgb3B0aW9ucykgPT4ge1xuICAgIHN0b3JlLmRpc3BhdGNoKHtcbiAgICAgIHR5cGUsXG4gICAgICBkYXRhLFxuICAgICAgb3B0aW9uc1xuICAgIH0pO1xuICB9O1xuICBleHBvcnQgY29uc3QgcmVkdWNlID0gKHN0YXRlLCBhY3Rpb24pID0+IGltbXV0YWJsZShzdGF0ZSlcbiAgICAuc2V0KCdNYWluLnRvZG8uZGF0YScsIGFjdGlvbi5kYXRhKVxuICAgIC5zZXQoJ01haW4udG9kby5vcHRpb25zJywgYWN0aW9uLm9wdGlvbnMpXG4gICAgLnZhbHVlKCk7XG59XG5cbmV4cG9ydCBuYW1lc3BhY2UgcmVtb3ZlIHtcbiAgZXhwb3J0IGNvbnN0IHR5cGUgPSAncmVtb3ZlJztcbiAgZXhwb3J0IGNvbnN0IGRpc3BhdGNoID0gKHN0b3JlLCBkYXRhLCBvcHRpb25zKSA9PiB7XG4gICAgc3RvcmUuZGlzcGF0Y2goe1xuICAgICAgdHlwZSxcbiAgICAgIGRhdGEsXG4gICAgICBvcHRpb25zXG4gICAgfSk7XG4gIH07XG4gIGV4cG9ydCBjb25zdCByZWR1Y2UgPSAoc3RhdGUsIGFjdGlvbikgPT4gaW1tdXRhYmxlKHN0YXRlKVxuICAgIC5zZXQoJ01haW4udG9kby5kYXRhJywgYWN0aW9uLmRhdGEpXG4gICAgLnNldCgnTWFpbi50b2RvLm9wdGlvbnMnLCBhY3Rpb24ub3B0aW9ucylcbiAgICAudmFsdWUoKTtcbn1cblxuZXhwb3J0IG5hbWVzcGFjZSB0b2dnbGUge1xuICBleHBvcnQgY29uc3QgdHlwZSA9ICd0b2dnbGUnO1xuICBleHBvcnQgY29uc3QgZGlzcGF0Y2ggPSAoc3RvcmUsIGRhdGEsIG9wdGlvbnMpID0+IHtcbiAgICBzdG9yZS5kaXNwYXRjaCh7XG4gICAgICB0eXBlLFxuICAgICAgZGF0YSxcbiAgICAgIG9wdGlvbnNcbiAgICB9KTtcbiAgfTtcbiAgZXhwb3J0IGNvbnN0IHJlZHVjZSA9IChzdGF0ZSwgYWN0aW9uKSA9PiBpbW11dGFibGUoc3RhdGUpXG4gICAgLnNldCgnTWFpbi50b2RvLmRhdGEnLCBhY3Rpb24uZGF0YSlcbiAgICAuc2V0KCdNYWluLnRvZG8ub3B0aW9ucycsIGFjdGlvbi5vcHRpb25zKVxuICAgIC52YWx1ZSgpO1xufVxuXG5leHBvcnQgbmFtZXNwYWNlIHRvZ2dsZUFsbCB7XG4gIGV4cG9ydCBjb25zdCB0eXBlID0gJ3RvZ2dsZUFsbCc7XG4gIGV4cG9ydCBjb25zdCBkaXNwYXRjaCA9IChzdG9yZSwgZGF0YSwgb3B0aW9ucykgPT4ge1xuICAgIHN0b3JlLmRpc3BhdGNoKHtcbiAgICAgIHR5cGUsXG4gICAgICBkYXRhLFxuICAgICAgb3B0aW9uc1xuICAgIH0pO1xuICB9O1xuICBleHBvcnQgY29uc3QgcmVkdWNlID0gKHN0YXRlLCBhY3Rpb24pID0+IGltbXV0YWJsZShzdGF0ZSlcbiAgICAuc2V0KCdNYWluLnRvZG8uZGF0YScsIGFjdGlvbi5kYXRhKVxuICAgIC5zZXQoJ01haW4udG9kby5vcHRpb25zJywgYWN0aW9uLm9wdGlvbnMpXG4gICAgLnZhbHVlKCk7XG59XG5cbmV4cG9ydCBuYW1lc3BhY2UgZmlsdGVyQnkge1xuICBleHBvcnQgY29uc3QgdHlwZSA9ICdmaWx0ZXJCeSc7XG4gIGV4cG9ydCBjb25zdCBkaXNwYXRjaCA9IChzdG9yZSwgZGF0YSwgb3B0aW9ucykgPT4ge1xuICAgIHN0b3JlLmRpc3BhdGNoKHtcbiAgICAgIHR5cGUsXG4gICAgICBkYXRhLFxuICAgICAgb3B0aW9uc1xuICAgIH0pO1xuICB9O1xuICBleHBvcnQgY29uc3QgcmVkdWNlID0gKHN0YXRlLCBhY3Rpb24pID0+IGltbXV0YWJsZShzdGF0ZSlcbiAgICAuc2V0KCdNYWluLnRvZG8uZGF0YScsIGFjdGlvbi5kYXRhKVxuICAgIC5zZXQoJ01haW4udG9kby5vcHRpb25zJywgYWN0aW9uLm9wdGlvbnMpXG4gICAgLnZhbHVlKCk7XG59XG5cbmV4cG9ydCBuYW1lc3BhY2UgcmVtb3ZlQ29tcGxldGVkIHtcbiAgZXhwb3J0IGNvbnN0IHR5cGUgPSAncmVtb3ZlQ29tcGxldGVkJztcbiAgZXhwb3J0IGNvbnN0IGRpc3BhdGNoID0gKHN0b3JlLCBkYXRhLCBvcHRpb25zKSA9PiB7XG4gICAgc3RvcmUuZGlzcGF0Y2goe1xuICAgICAgdHlwZSxcbiAgICAgIGRhdGEsXG4gICAgICBvcHRpb25zXG4gICAgfSk7XG4gIH07XG4gIGV4cG9ydCBjb25zdCByZWR1Y2UgPSAoc3RhdGUsIGFjdGlvbikgPT4gaW1tdXRhYmxlKHN0YXRlKVxuICAgIC5zZXQoJ01haW4udG9kby5kYXRhJywgYWN0aW9uLmRhdGEpXG4gICAgLnNldCgnTWFpbi50b2RvLm9wdGlvbnMnLCBhY3Rpb24ub3B0aW9ucylcbiAgICAudmFsdWUoKTtcbn1cblxuZXhwb3J0IG5hbWVzcGFjZSB0b2dnbGVFZGl0aW5nIHtcbiAgZXhwb3J0IGNvbnN0IHR5cGUgPSAndG9nZ2xlRWRpdGluZyc7XG4gIGV4cG9ydCBjb25zdCBkaXNwYXRjaCA9IChzdG9yZSwgZGF0YSwgb3B0aW9ucykgPT4ge1xuICAgIHN0b3JlLmRpc3BhdGNoKHtcbiAgICAgIHR5cGUsXG4gICAgICBkYXRhLFxuICAgICAgb3B0aW9uc1xuICAgIH0pO1xuICB9O1xuICBleHBvcnQgY29uc3QgcmVkdWNlID0gKHN0YXRlLCBhY3Rpb24pID0+IGltbXV0YWJsZShzdGF0ZSlcbiAgICAuc2V0KCdNYWluLnRvZG8uZGF0YScsIGFjdGlvbi5kYXRhKVxuICAgIC5zZXQoJ01haW4udG9kby5vcHRpb25zJywgYWN0aW9uLm9wdGlvbnMpXG4gICAgLnZhbHVlKCk7XG59XG5cbmV4cG9ydCBuYW1lc3BhY2UgbW9uaXRvclNhZ2Ege1xuICBleHBvcnQgY29uc3QgdHlwZSA9ICdtb25pdG9yU2FnYSc7XG4gIGV4cG9ydCBjb25zdCBkaXNwYXRjaCA9IChzdG9yZSwgZGF0YSkgPT4ge1xuICAgIHN0b3JlLmRpc3BhdGNoKHtcbiAgICAgIHR5cGUsXG4gICAgICBkYXRhXG4gICAgfSk7XG4gIH07XG4gIGV4cG9ydCBjb25zdCByZWR1Y2UgPSAoc3RhdGUsIGFjdGlvbikgPT4gaW1tdXRhYmxlKHN0YXRlKVxuICAgIC5zZXQoJ01haW4uc2FnYS50ZXN0JywgYWN0aW9uLmRhdGEpXG4gICAgLnNldCgnTWFpbi5zYWdhLnJlZHVjZXInLCAneW95bycpXG4gICAgLnZhbHVlKCk7XG59XG4iLCJpbXBvcnQgeyBTdG9yZSB9IGZyb20gJ3JlZHV4JztcbmltcG9ydCB7IFRvZG8sIE9wdGlvbnMgfSBmcm9tICdzcmMvY29uZmlnL2ludGVyZmFjZXMnO1xuXG5mdW5jdGlvbiBjb3B5KG9iaikge1xuICByZXR1cm4gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShvYmopKTtcbn1cblxuLy8gZ2V0IGNsYXNzZXNcbmV4cG9ydCBmdW5jdGlvbiBjbGFzc05hbWVzKGl0ZW0pIHtcbiAgbGV0IGNsYXNzTGlzdCA9ICcnO1xuICBpZiAoaXRlbS5pc0NvbXBsZXRlZCkge1xuICAgIGNsYXNzTGlzdCA9IGAke2NsYXNzTGlzdH0gY29tcGxldGVkYDtcbiAgfVxuICBpZiAoaXRlbS5pc0VkaXRpbmcpIHtcbiAgICBjbGFzc0xpc3QgPSBgJHtjbGFzc0xpc3R9IGVkaXRpbmdgO1xuICB9XG4gIHJldHVybiBjbGFzc0xpc3QudHJpbSgpO1xufVxuXG4vLyBnZXQgdHlwZSBmb3IgZmlsdGVyXG5leHBvcnQgZnVuY3Rpb24gZ2V0UHJvcChwcm9wOiBzdHJpbmcsIGhhc2g6c3RyaW5nKSB7XG4gIGxldCB0eXBlOnN0cmluZyA9ICdhbGwnO1xuICBsZXQgdXJsOnN0cmluZyA9ICcvJztcbiAgaWYgKGhhc2ggPT09ICcjLycpIHsgdHlwZSA9ICdhbGwnOyB1cmwgPSAnLyc7IH1cbiAgaWYgKGhhc2ggPT09ICcjL2FjdGl2ZScpIHsgdHlwZSA9ICdhY3RpdmUnOyB1cmwgPSAnL2FjdGl2ZSc7IH1cbiAgaWYgKGhhc2ggPT09ICcjL2NvbXBsZXRlZCcpIHsgdHlwZSA9ICdjb21wbGV0ZWQnOyB1cmwgPSAnL2NvbXBsZXRlZCc7IH1cbiAgaWYgKHByb3AgPT09ICd0eXBlJykge1xuICAgIHJldHVybiB0eXBlO1xuICB9XG4gIHJldHVybiB1cmw7XG59XG5cbi8vIGdlbmVyYXRlIHJhbmRvbSBpZFxuZXhwb3J0IGZ1bmN0aW9uIHJhbmRvbUlkKCkge1xuICByZXR1cm4gTWF0aC5yYW5kb20oKS50b1N0cmluZygzNikuc3Vic3RyaW5nKDIsIDE1KSArIE1hdGgucmFuZG9tKCkudG9TdHJpbmcoMzYpLnN1YnN0cmluZygyLCAxNSk7XG59XG5cbi8vIGdldCBhcnJheSBpbmRleCBieSBpdGVtIGlkIHByb3BcbmV4cG9ydCBmdW5jdGlvbiBnZXRJbmRleChhbGw6W1RvZG9dLCB0b2RvSWQ6c3RyaW5nKSB7XG4gIGxldCBmb3VuZEluZGV4ID0gLTE7XG4gIGZvciAobGV0IGluZGV4ID0gMDsgaW5kZXggPCBhbGwubGVuZ3RoOyBpbmRleCsrKSB7XG4gICAgY29uc3QgdG9kbyA9IGFsbFtpbmRleF07XG4gICAgaWYgKHRvZG8uaWQgPT09IHRvZG9JZCkge1xuICAgICAgZm91bmRJbmRleCA9IGluZGV4O1xuICAgIH1cbiAgfVxuICByZXR1cm4gZm91bmRJbmRleDtcbn1cblxuLy8gcmV0cm4gY29tcHV0ZWQgb3B0aW9uc1xuZXhwb3J0IGZ1bmN0aW9uIGNvbXB1dGVPcHRpb25zKHN0b3JlOlN0b3JlLCBkYXRhOltUb2RvXSkge1xuICBjb25zdCBzdGF0ZSA9IHN0b3JlLmdldFN0YXRlKCk7XG4gIGxldCBmaWx0ZXJTdGF0ZSA9IHtcbiAgICBhbGw6IHRydWVcbiAgfTtcbiAgaWYgKHN0YXRlICYmIHN0YXRlLk1haW4gJiYgc3RhdGUuTWFpbi50b2RvICYmIHN0YXRlLk1haW4udG9kby5vcHRpb25zICYmIHN0YXRlLk1haW4udG9kby5vcHRpb25zLmZpbHRlcikge1xuICAgIGZpbHRlclN0YXRlID0gT2JqZWN0LmFzc2lnbih7fSwgc3RhdGUuTWFpbi50b2RvLm9wdGlvbnMuZmlsdGVyKTtcbiAgfVxuICBjb25zdCBvcHRpb25zOk9wdGlvbnMgPSB7XG4gICAgY291bnRUb3RhbDogMCxcbiAgICBjb3VudENvbXBsZXRlOiAwLFxuICAgIGNvdW50Tm90Q29tcGxldGU6IDAsXG4gICAgaGFzQ29tcGxldGVkOiBmYWxzZSxcbiAgICBpc0FsbENvbXBsZXRlOiBmYWxzZSxcbiAgICBpc0VkaXRpbmc6IGZhbHNlLFxuICAgIGhhc0RhdGE6IGZhbHNlLFxuICAgIGlzT25lQ291bnQ6IGZhbHNlLFxuICAgIGZpbHRlcjogZmlsdGVyU3RhdGVcbiAgfTtcbiAgLy8gdG90YWxcbiAgb3B0aW9ucy5jb3VudFRvdGFsID0gZGF0YS5sZW5ndGg7XG4gIC8vIGNvdW50Q29tcGxldGUsIGNvdW50Tm90Q29tcGxldGVcbiAgZGF0YS5mb3JFYWNoKCh0b2RvOlRvZG8pID0+IHtcbiAgICBpZiAodG9kby5pc0NvbXBsZXRlZCkge1xuICAgICAgb3B0aW9ucy5jb3VudENvbXBsZXRlID0gb3B0aW9ucy5jb3VudENvbXBsZXRlICsgMTtcbiAgICB9IGVsc2Uge1xuICAgICAgb3B0aW9ucy5jb3VudE5vdENvbXBsZXRlID0gb3B0aW9ucy5jb3VudE5vdENvbXBsZXRlICsgMTtcbiAgICB9XG4gICAgaWYgKHRvZG8uaXNFZGl0aW5nKSB7XG4gICAgICBvcHRpb25zLmlzRWRpdGluZyA9IHRydWU7XG4gICAgfVxuICB9KTtcbiAgLy8gaGFzQ29tcGxldGVkXG4gIGlmIChvcHRpb25zLmNvdW50Q29tcGxldGUgPiAwKSB7XG4gICAgb3B0aW9ucy5oYXNDb21wbGV0ZWQgPSB0cnVlO1xuICB9XG4gIC8vIGlzQWxsQ29tcGxldGVcbiAgaWYgKGRhdGEubGVuZ3RoID09PSBvcHRpb25zLmNvdW50Q29tcGxldGUpIHtcbiAgICBvcHRpb25zLmlzQWxsQ29tcGxldGUgPSB0cnVlO1xuICB9XG4gIC8vIGhhc0RhdGFcbiAgaWYgKGRhdGEubGVuZ3RoID4gMCkge1xuICAgIG9wdGlvbnMuaGFzRGF0YSA9IHRydWU7XG4gIH1cbiAgLy8gaXNPbmVDb3VudFxuICBpZiAob3B0aW9ucy5jb3VudE5vdENvbXBsZXRlID09PSAxKSB7XG4gICAgb3B0aW9ucy5pc09uZUNvdW50ID0gdHJ1ZTtcbiAgfVxuICAvLyBzYXZlIGRhdGFcbiAgdHJ5IHtcbiAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgndG9kb3MtZHJtem4nLCBKU09OLnN0cmluZ2lmeShkYXRhKSk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gIH1cbiAgcmV0dXJuIG9wdGlvbnM7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjb21wdXRlSW5pdChzdG9yZTpTdG9yZSwgaGFzaDpzdHJpbmcpIHtcbiAgbGV0IGRhdGE6W1RvZG9dO1xuICB0cnkge1xuICAgIGRhdGEgPSA8W1RvZG9dPkpTT04ucGFyc2UoPGFueT5sb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndG9kb3MtZHJtem4nKSk7XG4gICAgLy8gcmVtb3ZlIGVkaXRpbmcgd2hlbiBsb2FkaW5nIGZyb20gbG9jYWwgc3RvcmFnZVxuICAgIGRhdGEuZm9yRWFjaCgodG9kbzpUb2RvKSA9PiB7XG4gICAgICB0b2RvLmlzRWRpdGluZyA9IGZhbHNlO1xuICAgIH0pO1xuICB9IGNhdGNoIChlcnJvcikge1xuICB9XG5cbiAgaWYgKCFkYXRhKSB7XG4gICAgZGF0YSA9IDxhbnk+W107XG4gIH1cbiAgLy8gY2FsYyBvcHRpb25zXG4gIGNvbnN0IG9wdGlvbnMgPSBjb21wdXRlT3B0aW9ucyhzdG9yZSwgZGF0YSk7XG4gIGNvbnN0IHR5cGUgPSBnZXRQcm9wKCd0eXBlJywgaGFzaCk7XG4gIG9wdGlvbnMuZmlsdGVyID0gPGFueT57fTtcbiAgb3B0aW9ucy5maWx0ZXJbdHlwZV0gPSB0cnVlO1xuICByZXR1cm4ge1xuICAgIGRhdGEsXG4gICAgb3B0aW9uc1xuICB9O1xufVxuXG4vKipcbiAqIEFkZHMgbmV3IHRvZG8gdG8gbGlzdCBvZiB0b2Rvc1xuICogQHBhcmFtIHN0b3JlIGluaXRpYWxpemVkIHJlZHV4IHN0b3JlXG4gKiBAcGFyYW0gdGV4dCB0ZXh0IG9mIHRoZSBuZXcgdG9kbyBpdGVtXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjb21wdXRlQWRkKHN0b3JlOlN0b3JlLCB0ZXh0OnN0cmluZykge1xuICAvLyBnZXQgY3VycmVudCBzdGF0ZVxuICBjb25zdCBzdGF0ZSA9IHN0b3JlLmdldFN0YXRlKCk7XG4gIC8vIGNvcHkgdG9kb3MgZGF0YSBmcm9tIHN0YXRlXG4gIGNvbnN0IGRhdGEgPSBjb3B5KHN0YXRlLk1haW4udG9kby5kYXRhKTtcbiAgLy8gc2V0IGluaXRpYWwgc3RhdGUgdmFyaWFibGVcbiAgbGV0IGlzVmlzaWJsZVN0YXRlID0gdHJ1ZTtcbiAgLy8gY2hlY2sgaWYgZmlsdGVyIGNvbXBsZXRlZCBpcyB0cnVlXG4gIGlmIChzdGF0ZS5NYWluLnRvZG8ub3B0aW9ucy5maWx0ZXIuY29tcGxldGVkKSB7XG4gICAgaXNWaXNpYmxlU3RhdGUgPSBmYWxzZTtcbiAgfVxuICAvLyBnZW5lcmF0ZSBpZFxuICBjb25zdCBpZCA9IHJhbmRvbUlkKCk7XG4gIC8vIHByZXBhcmUgdG9kbyBvYmplY3RcbiAgY29uc3QgdG9kbyA9IHtcbiAgICBpZCxcbiAgICB0ZXh0OiB0ZXh0LnRyaW0oKSxcbiAgICBpc0NvbXBsZXRlZDogZmFsc2UsXG4gICAgaXNWaXNpYmxlOiBpc1Zpc2libGVTdGF0ZVxuICB9O1xuICAvLyBhZGQgdG9kbyBvYmplY3QgdG8gY29waWVkIGRhdGEgbGlzdCB3aXRoIHRvZG9zXG4gIGRhdGEucHVzaCh0b2RvKTtcbiAgLy8gY2FsYyBvcHRpb25zXG4gIGNvbnN0IG9wdGlvbnMgPSBjb21wdXRlT3B0aW9ucyhzdG9yZSwgZGF0YSk7XG4gIHJldHVybiB7XG4gICAgZGF0YSxcbiAgICBvcHRpb25zXG4gIH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjb21wdXRlRWRpdChzdG9yZTpTdG9yZSwgdG9kb0lkOnN0cmluZywgdGV4dDpzdHJpbmcpIHtcbiAgY29uc3Qgc3RhdGUgPSBzdG9yZS5nZXRTdGF0ZSgpO1xuICBjb25zdCBkYXRhID0gY29weShzdGF0ZS5NYWluLnRvZG8uZGF0YSk7XG4gIGNvbnN0IGZvdW5kSW5kZXggPSBnZXRJbmRleChkYXRhLCB0b2RvSWQpO1xuICAvLyB1cGRhdGUgdGV4dFxuICBkYXRhW2ZvdW5kSW5kZXhdLnRleHQgPSB0ZXh0LnRyaW0oKTtcbiAgLy8gY2FsYyBvcHRpb25zXG4gIGNvbnN0IG9wdGlvbnMgPSBjb21wdXRlT3B0aW9ucyhzdG9yZSwgZGF0YSk7XG4gIHJldHVybiB7XG4gICAgZGF0YSxcbiAgICBvcHRpb25zXG4gIH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjb21wdXRlUmVtb3ZlKHN0b3JlOlN0b3JlLCB0b2RvSWQ6c3RyaW5nKSB7XG4gIGNvbnN0IHN0YXRlID0gc3RvcmUuZ2V0U3RhdGUoKTtcbiAgY29uc3QgZGF0YSA9IGNvcHkoc3RhdGUuTWFpbi50b2RvLmRhdGEpO1xuICBjb25zdCBmb3VuZEluZGV4ID0gZ2V0SW5kZXgoZGF0YSwgdG9kb0lkKTtcbiAgLy8gcmVtb3ZlIGl0ZW1cbiAgZGF0YS5zcGxpY2UoZm91bmRJbmRleCwgMSk7XG4gIC8vIGNhbGMgb3B0aW9uc1xuICBjb25zdCBvcHRpb25zID0gY29tcHV0ZU9wdGlvbnMoc3RvcmUsIGRhdGEpO1xuICByZXR1cm4ge1xuICAgIGRhdGEsXG4gICAgb3B0aW9uc1xuICB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY29tcHV0ZVRvZ2dsZShzdG9yZTpTdG9yZSwgdG9kb0lkOnN0cmluZykge1xuICBjb25zdCBzdGF0ZSA9IHN0b3JlLmdldFN0YXRlKCk7XG4gIGNvbnN0IGRhdGEgPSBjb3B5KHN0YXRlLk1haW4udG9kby5kYXRhKTtcbiAgY29uc3QgZm91bmRJbmRleCA9IGdldEluZGV4KGRhdGEsIHRvZG9JZCk7XG4gIC8vIHRvZ2dsZSBpdGVtXG4gIGRhdGFbZm91bmRJbmRleF0uaXNDb21wbGV0ZWQgPSBkYXRhW2ZvdW5kSW5kZXhdLmlzQ29tcGxldGVkID8gZmFsc2UgOiB0cnVlO1xuICAvLyBoaWRlIGlmIGZpbHRlcmVkXG4gIGlmIChzdGF0ZS5NYWluLnRvZG8ub3B0aW9ucy5maWx0ZXIuY29tcGxldGVkKSB7XG4gICAgZGF0YVtmb3VuZEluZGV4XS5pc1Zpc2libGUgPSBkYXRhW2ZvdW5kSW5kZXhdLmlzQ29tcGxldGVkID8gdHJ1ZSA6IGZhbHNlO1xuICB9XG4gIC8vIGhpZGUgaWYgZmlsdGVyZWRcbiAgaWYgKHN0YXRlLk1haW4udG9kby5vcHRpb25zLmZpbHRlci5hY3RpdmUpIHtcbiAgICBkYXRhW2ZvdW5kSW5kZXhdLmlzVmlzaWJsZSA9IGRhdGFbZm91bmRJbmRleF0uaXNDb21wbGV0ZWQgPyBmYWxzZSA6IHRydWUgO1xuICB9XG4gIC8vIGNhbGMgb3B0aW9uc1xuICBjb25zdCBvcHRpb25zID0gY29tcHV0ZU9wdGlvbnMoc3RvcmUsIGRhdGEpO1xuICByZXR1cm4ge1xuICAgIGRhdGEsXG4gICAgb3B0aW9uc1xuICB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY29tcHV0ZVRvZ2dsZUFsbChzdG9yZTpTdG9yZSkge1xuICBjb25zdCBzdGF0ZSA9IHN0b3JlLmdldFN0YXRlKCk7XG4gIGNvbnN0IGRhdGEgPSBjb3B5KHN0YXRlLk1haW4udG9kby5kYXRhKTtcbiAgbGV0IGFsbENvbXBsZXRlZCA9IHRydWU7XG4gIGRhdGEuZm9yRWFjaCgodG9kbzpUb2RvKSA9PiB7XG4gICAgaWYgKHRvZG8uaXNDb21wbGV0ZWQgPT09IGZhbHNlKSB7XG4gICAgICBhbGxDb21wbGV0ZWQgPSBmYWxzZTtcbiAgICB9XG4gIH0pO1xuICAvLyBpZiBhdCBsZWFzdCBvbmUgaXMgbm90IGNvbXBsZXRlIC0gbWFrZSBhbGwgY29tcGxldGVkXG4gIC8vIGlmIGFsbCBhcmUgY29tcGxldGVkIC0gbWFrZSBhbGwgbm90IGNvbXBsZXRlZFxuICBkYXRhLmZvckVhY2goKHRvZG86VG9kbykgPT4ge1xuICAgIGlmIChhbGxDb21wbGV0ZWQpIHtcbiAgICAgIHRvZG8uaXNDb21wbGV0ZWQgPSBmYWxzZTtcbiAgICAgIGlmIChzdGF0ZS5NYWluLnRvZG8ub3B0aW9ucy5maWx0ZXIuY29tcGxldGVkKSB7XG4gICAgICAgIHRvZG8uaXNWaXNpYmxlID0gZmFsc2U7XG4gICAgICB9XG4gICAgICBpZiAoc3RhdGUuTWFpbi50b2RvLm9wdGlvbnMuZmlsdGVyLmFjdGl2ZSkge1xuICAgICAgICB0b2RvLmlzVmlzaWJsZSA9IHRydWU7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHRvZG8uaXNDb21wbGV0ZWQgPSB0cnVlO1xuICAgICAgaWYgKHN0YXRlLk1haW4udG9kby5vcHRpb25zLmZpbHRlci5jb21wbGV0ZWQpIHtcbiAgICAgICAgdG9kby5pc1Zpc2libGUgPSB0cnVlO1xuICAgICAgfVxuICAgICAgaWYgKHN0YXRlLk1haW4udG9kby5vcHRpb25zLmZpbHRlci5hY3RpdmUpIHtcbiAgICAgICAgdG9kby5pc1Zpc2libGUgPSBmYWxzZTtcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xuICAvLyBjYWxjIG9wdGlvbnNcbiAgY29uc3Qgb3B0aW9ucyA9IGNvbXB1dGVPcHRpb25zKHN0b3JlLCBkYXRhKTtcbiAgcmV0dXJuIHtcbiAgICBkYXRhLFxuICAgIG9wdGlvbnNcbiAgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNvbXB1dGVGaWx0ZXJCeShzdG9yZTpTdG9yZSwgdHlwZSA9ICdhbGwnKSB7XG4gIGNvbnN0IHN0YXRlID0gc3RvcmUuZ2V0U3RhdGUoKTtcbiAgY29uc3QgZGF0YSA9IGNvcHkoc3RhdGUuTWFpbi50b2RvLmRhdGEpO1xuICBpZiAodHlwZSA9PT0gJ2FjdGl2ZScpIHtcbiAgICBkYXRhLmZvckVhY2goKHRvZG86VG9kbykgPT4ge1xuICAgICAgaWYgKHRvZG8uaXNDb21wbGV0ZWQgPT09IGZhbHNlKSB7XG4gICAgICAgIHRvZG8uaXNWaXNpYmxlID0gdHJ1ZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRvZG8uaXNWaXNpYmxlID0gZmFsc2U7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbiAgaWYgKHR5cGUgPT09ICdjb21wbGV0ZWQnKSB7XG4gICAgZGF0YS5mb3JFYWNoKCh0b2RvOlRvZG8pID0+IHtcbiAgICAgIGlmICh0b2RvLmlzQ29tcGxldGVkID09PSB0cnVlKSB7XG4gICAgICAgIHRvZG8uaXNWaXNpYmxlID0gdHJ1ZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRvZG8uaXNWaXNpYmxlID0gZmFsc2U7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbiAgaWYgKHR5cGUgPT09ICdhbGwnKSB7XG4gICAgZGF0YS5mb3JFYWNoKCh0b2RvOlRvZG8pID0+IHtcbiAgICAgIHRvZG8uaXNWaXNpYmxlID0gdHJ1ZTtcbiAgICB9KTtcbiAgfVxuICAvLyBjYWxjIG9wdGlvbnNcbiAgY29uc3Qgb3B0aW9ucyA9IGNvbXB1dGVPcHRpb25zKHN0b3JlLCBkYXRhKTtcbiAgb3B0aW9ucy5maWx0ZXIgPSA8YW55Pnt9O1xuICBvcHRpb25zLmZpbHRlclt0eXBlXSA9IHRydWU7XG4gIHJldHVybiB7XG4gICAgZGF0YSxcbiAgICBvcHRpb25zXG4gIH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjb21wdXRlUmVtb3ZlQ29tcGxldGVkKHN0b3JlOlN0b3JlKSB7XG4gIGNvbnN0IHN0YXRlID0gc3RvcmUuZ2V0U3RhdGUoKTtcbiAgY29uc3QgZGF0YVRlbXAgPSBjb3B5KHN0YXRlLk1haW4udG9kby5kYXRhKTtcbiAgLy8gcmVtb3ZlIGNvbXBsZXRlZFxuICBjb25zdCBkYXRhID0gPFtUb2RvXT5kYXRhVGVtcC5maWx0ZXIoKHRvZG86VG9kbykgPT4gdG9kby5pc0NvbXBsZXRlZCA9PT0gZmFsc2UpO1xuICAvLyBjYWxjIG9wdGlvbnNcbiAgY29uc3Qgb3B0aW9ucyA9IGNvbXB1dGVPcHRpb25zKHN0b3JlLCBkYXRhKTtcbiAgcmV0dXJuIHtcbiAgICBkYXRhLFxuICAgIG9wdGlvbnNcbiAgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNvbXB1dGVUb2dnbGVFZGl0KHN0b3JlOlN0b3JlLCB0b2RvSWQ6c3RyaW5nLCB0eXBlOnN0cmluZywgdGV4dDpzdHJpbmcpIHtcbiAgY29uc3Qgc3RhdGUgPSBzdG9yZS5nZXRTdGF0ZSgpO1xuICBjb25zdCBkYXRhID0gY29weShzdGF0ZS5NYWluLnRvZG8uZGF0YSk7XG4gIC8vIHRvZ2dsZSBlZGl0XG4gIGRhdGEuZm9yRWFjaCgodG9kbzpUb2RvKSA9PiB7XG4gICAgdG9kby5pc0VkaXRpbmcgPSBmYWxzZTtcbiAgfSk7XG4gIGlmICh0b2RvSWQgJiYgdHlwZSA9PT0gJ29uJykge1xuICAgIGNvbnN0IGZvdW5kSW5kZXggPSBnZXRJbmRleChkYXRhLCB0b2RvSWQpO1xuICAgIGlmIChmb3VuZEluZGV4ID4gLTEpIHtcbiAgICAgIGRhdGFbZm91bmRJbmRleF0uaXNFZGl0aW5nID0gdHJ1ZTtcbiAgICB9XG4gIH1cbiAgLy8gc2F2ZSB0ZXh0IG9uIG9mZlxuICBpZiAodG9kb0lkICYmIHRleHQgJiYgdHlwZSA9PT0gJ29mZicpIHtcbiAgICBjb25zdCBmb3VuZEluZGV4ID0gZ2V0SW5kZXgoZGF0YSwgdG9kb0lkKTtcbiAgICBkYXRhW2ZvdW5kSW5kZXhdLnRleHQgPSB0ZXh0O1xuICB9XG4gIC8vIGNhbGMgb3B0aW9uc1xuICBjb25zdCBvcHRpb25zID0gY29tcHV0ZU9wdGlvbnMoc3RvcmUsIGRhdGEpO1xuICByZXR1cm4ge1xuICAgIGRhdGEsXG4gICAgb3B0aW9uc1xuICB9O1xufVxuIiwiZXhwb3J0IGNvbnN0IHBsYWNlaG9sZGVyID0gKGh0bWwsIHByZWxvYWRlZFN0YXRlLCB2ZXJzaW9uKSA9PiBgPCFkb2N0eXBlIGh0bWw+XG48aHRtbCBsYW5nPVwiZW5cIj5cblx0PGhlYWQ+XG5cdFx0PG1ldGEgY2hhcnNldD1cInV0Zi04XCI+XG5cdFx0PG1ldGEgbmFtZT1cInZpZXdwb3J0XCIgY29udGVudD1cIndpZHRoPWRldmljZS13aWR0aCwgaW5pdGlhbC1zY2FsZT0xXCI+XG5cdFx0PHRpdGxlPkRybXpuIOKAoiBUb2RvTVZDPC90aXRsZT5cblx0XHQ8bGluayByZWw9XCJzdHlsZXNoZWV0XCIgaHJlZj1cIi9jc3MvYmFzZS5jc3NcIj5cblx0XHQ8bGluayByZWw9XCJzdHlsZXNoZWV0XCIgaHJlZj1cIi9jc3MvaW5kZXguY3NzXCI+XG5cdFx0PGxpbmsgcmVsPVwic3R5bGVzaGVldFwiIGhyZWY9XCIvY3NzL2FwcC5jc3NcIj5cblx0PC9oZWFkPlxuXHQ8Ym9keT5cblx0XHQ8ZGl2IGlkPVwicm9vdFwiPiR7aHRtbH08L2Rpdj5cblxuXHRcdDxmb290ZXIgY2xhc3M9XCJpbmZvXCI+XG5cdFx0XHQ8cD5Eb3VibGUtY2xpY2sgdG8gZWRpdCBhIHRvZG88L3A+XG5cdFx0XHQ8cD5DcmVhdGVkIGJ5IDxhIGhyZWY9XCJtYWlsdG86YWxleC50enZldGFub3ZAZ21haWwuY29tXCI+QWxleCBUenZldGFub3Y8L2E+PC9wPlxuXHRcdFx0PHA+UGFydCBvZiA8YSBocmVmPVwiaHR0cDovL3RvZG9tdmMuY29tXCI+VG9kb01WQzwvYT48L3A+XG5cdFx0PC9mb290ZXI+XG5cblx0XHQ8c2NyaXB0PlxuICAgICAgd2luZG93Ll9fUFJFTE9BREVEX1NUQVRFX18gPSAnJHtwcmVsb2FkZWRTdGF0ZX0nO1xuICAgIDwvc2NyaXB0PlxuXG5cdFx0PHNjcmlwdCBzcmM9XCIvanMvYmFzZS5qc1wiPjwvc2NyaXB0PlxuICAgIDxzY3JpcHQgdHlwZT1cInRleHQvamF2YXNjcmlwdFwiIHNyYz1cIi9qcy9tYWluLiR7dmVyc2lvbn0ubWluLmpzXCI+PC9zY3JpcHQ+XG4gIDwvYm9keT5cbjwvaHRtbD5gO1xuIiwiaW1wb3J0ICogYXMgYWN0aW9ucyBmcm9tICdzcmMvY29uZmlnL2FjdGlvbnMnO1xuaW1wb3J0IHsgY3JlYXRlU3RvcmUsIGFwcGx5TWlkZGxld2FyZSB9IGZyb20gJ3JlZHV4JztcbmltcG9ydCBjcmVhdGVTYWdhTWlkZGxld2FyZSBmcm9tICdyZWR1eC1zYWdhJztcbmltcG9ydCB7IGNvbXBvc2VXaXRoRGV2VG9vbHMgfSBmcm9tICdyZWR1eC1kZXZ0b29scy1leHRlbnNpb24nO1xuXG5pbXBvcnQgeyBhY3Rpb25SZWR1Y2VyLCBoeWRyYXRlIH0gZnJvbSAnZHJtem4tcmVkdXgnO1xuXG5leHBvcnQgY29uc3Qgc2FnYU1pZGRsZXdhcmUgPSBjcmVhdGVTYWdhTWlkZGxld2FyZSgpO1xuXG4vLyBleHBvcnQgZnVuY3Rpb24gdGhhdCBjcmVhdGVzIG5ldyBzdG9yZSBmb3Igc2VydmVyIHNpZGVcbmV4cG9ydCBjb25zdCBzdG9yZUNyZWF0ZSA9ICgpID0+IGNyZWF0ZVN0b3JlKGFjdGlvblJlZHVjZXIoYWN0aW9ucyksIGh5ZHJhdGUsIGNvbXBvc2VXaXRoRGV2VG9vbHMoYXBwbHlNaWRkbGV3YXJlKHNhZ2FNaWRkbGV3YXJlKSkpO1xuXG4vLyBpbml0IHRoZSBzdG9yZSBvbiBjbGllbnQgc2lkZVxuZXhwb3J0IGNvbnN0IHN0b3JlID0gc3RvcmVDcmVhdGUoKTtcbiIsImltcG9ydCB7IFN0b3JlIH0gZnJvbSAncmVkdXgnO1xuaW1wb3J0ICogYXMgYWN0aW9ucyBmcm9tICdzcmMvY29uZmlnL2FjdGlvbnMnO1xuaW1wb3J0IHtcbiAgY29tcHV0ZUluaXQsXG4gIGNvbXB1dGVBZGQsXG4gIGNvbXB1dGVFZGl0LFxuICBjb21wdXRlUmVtb3ZlLFxuICBjb21wdXRlVG9nZ2xlLFxuICBjb21wdXRlVG9nZ2xlQWxsLFxuICBjb21wdXRlRmlsdGVyQnksXG4gIGNvbXB1dGVSZW1vdmVDb21wbGV0ZWQsXG4gIGNvbXB1dGVUb2dnbGVFZGl0XG4gfSBmcm9tICdzcmMvY29uZmlnL2Z1bmN0aW9ucyc7XG5cbmV4cG9ydCBjb25zdCBUb2RvID0gKHN0b3JlOlN0b3JlKSA9PiB7XG4gIGNvbnN0IGluaXQgPSAoaGFzaDpzdHJpbmcpID0+IHtcbiAgICBjb25zdCB7IGRhdGEsIG9wdGlvbnMgfSA9IGNvbXB1dGVJbml0KHN0b3JlLCBoYXNoKTtcbiAgICBhY3Rpb25zLmluaXQuZGlzcGF0Y2goc3RvcmUsIGRhdGEsIG9wdGlvbnMpO1xuICB9O1xuXG4gIGNvbnN0IGFkZCA9ICh0ZXh0OnN0cmluZykgPT4ge1xuICAgIGNvbnN0IHsgZGF0YSwgb3B0aW9ucyB9ID0gY29tcHV0ZUFkZChzdG9yZSwgdGV4dCk7XG4gICAgYWN0aW9ucy5hZGQuZGlzcGF0Y2goc3RvcmUsIGRhdGEsIG9wdGlvbnMpO1xuICB9O1xuXG4gIGNvbnN0IGVkaXQgPSAodG9kb0lkOnN0cmluZywgdGV4dDpzdHJpbmcpID0+IHtcbiAgICBjb25zdCB7IGRhdGEsIG9wdGlvbnMgfSA9IGNvbXB1dGVFZGl0KHN0b3JlLCB0b2RvSWQsIHRleHQpO1xuICAgIGFjdGlvbnMuZWRpdC5kaXNwYXRjaChzdG9yZSwgZGF0YSwgb3B0aW9ucyk7XG4gIH07XG5cbiAgY29uc3QgcmVtb3ZlID0gKHRvZG9JZDpzdHJpbmcpID0+IHtcbiAgICBjb25zdCB7IGRhdGEsIG9wdGlvbnMgfSA9IGNvbXB1dGVSZW1vdmUoc3RvcmUsIHRvZG9JZCk7XG4gICAgYWN0aW9ucy5yZW1vdmUuZGlzcGF0Y2goc3RvcmUsIGRhdGEsIG9wdGlvbnMpO1xuICB9O1xuXG4gIGNvbnN0IHRvZ2dsZSA9ICh0b2RvSWQ6c3RyaW5nKSA9PiB7XG4gICAgY29uc3QgeyBkYXRhLCBvcHRpb25zIH0gPSBjb21wdXRlVG9nZ2xlKHN0b3JlLCB0b2RvSWQpO1xuICAgIGFjdGlvbnMudG9nZ2xlLmRpc3BhdGNoKHN0b3JlLCBkYXRhLCBvcHRpb25zKTtcbiAgfTtcblxuICBjb25zdCB0b2dnbGVBbGwgPSAoKSA9PiB7XG4gICAgY29uc3QgeyBkYXRhLCBvcHRpb25zIH0gPSBjb21wdXRlVG9nZ2xlQWxsKHN0b3JlKTtcbiAgICBhY3Rpb25zLnRvZ2dsZUFsbC5kaXNwYXRjaChzdG9yZSwgZGF0YSwgb3B0aW9ucyk7XG4gIH07XG5cbiAgY29uc3QgZmlsdGVyQnkgPSAodHlwZTpzdHJpbmcpID0+IHtcbiAgICBjb25zdCB7IGRhdGEsIG9wdGlvbnMgfSA9IGNvbXB1dGVGaWx0ZXJCeShzdG9yZSwgdHlwZSk7XG4gICAgYWN0aW9ucy5maWx0ZXJCeS5kaXNwYXRjaChzdG9yZSwgZGF0YSwgb3B0aW9ucyk7XG4gIH07XG5cbiAgY29uc3QgcmVtb3ZlQ29tcGxldGVkID0gKCkgPT4ge1xuICAgIGNvbnN0IHsgZGF0YSwgb3B0aW9ucyB9ID0gY29tcHV0ZVJlbW92ZUNvbXBsZXRlZChzdG9yZSk7XG4gICAgYWN0aW9ucy5yZW1vdmVDb21wbGV0ZWQuZGlzcGF0Y2goc3RvcmUsIGRhdGEsIG9wdGlvbnMpO1xuICB9O1xuXG4gIGNvbnN0IHRvZ2dsZUVkaXRpbmcgPSAodG9kb0lkOnN0cmluZywgdHlwZTpzdHJpbmcsIHRleHQ6c3RyaW5nKSA9PiB7XG4gICAgY29uc3QgeyBkYXRhLCBvcHRpb25zIH0gPSBjb21wdXRlVG9nZ2xlRWRpdChzdG9yZSwgdG9kb0lkLCB0eXBlLCB0ZXh0KTtcbiAgICBhY3Rpb25zLnRvZ2dsZUVkaXRpbmcuZGlzcGF0Y2goc3RvcmUsIGRhdGEsIG9wdGlvbnMpO1xuICB9O1xuXG4gIHJldHVybiB7XG4gICAgaW5pdCxcbiAgICBhZGQsXG4gICAgZWRpdCxcbiAgICByZW1vdmUsXG4gICAgdG9nZ2xlLFxuICAgIHRvZ2dsZUFsbCxcbiAgICBmaWx0ZXJCeSxcbiAgICByZW1vdmVDb21wbGV0ZWQsXG4gICAgdG9nZ2xlRWRpdGluZ1xuICB9O1xufTtcbiIsImltcG9ydCAqIGFzIGV4cHJlc3MgZnJvbSAnZXhwcmVzcyc7XG5pbXBvcnQgKiBhcyBjb21wcmVzc2lvbiBmcm9tICdjb21wcmVzc2lvbic7XG5pbXBvcnQgKiBhcyBodHRwIGZyb20gJ2h0dHAnO1xuaW1wb3J0ICogYXMgaHR0cHMgZnJvbSAnaHR0cHMnO1xuaW1wb3J0ICogYXMgZnMgZnJvbSAnZnMnO1xuXG5jb25zdCBQdXNoZXIgPSByZXF1aXJlKCdwdXNoZXInKTtcblxuaW1wb3J0ICogYXMganNTdHJpbmdFc2NhcGUgZnJvbSAnanMtc3RyaW5nLWVzY2FwZSc7XG5cbmltcG9ydCB7IHN0b3JlQ3JlYXRlIH0gZnJvbSAnc3JjL2NvbmZpZy9zdG9yZSc7XG5pbXBvcnQgeyBUb2RvIH0gZnJvbSAnc3JjL2NvbnRyb2xsZXJzL1RvZG9Db250cm9sbGVyJztcbmltcG9ydCB7IHBsYWNlaG9sZGVyIH0gZnJvbSAnc3JjL2NvbmZpZy9wbGFjZWhvbGRlcic7XG5cbi8vIGNvbW1lbnQgdGhpcyB0byBkaXNhYmxlIHJlYWN0XG5pbXBvcnQgeyBzc3IgfSBmcm9tICdkcm16bi1yZWFjdCc7XG5pbXBvcnQgQXBwIGZyb20gJ3NyYy9jb21wb25lbnRzL3Jvb3QnO1xuXG4vLyB1bmNvbW1lbnQgdGhpcyB0byBlbmFibGUgbXVzdGFjaGVcbi8vIGltcG9ydCB7IHNzciwgZ2V0VGVtcGxhdGVzIH0gZnJvbSAnZHJtem4tbXVzdGFjaGUnO1xuLy8gY29uc3QgdHBscyA9IHJlcXVpcmUuY29udGV4dCgnc3JjL211c3RhY2hlJywgdHJ1ZSwgL1xcLmh0bWwkLyk7XG4vLyBjb25zdCB7IHRlbXBsYXRlcywgY29udGFpbmVyIH0gPSBnZXRUZW1wbGF0ZXModHBscyk7XG5cbmNvbnN0IHB1c2hlciA9IG5ldyBQdXNoZXIoe1xuICBhcHBJZDogcHJvY2Vzcy5lbnYuYXBwSWQsXG4gIGtleTogcHJvY2Vzcy5lbnYua2V5LFxuICBzZWNyZXQ6IHByb2Nlc3MuZW52LnNlY3JldCxcbiAgY2x1c3RlcjogcHJvY2Vzcy5lbnYuY2x1c3RlclxufSk7XG5cbmNvbnN0IHZlcnNpb24gPSAnMC4wLjMnO1xuXG5jb25zdCBhcHAgPSBleHByZXNzKCk7XG5hcHAudXNlKGNvbXByZXNzaW9uKCkpO1xuXG5hcHAuZ2V0KCcvJywgYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gIGNvbnN0IHN0b3JlID0gc3RvcmVDcmVhdGUoKTtcbiAgYXdhaXQgVG9kbyhzdG9yZSkuaW5pdCgnLycpO1xuXG4gIC8vIGNvbW1lbnQgdGhpcyB0byBkaXNhYmxlIFJlYWN0IHJlbmRlclxuICBzc3IocGxhY2Vob2xkZXIsIEFwcCwgdmVyc2lvbikucmVuZGVyKHN0b3JlLCByZXEsIHJlcyk7XG5cbiAgLy8gdW5jb21tZW50IHRoaXMgdG8gZW5hYmxlIG11c3RhY2hlIHJlbmRlclxuICAvLyBzc3IocGxhY2Vob2xkZXIsIGNvbnRhaW5lciwgdGVtcGxhdGVzLCB2ZXJzaW9uKS5yZW5kZXIoc3RvcmUsIHJlcSwgcmVzKTtcblxufSk7XG5cbmFwcC5nZXQoJy9zZWNyZXQtbWVzc2FnZS86bWVzc2FnZScsIGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICBjb25zdCBtZXNzYWdlID0ganNTdHJpbmdFc2NhcGUocmVxLnBhcmFtcy5tZXNzYWdlKTtcbiAgcHVzaGVyLnRyaWdnZXIoJ2RybXpuJywgJ3NlY3JldC1tZXNzYWdlJywge1xuICAgIG1lc3NhZ2VcbiAgfSk7XG4gIHJlcy5zdGF0dXMoMjAwKS5lbmQoKTtcbn0pO1xuXG5hcHAudXNlKCcvJywgZXhwcmVzcy5zdGF0aWMoJ3B1YmxpYycpKTtcblxuY29uc3Qgc2VydmVyID0gaHR0cC5jcmVhdGVTZXJ2ZXIoYXBwKTtcbnNlcnZlci5saXN0ZW4ocHJvY2Vzcy5lbnYuUE9SVCk7XG5cbi8vIGNvbnN0IG9wdGlvbnMgPSB7XG4vLyAgIGtleTogZnMucmVhZEZpbGVTeW5jKCdjZXJ0LmtleScpLFxuLy8gICBjZXJ0OiBmcy5yZWFkRmlsZVN5bmMoJ2NlcnQuY3J0Jylcbi8vIH07XG5cbi8vIGNvbnN0IHNlcnZlciA9IGh0dHBzLmNyZWF0ZVNlcnZlcihvcHRpb25zLCBhcHApO1xuLy8gc2VydmVyLmxpc3Rlbig0NDMpO1xuIiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiY29tcHJlc3Npb25cIik7IiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiZHJtem4tcmVhY3RcIik7IiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiZHJtem4tcmVkdXhcIik7IiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiZXhwcmVzc1wiKTsiLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJodHRwXCIpOyIsIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcImpzLXN0cmluZy1lc2NhcGVcIik7IiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwib2JqZWN0LXBhdGgtaW1tdXRhYmxlL2luZGV4XCIpOyIsIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcInB1c2hlclwiKTsiLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJyZWFjdFwiKTsiLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJyZWFjdC1yZWR1eFwiKTsiLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJyZWR1eFwiKTsiLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJyZWR1eC1kZXZ0b29scy1leHRlbnNpb25cIik7IiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwicmVkdXgtc2FnYVwiKTsiXSwic291cmNlUm9vdCI6IiJ9