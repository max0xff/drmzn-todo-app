!function(t){var e={};function o(n){if(e[n])return e[n].exports;var a=e[n]={i:n,l:!1,exports:{}};return t[n].call(a.exports,a,a.exports,o),a.l=!0,a.exports}o.m=t,o.c=e,o.d=function(t,e,n){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},o.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)o.d(n,a,function(e){return t[e]}.bind(null,a));return n},o.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="",o(o.s="./src/server.ts")}({"./src/components/footer.tsx":function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=o("react");e.default=n.memo(t=>{const e=t.state.Main.todo.options;if(!e.hasData)return null;const o=e.isOneCount?"item":"items";return n.createElement("footer",{className:"footer"},n.createElement("span",{className:"todo-count"},n.createElement("strong",null,e.countNotComplete)," ",o," left"),n.createElement("ul",{className:"filters"},n.createElement("li",null,n.createElement("a",{className:e.filter.all?"selected":"",href:"#/"},"All")),n.createElement("li",null,n.createElement("a",{className:e.filter.active?"selected":"",href:"#/active"},"Active")),n.createElement("li",null,n.createElement("a",{className:e.filter.completed?"selected":"",href:"#/completed"},"Completed"))),(()=>{if(e.hasCompleted)return n.createElement("button",{className:"clear-completed"},"Clear completed")})())})},"./src/components/header.tsx":function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=o("react");e.default=n.memo(()=>n.createElement("div",{id:"header"},n.createElement("header",{className:"header"},n.createElement("h1",null,"todos"),n.createElement("input",{className:"new-todo",placeholder:"What needs to be done?",autoFocus:!0}))))},"./src/components/root.tsx":function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=o("react"),a=o("react-redux"),s=o("./src/components/header.tsx"),i=o("./src/components/footer.tsx"),c=o("./src/components/todos.tsx");e.default=a.connect(function(t){return t})(t=>n.createElement("section",{className:"todoapp"},n.createElement(s.default,null),n.createElement(c.default,{state:t.state}),n.createElement(i.default,{state:t.state})))},"./src/components/todo.tsx":function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=o("react"),a=o("./src/config/functions.ts");e.default=n.memo(t=>{const e=t.data;return n.createElement("li",{key:e.id,"data-id":e.id,className:a.classNames(e)},n.createElement("div",{className:"view"},n.createElement("input",{className:"toggle",type:"checkbox",checked:e.isCompleted,onChange:function(){}}),n.createElement("label",null,e.text),n.createElement("button",{className:"destroy"})),n.createElement("input",{type:"text",className:"edit",defaultValue:e.text,"data-text":e.text}))})},"./src/components/todos.tsx":function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=o("react"),a=o("./src/components/todo.tsx");e.default=n.memo(t=>{const e=t.state.Main.todo.data,o=t.state.Main.todo.options;if(!o.hasData)return null;return n.createElement("section",{className:"main"},n.createElement("input",{id:"toggle-all",className:"toggle-all",type:"checkbox",checked:o.isAllComplete,onChange:function(){}}),n.createElement("label",{htmlFor:"toggle-all"},"Mark all as complete"),n.createElement("ul",{className:"todo-list"},e.filter(t=>t.isVisible).map(t=>n.createElement(a.default,{data:t,key:t.id}))))})},"./src/config/actions.ts":function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=o("object-path-immutable/index");var a,s;(a=e.page||(e.page={})).type="PAGE",a.dispatch=((t,e)=>{t.dispatch({type:a.type,page:e})}),a.reduce=((t,e)=>n(t).set("Main.options.mainPage",{}).set(`Main.options.mainPage.${e.page}`,!0).value()),function(t){t.type="INIT",t.dispatch=((e,o,n)=>{e.dispatch({type:t.type,data:o,options:n})}),t.reduce=((t,e)=>n(t).set("Main.todo.data",e.data).set("Main.todo.options",e.options).value())}(e.init||(e.init={})),(s=e.options||(e.options={})).type="OPTIONS",s.dispatch=((t,e)=>{t.dispatch({type:s.type,options:e})}),s.reduce=((t,e)=>n(t).set("Main.todo.options",e.options).value()),function(t){t.type="TODO_ADD",t.dispatch=((e,o)=>{e.dispatch({type:t.type,data:o})}),t.reduce=((t,e)=>n(t).set("Main.todo.data",e.data).value())}(e.add||(e.add={})),function(t){t.type="TODO_EDIT",t.dispatch=((e,o)=>{e.dispatch({type:t.type,data:o})}),t.reduce=((t,e)=>n(t).set("Main.todo.data",e.data).value())}(e.edit||(e.edit={})),function(t){t.type="TODO_REMOVE",t.dispatch=((e,o)=>{e.dispatch({type:t.type,data:o})}),t.reduce=((t,e)=>n(t).set("Main.todo.data",e.data).value())}(e.remove||(e.remove={})),function(t){t.type="TODO_TOGGLE",t.dispatch=((e,o)=>{e.dispatch({type:t.type,data:o})}),t.reduce=((t,e)=>n(t).set("Main.todo.data",e.data).value())}(e.toggle||(e.toggle={})),function(t){t.type="TODO_TOGGLE_ALL",t.dispatch=((e,o)=>{e.dispatch({type:t.type,data:o})}),t.reduce=((t,e)=>n(t).set("Main.todo.data",e.data).value())}(e.toggleAll||(e.toggleAll={})),function(t){t.type="TODO_FILTER_BY",t.dispatch=((e,o,n)=>{e.dispatch({type:t.type,data:o,filter:n})}),t.reduce=((t,e)=>n(t).set("Main.todo.data",e.data).set("Main.todo.options.filter",{}).set(`Main.todo.options.filter.${e.filter}`,!0).value())}(e.filterBy||(e.filterBy={})),function(t){t.type="TODO_REMOVE_COMPLETED",t.dispatch=((e,o)=>{e.dispatch({type:t.type,data:o})}),t.reduce=((t,e)=>n(t).set("Main.todo.data",e.data).value())}(e.removeCompleted||(e.removeCompleted={})),function(t){t.type="TODO_TOGGLE_EDITING",t.dispatch=((e,o)=>{e.dispatch({type:t.type,data:o})}),t.reduce=((t,e)=>n(t).set("Main.todo.data",e.data).value())}(e.toggleEditing||(e.toggleEditing={})),function(t){t.type="monitorSaga",t.dispatch=((e,o)=>{e.dispatch({type:t.type,data:o})}),t.reduce=((t,e)=>n(t).set("Main.saga.test",e.data).set("Main.saga.reducer","yoyo").value())}(e.monitorSaga||(e.monitorSaga={}))},"./src/config/functions.ts":function(t,e,o){"use strict";function n(t){return JSON.parse(JSON.stringify(t))}function a(t,e){let o="all",n="/";return"#/"===e&&(o="all",n="/"),"#/active"===e&&(o="active",n="/active"),"#/completed"===e&&(o="completed",n="/completed"),"type"===t?o:n}function s(){return Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15)}function i(t,e){let o=-1;for(let n=0;n<t.length;n++){t[n].id===e&&(o=n)}return o}function c(t,e){const o=t.getState();let n={all:!0};o&&o.Main&&o.Main.todo&&o.Main.todo.options&&o.Main.todo.options.filter&&(n=Object.assign({},o.Main.todo.options.filter));const a={countTotal:0,countComplete:0,countNotComplete:0,hasCompleted:!1,isAllComplete:!1,isEditing:!1,hasData:!1,isOneCount:!1,filter:n};a.countTotal=e.length,e.forEach(t=>{t.isCompleted?a.countComplete=a.countComplete+1:a.countNotComplete=a.countNotComplete+1,t.isEditing&&(a.isEditing=!0)}),a.countComplete>0&&(a.hasCompleted=!0),e.length===a.countComplete&&(a.isAllComplete=!0),e.length>0&&(a.hasData=!0),1===a.countNotComplete&&(a.isOneCount=!0);try{localStorage.setItem("todos-drmzn",JSON.stringify(e))}catch(t){}return a}Object.defineProperty(e,"__esModule",{value:!0}),e.classNames=function(t){let e="";return t.isCompleted&&(e=`${e} completed`),t.isEditing&&(e=`${e} editing`),e.trim()},e.getProp=a,e.randomId=s,e.getIndex=i,e.computeOptions=c,e.computeInit=function(t,e){let o;try{(o=JSON.parse(localStorage.getItem("todos-drmzn"))).forEach(t=>{t.isEditing=!1})}catch(t){}o||(o=[]);const n=c(t,o),s=a("type",e);return n.filter={},n.filter[s]=!0,{data:o,options:n}},e.computeAdd=function(t,e){const o=t.getState(),a=n(o.Main.todo.data);let i=!0;o.Main.todo.options.filter.completed&&(i=!1);const c={id:s(),text:e.trim(),isCompleted:!1,isVisible:i};return a.push(c),a},e.computeEdit=function(t,e,o){const a=n(t.getState().Main.todo.data);return a[i(a,e)].text=o.trim(),a},e.computeRemove=function(t,e){const o=n(t.getState().Main.todo.data),a=i(o,e);return o.splice(a,1),o},e.computeToggle=function(t,e){const o=t.getState(),a=n(o.Main.todo.data),s=i(a,e);return a[s].isCompleted=!a[s].isCompleted,o.Main.todo.options.filter.completed&&(a[s].isVisible=!!a[s].isCompleted),o.Main.todo.options.filter.active&&(a[s].isVisible=!a[s].isCompleted),a},e.computeToggleAll=function(t){const e=t.getState(),o=n(e.Main.todo.data);let a=!0;return o.forEach(t=>{!1===t.isCompleted&&(a=!1)}),o.forEach(t=>{a?(t.isCompleted=!1,e.Main.todo.options.filter.completed&&(t.isVisible=!1),e.Main.todo.options.filter.active&&(t.isVisible=!0)):(t.isCompleted=!0,e.Main.todo.options.filter.completed&&(t.isVisible=!0),e.Main.todo.options.filter.active&&(t.isVisible=!1))}),o},e.computeFilterBy=function(t,e="all"){const o=n(t.getState().Main.todo.data);return o.forEach(t=>{"active"===e?t.isVisible=!1===t.isCompleted:"completed"===e?t.isVisible=!0===t.isCompleted:"all"===e&&(t.isVisible=!0)}),o},e.computeRemoveCompleted=function(t){return n(t.getState().Main.todo.data).filter(t=>!1===t.isCompleted)},e.computeToggleEdit=function(t,e,o,a){const s=n(t.getState().Main.todo.data);if(s.forEach(t=>{t.isEditing=!1}),e&&"on"===o){const t=i(s,e);t>-1&&(s[t].isEditing=!0)}e&&a&&"off"===o&&(s[i(s,e)].text=a);return s}},"./src/config/placeholder.ts":function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.placeholder=((t,e,o)=>`<!doctype html>\n<html lang="en">\n\t<head>\n\t\t<meta charset="utf-8">\n\t\t<meta name="viewport" content="width=device-width, initial-scale=1">\n\t\t<title>Drmzn â€¢ TodoMVC</title>\n\t\t<link rel="stylesheet" href="/css/base.css">\n\t\t<link rel="stylesheet" href="/css/index.css">\n\t\t<link rel="stylesheet" href="/css/app.css">\n\t</head>\n\t<body>\n\t\t<div id="root">${t}</div>\n\n\t\t<footer class="info">\n\t\t\t<p>Double-click to edit a todo</p>\n\t\t\t<p>Created by <a href="mailto:alex.tzvetanov@gmail.com">Alex Tzvetanov</a></p>\n\t\t\t<p>Part of <a href="http://todomvc.com">TodoMVC</a></p>\n\t\t</footer>\n\n\t\t<script>\n      window.__PRELOADED_STATE__ = '${e}';\n    <\/script>\n\n    <script type="text/javascript" src="/js/main.${o}.min.js"><\/script>\n  </body>\n</html>`)},"./src/config/sagas.ts":function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=o("redux-saga/effects"),a=o("./src/config/store.ts"),s=o("./src/sagas/someSaga.ts"),i=o("./src/sagas/optionsSelectorSaga.ts");function*c(){yield n.all([i.default(),s.default()])}e.runSagas=function(){a.sagaMiddleware.run(c)}},"./src/config/store.ts":function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=o("./src/config/actions.ts"),a=o("redux"),s=o("redux-saga"),i=o("redux-devtools-extension"),c=o("drmzn-redux");e.sagaMiddleware=s.default(),e.storeCreate=(()=>a.createStore(c.actionReducer(n),c.hydrate,i.composeWithDevTools(a.applyMiddleware(e.sagaMiddleware)))),e.store=e.storeCreate()},"./src/controllers/TodoController.ts":function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=o("./src/config/actions.ts"),a=o("./src/config/functions.ts");e.Todo=(t=>{return{init:e=>{const{data:o,options:s}=a.computeInit(t,e);return n.init.dispatch(t,o,s),Promise.resolve()},add:e=>{const o=a.computeAdd(t,e);n.add.dispatch(t,o)},edit:(e,o)=>{const s=a.computeEdit(t,e,o);n.edit.dispatch(t,s)},remove:e=>{const o=a.computeRemove(t,e);n.remove.dispatch(t,o)},toggle:e=>{const o=a.computeToggle(t,e);n.toggle.dispatch(t,o)},toggleAll:()=>{const e=a.computeToggleAll(t);n.toggleAll.dispatch(t,e)},filterBy:e=>{const o=a.computeFilterBy(t,e);n.filterBy.dispatch(t,o,e)},removeCompleted:()=>{const e=a.computeRemoveCompleted(t);n.removeCompleted.dispatch(t,e)},toggleEditing:(e,o,s)=>{const i=a.computeToggleEdit(t,e,o,s);n.toggleEditing.dispatch(t,i)}}})},"./src/sagas/optionsSelectorSaga.ts":function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=o("redux-saga/effects"),a=o("./src/config/actions.ts"),s=o("./src/config/store.ts"),i=o("./src/config/functions.ts");function*c(t){"OPTIONS"===t.type&&(yield n.cancel());const e=yield s.store.getState();if(e&&e.Main&&e.Main.todo&&e.Main.todo.data){const t=yield i.computeOptions(s.store,e.Main.todo.data);yield a.options.dispatch(s.store,t)}}e.default=function*(){yield n.takeLatest(t=>/^TODO_/.test(t.type),c)}},"./src/sagas/someSaga.ts":function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=o("redux-saga/effects"),a=o("./src/config/actions.ts"),s=o("./src/config/store.ts");function*i(){yield n.delay(2e3),yield console.log("yoyo, added items?"),yield a.monitorSaga.dispatch(s.store,"testing action-reducer after add action")}e.default=function*(){yield n.takeLatest("ADD",i)}},"./src/server.ts":function(t,e,o){"use strict";var n=this&&this.__awaiter||function(t,e,o,n){return new(o||(o=Promise))(function(a,s){function i(t){try{r(n.next(t))}catch(t){s(t)}}function c(t){try{r(n.throw(t))}catch(t){s(t)}}function r(t){t.done?a(t.value):new o(function(e){e(t.value)}).then(i,c)}r((n=n.apply(t,e||[])).next())})};Object.defineProperty(e,"__esModule",{value:!0});const a=o("express"),s=o("compression"),i=o("http"),c=o("./src/config/store.ts"),r=o("./src/controllers/TodoController.ts"),l=o("./src/config/placeholder.ts"),d=o("./src/config/sagas.ts"),u=o("drmzn-react"),p=o("./src/components/root.tsx"),f=a();f.use(s()),f.get("/",(t,e)=>n(this,void 0,void 0,function*(){const o=c.storeCreate();d.runSagas(),yield r.Todo(o).init("/"),u.ssr(l.placeholder,p.default,"0.0.7").render(o,t,e)})),f.use("/",a.static("public")),i.createServer(f).listen(process.env.PORT)},compression:function(t,e){t.exports=require("compression")},"drmzn-react":function(t,e){t.exports=require("drmzn-react")},"drmzn-redux":function(t,e){t.exports=require("drmzn-redux")},express:function(t,e){t.exports=require("express")},http:function(t,e){t.exports=require("http")},"object-path-immutable/index":function(t,e){t.exports=require("object-path-immutable/index")},react:function(t,e){t.exports=require("react")},"react-redux":function(t,e){t.exports=require("react-redux")},redux:function(t,e){t.exports=require("redux")},"redux-devtools-extension":function(t,e){t.exports=require("redux-devtools-extension")},"redux-saga":function(t,e){t.exports=require("redux-saga")},"redux-saga/effects":function(t,e){t.exports=require("redux-saga/effects")}});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvZm9vdGVyLnRzeCIsIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9oZWFkZXIudHN4Iiwid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL3Jvb3QudHN4Iiwid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL3RvZG8udHN4Iiwid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL3RvZG9zLnRzeCIsIndlYnBhY2s6Ly8vLi9zcmMvY29uZmlnL2FjdGlvbnMudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbmZpZy9mdW5jdGlvbnMudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbmZpZy9wbGFjZWhvbGRlci50cyIsIndlYnBhY2s6Ly8vLi9zcmMvY29uZmlnL3NhZ2FzLnRzIiwid2VicGFjazovLy8uL3NyYy9jb25maWcvc3RvcmUudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbnRyb2xsZXJzL1RvZG9Db250cm9sbGVyLnRzIiwid2VicGFjazovLy8uL3NyYy9zYWdhcy9vcHRpb25zU2VsZWN0b3JTYWdhLnRzIiwid2VicGFjazovLy8uL3NyYy9zYWdhcy9zb21lU2FnYS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvc2VydmVyLnRzIiwid2VicGFjazovLy9leHRlcm5hbCBcImNvbXByZXNzaW9uXCIiLCJ3ZWJwYWNrOi8vL2V4dGVybmFsIFwiZHJtem4tcmVhY3RcIiIsIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJkcm16bi1yZWR1eFwiIiwid2VicGFjazovLy9leHRlcm5hbCBcImV4cHJlc3NcIiIsIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJodHRwXCIiLCJ3ZWJwYWNrOi8vL2V4dGVybmFsIFwib2JqZWN0LXBhdGgtaW1tdXRhYmxlL2luZGV4XCIiLCJ3ZWJwYWNrOi8vL2V4dGVybmFsIFwicmVhY3RcIiIsIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJyZWFjdC1yZWR1eFwiIiwid2VicGFjazovLy9leHRlcm5hbCBcInJlZHV4XCIiLCJ3ZWJwYWNrOi8vL2V4dGVybmFsIFwicmVkdXgtZGV2dG9vbHMtZXh0ZW5zaW9uXCIiLCJ3ZWJwYWNrOi8vL2V4dGVybmFsIFwicmVkdXgtc2FnYVwiIiwid2VicGFjazovLy9leHRlcm5hbCBcInJlZHV4LXNhZ2EvZWZmZWN0c1wiIl0sIm5hbWVzIjpbImluc3RhbGxlZE1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJleHBvcnRzIiwibW9kdWxlIiwiaSIsImwiLCJtb2R1bGVzIiwiY2FsbCIsIm0iLCJjIiwiZCIsIm5hbWUiLCJnZXR0ZXIiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0IiwiciIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwidmFsdWUiLCJ0IiwibW9kZSIsIl9fZXNNb2R1bGUiLCJucyIsImNyZWF0ZSIsImtleSIsImJpbmQiLCJuIiwib2JqZWN0IiwicHJvcGVydHkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsInAiLCJzIiwiUmVhY3QiLCJkZWZhdWx0IiwibWVtbyIsInByb3BzIiwib3B0aW9ucyIsInN0YXRlIiwiTWFpbiIsInRvZG8iLCJoYXNEYXRhIiwiaXRlbVR4dCIsImlzT25lQ291bnQiLCJjcmVhdGVFbGVtZW50IiwiY2xhc3NOYW1lIiwiY291bnROb3RDb21wbGV0ZSIsImZpbHRlciIsImFsbCIsImhyZWYiLCJhY3RpdmUiLCJjb21wbGV0ZWQiLCJoYXNDb21wbGV0ZWQiLCJjbGVhckNvbXBsZXRlZCIsImlkIiwicGxhY2Vob2xkZXIiLCJhdXRvRm9jdXMiLCJyZWFjdF9yZWR1eF8xIiwiaGVhZGVyXzEiLCJmb290ZXJfMSIsInRvZG9zXzEiLCJjb25uZWN0IiwiZnVuY3Rpb25zXzEiLCJpdGVtIiwiZGF0YSIsImRhdGEtaWQiLCJjbGFzc05hbWVzIiwidHlwZSIsImNoZWNrZWQiLCJpc0NvbXBsZXRlZCIsIm9uQ2hhbmdlIiwidGV4dCIsImRlZmF1bHRWYWx1ZSIsImRhdGEtdGV4dCIsInRvZG9fMSIsImlzQWxsQ29tcGxldGUiLCJodG1sRm9yIiwiaXNWaXNpYmxlIiwibWFwIiwiaW1tdXRhYmxlIiwicGFnZV8xIiwib3B0aW9uc18xIiwicGFnZSIsImRpc3BhdGNoIiwic3RvcmUiLCJyZWR1Y2UiLCJhY3Rpb24iLCJzZXQiLCJpbml0IiwiYWRkIiwiZWRpdCIsInJlbW92ZSIsInRvZ2dsZSIsInRvZ2dsZUFsbCIsImZpbHRlckJ5IiwicmVtb3ZlQ29tcGxldGVkIiwidG9nZ2xlRWRpdGluZyIsIm1vbml0b3JTYWdhIiwiY29weSIsIm9iaiIsIkpTT04iLCJwYXJzZSIsInN0cmluZ2lmeSIsImdldFByb3AiLCJwcm9wIiwiaGFzaCIsInVybCIsInJhbmRvbUlkIiwiTWF0aCIsInJhbmRvbSIsInRvU3RyaW5nIiwic3Vic3RyaW5nIiwiZ2V0SW5kZXgiLCJ0b2RvSWQiLCJmb3VuZEluZGV4IiwiaW5kZXgiLCJsZW5ndGgiLCJjb21wdXRlT3B0aW9ucyIsImdldFN0YXRlIiwiZmlsdGVyU3RhdGUiLCJhc3NpZ24iLCJjb3VudFRvdGFsIiwiY291bnRDb21wbGV0ZSIsImlzRWRpdGluZyIsImZvckVhY2giLCJsb2NhbFN0b3JhZ2UiLCJzZXRJdGVtIiwiZXJyb3IiLCJjbGFzc0xpc3QiLCJ0cmltIiwiY29tcHV0ZUluaXQiLCJnZXRJdGVtIiwiY29tcHV0ZUFkZCIsImlzVmlzaWJsZVN0YXRlIiwicHVzaCIsImNvbXB1dGVFZGl0IiwiY29tcHV0ZVJlbW92ZSIsInNwbGljZSIsImNvbXB1dGVUb2dnbGUiLCJjb21wdXRlVG9nZ2xlQWxsIiwiYWxsQ29tcGxldGVkIiwiY29tcHV0ZUZpbHRlckJ5IiwiY29tcHV0ZVJlbW92ZUNvbXBsZXRlZCIsImNvbXB1dGVUb2dnbGVFZGl0IiwiaHRtbCIsInByZWxvYWRlZFN0YXRlIiwidmVyc2lvbiIsImVmZmVjdHNfMSIsInN0b3JlXzEiLCJzb21lU2FnYV8xIiwib3B0aW9uc1NlbGVjdG9yU2FnYV8xIiwicm9vdFNhZ2EiLCJydW5TYWdhcyIsInNhZ2FNaWRkbGV3YXJlIiwicnVuIiwiYWN0aW9ucyIsInJlZHV4XzEiLCJyZWR1eF9zYWdhXzEiLCJyZWR1eF9kZXZ0b29sc19leHRlbnNpb25fMSIsImRybXpuX3JlZHV4XzEiLCJzdG9yZUNyZWF0ZSIsImNyZWF0ZVN0b3JlIiwiYWN0aW9uUmVkdWNlciIsImh5ZHJhdGUiLCJjb21wb3NlV2l0aERldlRvb2xzIiwiYXBwbHlNaWRkbGV3YXJlIiwiVG9kbyIsIlByb21pc2UiLCJyZXNvbHZlIiwiY29tcHV0ZU9wdGlvbnNBY3Rpb24iLCJjYW5jZWwiLCJ0YWtlTGF0ZXN0IiwidGVzdCIsInNvbWVBY3Rpb24iLCJkZWxheSIsImNvbnNvbGUiLCJsb2ciLCJleHByZXNzIiwiY29tcHJlc3Npb24iLCJodHRwIiwiVG9kb0NvbnRyb2xsZXJfMSIsInBsYWNlaG9sZGVyXzEiLCJzYWdhc18xIiwiZHJtem5fcmVhY3RfMSIsInJvb3RfMSIsImFwcCIsInVzZSIsInJlcSIsInJlcyIsIl9fYXdhaXRlciIsInRoaXMiLCJzc3IiLCJyZW5kZXIiLCJzdGF0aWMiLCJjcmVhdGVTZXJ2ZXIiLCJsaXN0ZW4iLCJwcm9jZXNzIiwiZW52IiwiUE9SVCIsInJlcXVpcmUiXSwibWFwcGluZ3MiOiJhQUNBLElBQUFBLEVBQUEsR0FHQSxTQUFBQyxFQUFBQyxHQUdBLEdBQUFGLEVBQUFFLEdBQ0EsT0FBQUYsRUFBQUUsR0FBQUMsUUFHQSxJQUFBQyxFQUFBSixFQUFBRSxHQUFBLENBQ0FHLEVBQUFILEVBQ0FJLEdBQUEsRUFDQUgsUUFBQSxJQVVBLE9BTkFJLEVBQUFMLEdBQUFNLEtBQUFKLEVBQUFELFFBQUFDLElBQUFELFFBQUFGLEdBR0FHLEVBQUFFLEdBQUEsRUFHQUYsRUFBQUQsUUFLQUYsRUFBQVEsRUFBQUYsRUFHQU4sRUFBQVMsRUFBQVYsRUFHQUMsRUFBQVUsRUFBQSxTQUFBUixFQUFBUyxFQUFBQyxHQUNBWixFQUFBYSxFQUFBWCxFQUFBUyxJ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QUEsUUFJQXVKLEVBQUF2SixFQUFBLHlCQUNBdUwsRUFBQXZMLEVBQUEsdUNBQ0F3TCxFQUFBeEwsRUFBQSwrQkFDQXlMLEVBQUF6TCxFQUFBLHlCQUdBMEwsRUFBQTFMLEVBQUEsZUFDQTJMLEVBQUEzTCxFQUFBLDZCQVNNNEwsRUFBTVIsSUFDWlEsRUFBSUMsSUFBSVIsS0FHUk8sRUFBSTNLLElBQUksSUFBSyxDQUFPNkssRUFBS0MsSUFBT0MsRUFBQUMsVUFBQSxxQkFDOUIsTUFBTTFHLEVBQVFnRSxFQUFBWSxjQUNkc0IsRUFBQTlCLGlCQUNNNEIsRUFBQWQsS0FBS2xGLEdBQU9JLEtBQUssS0FDdkIrRixFQUFBUSxJQUFJVixFQUFBOUgsWUFBYWlJLEVBQUF0SixRQVZILFNBVWlCOEosT0FBTzVHLEVBQU91RyxFQUFLQyxNQVdwREgsRUFBSUMsSUFBSSxJQUFLVCxFQUFRZ0IsT0FBTyxXQUViZCxFQUFLZSxhQUFhVCxHQUMxQlUsT0FBT0MsUUFBUUMsSUFBSUMsaUNDNUMxQnRNLEVBQUFELFFBQUF3TSxRQUFBLDRDQ0FBdk0sRUFBQUQsUUFBQXdNLFFBQUEsNENDQUF2TSxFQUFBRCxRQUFBd00sUUFBQSxzQ0NBQXZNLEVBQUFELFFBQUF3TSxRQUFBLCtCQ0FBdk0sRUFBQUQsUUFBQXdNLFFBQUEscURDQUF2TSxFQUFBRCxRQUFBd00sUUFBQSxvRENBQXZNLEVBQUFELFFBQUF3TSxRQUFBLHNDQ0FBdk0sRUFBQUQsUUFBQXdNLFFBQUEsb0NDQUF2TSxFQUFBRCxRQUFBd00sUUFBQSxtRENBQXZNLEVBQUFELFFBQUF3TSxRQUFBLHdEQ0FBdk0sRUFBQUQsUUFBQXdNLFFBQUEsa0RDQUF2TSxFQUFBRCxRQUFBd00sUUFBQSIsImZpbGUiOiJzZXJ2ZXIuanMiLCJzb3VyY2VzQ29udGVudCI6WyIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBnZXR0ZXIgfSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbiBcdFx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG4gXHRcdH1cbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbiBcdH07XG5cbiBcdC8vIGNyZWF0ZSBhIGZha2UgbmFtZXNwYWNlIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDE6IHZhbHVlIGlzIGEgbW9kdWxlIGlkLCByZXF1aXJlIGl0XG4gXHQvLyBtb2RlICYgMjogbWVyZ2UgYWxsIHByb3BlcnRpZXMgb2YgdmFsdWUgaW50byB0aGUgbnNcbiBcdC8vIG1vZGUgJiA0OiByZXR1cm4gdmFsdWUgd2hlbiBhbHJlYWR5IG5zIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDh8MTogYmVoYXZlIGxpa2UgcmVxdWlyZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy50ID0gZnVuY3Rpb24odmFsdWUsIG1vZGUpIHtcbiBcdFx0aWYobW9kZSAmIDEpIHZhbHVlID0gX193ZWJwYWNrX3JlcXVpcmVfXyh2YWx1ZSk7XG4gXHRcdGlmKG1vZGUgJiA4KSByZXR1cm4gdmFsdWU7XG4gXHRcdGlmKChtb2RlICYgNCkgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAmJiB2YWx1ZS5fX2VzTW9kdWxlKSByZXR1cm4gdmFsdWU7XG4gXHRcdHZhciBucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18ucihucyk7XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShucywgJ2RlZmF1bHQnLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2YWx1ZSB9KTtcbiBcdFx0aWYobW9kZSAmIDIgJiYgdHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSBmb3IodmFyIGtleSBpbiB2YWx1ZSkgX193ZWJwYWNrX3JlcXVpcmVfXy5kKG5zLCBrZXksIGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gdmFsdWVba2V5XTsgfS5iaW5kKG51bGwsIGtleSkpO1xuIFx0XHRyZXR1cm4gbnM7XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gXCIuL3NyYy9zZXJ2ZXIudHNcIik7XG4iLCJpbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBPcHRpb25zIH0gZnJvbSAnc3JjL2NvbmZpZy9pbnRlcmZhY2VzJztcblxuY29uc3QgRm9vdGVyID0gKHByb3BzKSA9PiB7XG4gIGNvbnN0IG9wdGlvbnM6T3B0aW9ucyA9IHByb3BzLnN0YXRlLk1haW4udG9kby5vcHRpb25zO1xuICBpZiAoIW9wdGlvbnMuaGFzRGF0YSkgcmV0dXJuIG51bGw7XG4gIGNvbnN0IGl0ZW1UeHQgPSBvcHRpb25zLmlzT25lQ291bnQgPyAnaXRlbScgOiAnaXRlbXMnO1xuICBjb25zdCBjbGVhckNvbXBsZXRlZCA9ICgpID0+IHtcbiAgICBpZiAob3B0aW9ucy5oYXNDb21wbGV0ZWQpIHtcbiAgICAgIHJldHVybiA8YnV0dG9uIGNsYXNzTmFtZT1cImNsZWFyLWNvbXBsZXRlZFwiPkNsZWFyIGNvbXBsZXRlZDwvYnV0dG9uPjtcbiAgICB9XG4gIH07XG4gIHJldHVybiAoXG4gICAgPGZvb3RlciBjbGFzc05hbWU9XCJmb290ZXJcIj5cbiAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRvZG8tY291bnRcIj48c3Ryb25nPntvcHRpb25zLmNvdW50Tm90Q29tcGxldGV9PC9zdHJvbmc+IHtpdGVtVHh0fSBsZWZ0PC9zcGFuPlxuICAgICAgICA8dWwgY2xhc3NOYW1lPVwiZmlsdGVyc1wiPlxuICAgICAgICAgIDxsaT48YSBjbGFzc05hbWU9e29wdGlvbnMuZmlsdGVyLmFsbCA/ICdzZWxlY3RlZCcgOiAnJ30gaHJlZj1cIiMvXCI+QWxsPC9hPjwvbGk+XG4gICAgICAgICAgPGxpPjxhIGNsYXNzTmFtZT17b3B0aW9ucy5maWx0ZXIuYWN0aXZlID8gJ3NlbGVjdGVkJyA6ICcnfSBocmVmPVwiIy9hY3RpdmVcIj5BY3RpdmU8L2E+PC9saT5cbiAgICAgICAgICA8bGk+PGEgY2xhc3NOYW1lPXtvcHRpb25zLmZpbHRlci5jb21wbGV0ZWQgPyAnc2VsZWN0ZWQnIDogJyd9IGhyZWY9XCIjL2NvbXBsZXRlZFwiPkNvbXBsZXRlZDwvYT48L2xpPlxuICAgICAgICA8L3VsPlxuICAgICAgICB7Y2xlYXJDb21wbGV0ZWQoKX1cbiAgICA8L2Zvb3Rlcj5cbiAgKTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IFJlYWN0Lm1lbW8oRm9vdGVyKTtcbiIsImltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcblxuY29uc3QgSGVhZGVyID0gKCkgPT4ge1xuICByZXR1cm4gKFxuICAgIDxkaXYgaWQ9XCJoZWFkZXJcIj5cbiAgICAgIDxoZWFkZXIgY2xhc3NOYW1lPVwiaGVhZGVyXCI+XG4gICAgICAgIDxoMT50b2RvczwvaDE+XG4gICAgICAgIDxpbnB1dCBjbGFzc05hbWU9XCJuZXctdG9kb1wiIHBsYWNlaG9sZGVyPVwiV2hhdCBuZWVkcyB0byBiZSBkb25lP1wiIGF1dG9Gb2N1cz17dHJ1ZX0gLz5cbiAgICAgIDwvaGVhZGVyPlxuICAgIDwvZGl2PlxuICApO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgUmVhY3QubWVtbyhIZWFkZXIpO1xuIiwiaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgY29ubmVjdCB9IGZyb20gJ3JlYWN0LXJlZHV4JztcblxuaW1wb3J0IEhlYWRlciBmcm9tICdzcmMvY29tcG9uZW50cy9oZWFkZXInO1xuaW1wb3J0IEZvb3RlciBmcm9tICdzcmMvY29tcG9uZW50cy9mb290ZXInO1xuaW1wb3J0IFRvZG9zIGZyb20gJ3NyYy9jb21wb25lbnRzL3RvZG9zJztcblxuZnVuY3Rpb24gbWFwU3RhdGVUb1Byb3BzKHN0YXRlKSB7XG4gIHJldHVybiBzdGF0ZTtcbn1cblxuY29uc3QgQXBwID0gKHByb3BzKSA9PiB7XG4gIHJldHVybiAoXG4gICAgPHNlY3Rpb24gY2xhc3NOYW1lPVwidG9kb2FwcFwiPlxuICAgICAgPEhlYWRlciAvPlxuICAgICAgPFRvZG9zIHN0YXRlPXtwcm9wcy5zdGF0ZX0gLz5cbiAgICAgIDxGb290ZXIgc3RhdGU9e3Byb3BzLnN0YXRlfSAvPlxuICAgIDwvc2VjdGlvbj5cbiAgKTtcbn07XG5cbi8vIGV4cG9ydCBkZWZhdWx0IEFwcDtcbmV4cG9ydCBkZWZhdWx0IGNvbm5lY3QobWFwU3RhdGVUb1Byb3BzKShBcHApO1xuIiwiaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgY2xhc3NOYW1lcyB9IGZyb20gJ3NyYy9jb25maWcvZnVuY3Rpb25zJztcbmltcG9ydCB7IFRvZG8gfSBmcm9tICdzcmMvY29uZmlnL2ludGVyZmFjZXMnO1xuXG5jb25zdCBUb2RvSXRlbSA9IChwcm9wcykgPT4ge1xuICBjb25zdCBpdGVtOlRvZG8gPSBwcm9wcy5kYXRhO1xuICBmdW5jdGlvbiBoYW5kbGVDaGFuZ2UoKSB7fVxuICByZXR1cm4gKFxuICAgIDxsaSBrZXk9e2l0ZW0uaWR9IGRhdGEtaWQ9e2l0ZW0uaWR9IGNsYXNzTmFtZT17Y2xhc3NOYW1lcyhpdGVtKX0+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInZpZXdcIj5cbiAgICAgIDxpbnB1dCBjbGFzc05hbWU9XCJ0b2dnbGVcIiB0eXBlPVwiY2hlY2tib3hcIiBjaGVja2VkPXtpdGVtLmlzQ29tcGxldGVkfSBvbkNoYW5nZT17aGFuZGxlQ2hhbmdlfSAvPlxuICAgICAgICA8bGFiZWw+e2l0ZW0udGV4dH08L2xhYmVsPlxuICAgICAgICA8YnV0dG9uIGNsYXNzTmFtZT1cImRlc3Ryb3lcIi8+XG4gICAgICA8L2Rpdj5cbiAgICAgIDxpbnB1dCB0eXBlPVwidGV4dFwiIGNsYXNzTmFtZT1cImVkaXRcIiBkZWZhdWx0VmFsdWU9e2l0ZW0udGV4dH0gZGF0YS10ZXh0PXtpdGVtLnRleHR9IC8+XG4gICAgPC9saT5cbiAgKTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IFJlYWN0Lm1lbW8oVG9kb0l0ZW0pO1xuIiwiaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgVG9kbywgT3B0aW9ucyB9IGZyb20gJ3NyYy9jb25maWcvaW50ZXJmYWNlcyc7XG5pbXBvcnQgVG9kb0l0ZW0gZnJvbSAnc3JjL2NvbXBvbmVudHMvdG9kbyc7XG5cbmNvbnN0IFRvZG9zID0gKHByb3BzKSA9PiB7XG4gIGNvbnN0IGRhdGE6W1RvZG9dID0gcHJvcHMuc3RhdGUuTWFpbi50b2RvLmRhdGE7XG4gIGNvbnN0IG9wdGlvbnM6T3B0aW9ucyA9IHByb3BzLnN0YXRlLk1haW4udG9kby5vcHRpb25zO1xuICBpZiAoIW9wdGlvbnMuaGFzRGF0YSkgcmV0dXJuIG51bGw7XG4gIGZ1bmN0aW9uIGhhbmRsZUNoYW5nZSgpIHt9XG4gIHJldHVybiAoXG4gICAgPHNlY3Rpb24gY2xhc3NOYW1lPVwibWFpblwiPlxuICAgICAgPGlucHV0IGlkPVwidG9nZ2xlLWFsbFwiIGNsYXNzTmFtZT1cInRvZ2dsZS1hbGxcIiB0eXBlPVwiY2hlY2tib3hcIiBjaGVja2VkPXtvcHRpb25zLmlzQWxsQ29tcGxldGV9IG9uQ2hhbmdlPXtoYW5kbGVDaGFuZ2V9IC8+XG4gICAgICA8bGFiZWwgaHRtbEZvcj1cInRvZ2dsZS1hbGxcIj5NYXJrIGFsbCBhcyBjb21wbGV0ZTwvbGFiZWw+XG4gICAgICA8dWwgY2xhc3NOYW1lPVwidG9kby1saXN0XCI+XG4gICAgICAgIHtkYXRhLmZpbHRlcihpdGVtID0+IGl0ZW0uaXNWaXNpYmxlKS5tYXAoaXRlbSA9PiA8VG9kb0l0ZW0gZGF0YT17aXRlbX0ga2V5PXtpdGVtLmlkfSAvPil9XG4gICAgICA8L3VsPlxuICAgIDwvc2VjdGlvbj5cbiAgKTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IFJlYWN0Lm1lbW8oVG9kb3MpO1xuIiwiaW1wb3J0ICogYXMgaW1tdXRhYmxlIGZyb20gJ29iamVjdC1wYXRoLWltbXV0YWJsZS9pbmRleCc7XG5cbmV4cG9ydCBuYW1lc3BhY2UgcGFnZSB7XG4gIGV4cG9ydCBjb25zdCB0eXBlID0gJ1BBR0UnO1xuICBleHBvcnQgY29uc3QgZGlzcGF0Y2ggPSAoc3RvcmUsIHBhZ2UpID0+IHtcbiAgICBzdG9yZS5kaXNwYXRjaCh7XG4gICAgICB0eXBlLFxuICAgICAgcGFnZVxuICAgIH0pO1xuICB9O1xuICBleHBvcnQgY29uc3QgcmVkdWNlID0gKHN0YXRlLCBhY3Rpb24pID0+IGltbXV0YWJsZShzdGF0ZSlcbiAgICAuc2V0KCdNYWluLm9wdGlvbnMubWFpblBhZ2UnLCB7fSlcbiAgICAuc2V0KGBNYWluLm9wdGlvbnMubWFpblBhZ2UuJHthY3Rpb24ucGFnZX1gLCB0cnVlKVxuICAgIC52YWx1ZSgpO1xufVxuXG5leHBvcnQgbmFtZXNwYWNlIGluaXQge1xuICBleHBvcnQgY29uc3QgdHlwZSA9ICdJTklUJztcbiAgZXhwb3J0IGNvbnN0IGRpc3BhdGNoID0gKHN0b3JlLCBkYXRhLCBvcHRpb25zKSA9PiB7XG4gICAgc3RvcmUuZGlzcGF0Y2goe1xuICAgICAgdHlwZSxcbiAgICAgIGRhdGEsXG4gICAgICBvcHRpb25zXG4gICAgfSk7XG4gIH07XG4gIGV4cG9ydCBjb25zdCByZWR1Y2UgPSAoc3RhdGUsIGFjdGlvbikgPT4gaW1tdXRhYmxlKHN0YXRlKVxuICAgIC5zZXQoJ01haW4udG9kby5kYXRhJywgYWN0aW9uLmRhdGEpXG4gICAgLnNldCgnTWFpbi50b2RvLm9wdGlvbnMnLCBhY3Rpb24ub3B0aW9ucylcbiAgICAudmFsdWUoKTtcbn1cblxuZXhwb3J0IG5hbWVzcGFjZSBvcHRpb25zIHtcbiAgZXhwb3J0IGNvbnN0IHR5cGUgPSAnT1BUSU9OUyc7XG4gIGV4cG9ydCBjb25zdCBkaXNwYXRjaCA9IChzdG9yZSwgb3B0aW9ucykgPT4ge1xuICAgIHN0b3JlLmRpc3BhdGNoKHtcbiAgICAgIHR5cGUsXG4gICAgICBvcHRpb25zXG4gICAgfSk7XG4gIH07XG4gIGV4cG9ydCBjb25zdCByZWR1Y2UgPSAoc3RhdGUsIGFjdGlvbikgPT4gaW1tdXRhYmxlKHN0YXRlKVxuICAgIC5zZXQoJ01haW4udG9kby5vcHRpb25zJywgYWN0aW9uLm9wdGlvbnMpXG4gICAgLnZhbHVlKCk7XG59XG5cbmV4cG9ydCBuYW1lc3BhY2UgYWRkIHtcbiAgZXhwb3J0IGNvbnN0IHR5cGUgPSAnVE9ET19BREQnO1xuICBleHBvcnQgY29uc3QgZGlzcGF0Y2ggPSAoc3RvcmUsIGRhdGEpID0+IHtcbiAgICBzdG9yZS5kaXNwYXRjaCh7XG4gICAgICB0eXBlLFxuICAgICAgZGF0YVxuICAgIH0pO1xuICB9O1xuICBleHBvcnQgY29uc3QgcmVkdWNlID0gKHN0YXRlLCBhY3Rpb24pID0+IGltbXV0YWJsZShzdGF0ZSlcbiAgICAuc2V0KCdNYWluLnRvZG8uZGF0YScsIGFjdGlvbi5kYXRhKVxuICAgIC52YWx1ZSgpO1xufVxuXG5leHBvcnQgbmFtZXNwYWNlIGVkaXQge1xuICBleHBvcnQgY29uc3QgdHlwZSA9ICdUT0RPX0VESVQnO1xuICBleHBvcnQgY29uc3QgZGlzcGF0Y2ggPSAoc3RvcmUsIGRhdGEpID0+IHtcbiAgICBzdG9yZS5kaXNwYXRjaCh7XG4gICAgICB0eXBlLFxuICAgICAgZGF0YVxuICAgIH0pO1xuICB9O1xuICBleHBvcnQgY29uc3QgcmVkdWNlID0gKHN0YXRlLCBhY3Rpb24pID0+IGltbXV0YWJsZShzdGF0ZSlcbiAgICAuc2V0KCdNYWluLnRvZG8uZGF0YScsIGFjdGlvbi5kYXRhKVxuICAgIC52YWx1ZSgpO1xufVxuXG5leHBvcnQgbmFtZXNwYWNlIHJlbW92ZSB7XG4gIGV4cG9ydCBjb25zdCB0eXBlID0gJ1RPRE9fUkVNT1ZFJztcbiAgZXhwb3J0IGNvbnN0IGRpc3BhdGNoID0gKHN0b3JlLCBkYXRhKSA9PiB7XG4gICAgc3RvcmUuZGlzcGF0Y2goe1xuICAgICAgdHlwZSxcbiAgICAgIGRhdGFcbiAgICB9KTtcbiAgfTtcbiAgZXhwb3J0IGNvbnN0IHJlZHVjZSA9IChzdGF0ZSwgYWN0aW9uKSA9PiBpbW11dGFibGUoc3RhdGUpXG4gICAgLnNldCgnTWFpbi50b2RvLmRhdGEnLCBhY3Rpb24uZGF0YSlcbiAgICAudmFsdWUoKTtcbn1cblxuZXhwb3J0IG5hbWVzcGFjZSB0b2dnbGUge1xuICBleHBvcnQgY29uc3QgdHlwZSA9ICdUT0RPX1RPR0dMRSc7XG4gIGV4cG9ydCBjb25zdCBkaXNwYXRjaCA9IChzdG9yZSwgZGF0YSkgPT4ge1xuICAgIHN0b3JlLmRpc3BhdGNoKHtcbiAgICAgIHR5cGUsXG4gICAgICBkYXRhXG4gICAgfSk7XG4gIH07XG4gIGV4cG9ydCBjb25zdCByZWR1Y2UgPSAoc3RhdGUsIGFjdGlvbikgPT4gaW1tdXRhYmxlKHN0YXRlKVxuICAgIC5zZXQoJ01haW4udG9kby5kYXRhJywgYWN0aW9uLmRhdGEpXG4gICAgLnZhbHVlKCk7XG59XG5cbmV4cG9ydCBuYW1lc3BhY2UgdG9nZ2xlQWxsIHtcbiAgZXhwb3J0IGNvbnN0IHR5cGUgPSAnVE9ET19UT0dHTEVfQUxMJztcbiAgZXhwb3J0IGNvbnN0IGRpc3BhdGNoID0gKHN0b3JlLCBkYXRhKSA9PiB7XG4gICAgc3RvcmUuZGlzcGF0Y2goe1xuICAgICAgdHlwZSxcbiAgICAgIGRhdGFcbiAgICB9KTtcbiAgfTtcbiAgZXhwb3J0IGNvbnN0IHJlZHVjZSA9IChzdGF0ZSwgYWN0aW9uKSA9PiBpbW11dGFibGUoc3RhdGUpXG4gICAgLnNldCgnTWFpbi50b2RvLmRhdGEnLCBhY3Rpb24uZGF0YSlcbiAgICAudmFsdWUoKTtcbn1cblxuZXhwb3J0IG5hbWVzcGFjZSBmaWx0ZXJCeSB7XG4gIGV4cG9ydCBjb25zdCB0eXBlID0gJ1RPRE9fRklMVEVSX0JZJztcbiAgZXhwb3J0IGNvbnN0IGRpc3BhdGNoID0gKHN0b3JlLCBkYXRhLCBmaWx0ZXIpID0+IHtcbiAgICBzdG9yZS5kaXNwYXRjaCh7XG4gICAgICB0eXBlLFxuICAgICAgZGF0YSxcbiAgICAgIGZpbHRlclxuICAgIH0pO1xuICB9O1xuICBleHBvcnQgY29uc3QgcmVkdWNlID0gKHN0YXRlLCBhY3Rpb24pID0+IGltbXV0YWJsZShzdGF0ZSlcbiAgLnNldCgnTWFpbi50b2RvLmRhdGEnLCBhY3Rpb24uZGF0YSlcbiAgLnNldCgnTWFpbi50b2RvLm9wdGlvbnMuZmlsdGVyJywge30pXG4gIC5zZXQoYE1haW4udG9kby5vcHRpb25zLmZpbHRlci4ke2FjdGlvbi5maWx0ZXJ9YCwgdHJ1ZSlcbiAgLnZhbHVlKCk7XG59XG5cbmV4cG9ydCBuYW1lc3BhY2UgcmVtb3ZlQ29tcGxldGVkIHtcbiAgZXhwb3J0IGNvbnN0IHR5cGUgPSAnVE9ET19SRU1PVkVfQ09NUExFVEVEJztcbiAgZXhwb3J0IGNvbnN0IGRpc3BhdGNoID0gKHN0b3JlLCBkYXRhKSA9PiB7XG4gICAgc3RvcmUuZGlzcGF0Y2goe1xuICAgICAgdHlwZSxcbiAgICAgIGRhdGFcbiAgICB9KTtcbiAgfTtcbiAgZXhwb3J0IGNvbnN0IHJlZHVjZSA9IChzdGF0ZSwgYWN0aW9uKSA9PiBpbW11dGFibGUoc3RhdGUpXG4gICAgLnNldCgnTWFpbi50b2RvLmRhdGEnLCBhY3Rpb24uZGF0YSlcbiAgICAudmFsdWUoKTtcbn1cblxuZXhwb3J0IG5hbWVzcGFjZSB0b2dnbGVFZGl0aW5nIHtcbiAgZXhwb3J0IGNvbnN0IHR5cGUgPSAnVE9ET19UT0dHTEVfRURJVElORyc7XG4gIGV4cG9ydCBjb25zdCBkaXNwYXRjaCA9IChzdG9yZSwgZGF0YSkgPT4ge1xuICAgIHN0b3JlLmRpc3BhdGNoKHtcbiAgICAgIHR5cGUsXG4gICAgICBkYXRhXG4gICAgfSk7XG4gIH07XG4gIGV4cG9ydCBjb25zdCByZWR1Y2UgPSAoc3RhdGUsIGFjdGlvbikgPT4gaW1tdXRhYmxlKHN0YXRlKVxuICAgIC5zZXQoJ01haW4udG9kby5kYXRhJywgYWN0aW9uLmRhdGEpXG4gICAgLnZhbHVlKCk7XG59XG5cbmV4cG9ydCBuYW1lc3BhY2UgbW9uaXRvclNhZ2Ege1xuICBleHBvcnQgY29uc3QgdHlwZSA9ICdtb25pdG9yU2FnYSc7XG4gIGV4cG9ydCBjb25zdCBkaXNwYXRjaCA9IChzdG9yZSwgZGF0YSkgPT4ge1xuICAgIHN0b3JlLmRpc3BhdGNoKHtcbiAgICAgIHR5cGUsXG4gICAgICBkYXRhXG4gICAgfSk7XG4gIH07XG4gIGV4cG9ydCBjb25zdCByZWR1Y2UgPSAoc3RhdGUsIGFjdGlvbikgPT4gaW1tdXRhYmxlKHN0YXRlKVxuICAgIC5zZXQoJ01haW4uc2FnYS50ZXN0JywgYWN0aW9uLmRhdGEpXG4gICAgLnNldCgnTWFpbi5zYWdhLnJlZHVjZXInLCAneW95bycpXG4gICAgLnZhbHVlKCk7XG59XG4iLCJpbXBvcnQgeyBTdG9yZSB9IGZyb20gJ3JlZHV4JztcbmltcG9ydCB7IFRvZG8sIE9wdGlvbnMgfSBmcm9tICdzcmMvY29uZmlnL2ludGVyZmFjZXMnO1xuXG5mdW5jdGlvbiBjb3B5KG9iaikge1xuICByZXR1cm4gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShvYmopKTtcbn1cblxuLy8gZ2V0IGNsYXNzZXNcbmV4cG9ydCBmdW5jdGlvbiBjbGFzc05hbWVzKGl0ZW0pIHtcbiAgbGV0IGNsYXNzTGlzdCA9ICcnO1xuICBpZiAoaXRlbS5pc0NvbXBsZXRlZCkge1xuICAgIGNsYXNzTGlzdCA9IGAke2NsYXNzTGlzdH0gY29tcGxldGVkYDtcbiAgfVxuICBpZiAoaXRlbS5pc0VkaXRpbmcpIHtcbiAgICBjbGFzc0xpc3QgPSBgJHtjbGFzc0xpc3R9IGVkaXRpbmdgO1xuICB9XG4gIHJldHVybiBjbGFzc0xpc3QudHJpbSgpO1xufVxuXG4vLyBnZXQgdHlwZSBmb3IgZmlsdGVyXG5leHBvcnQgZnVuY3Rpb24gZ2V0UHJvcChwcm9wOiBzdHJpbmcsIGhhc2g6c3RyaW5nKSB7XG4gIGxldCB0eXBlOnN0cmluZyA9ICdhbGwnO1xuICBsZXQgdXJsOnN0cmluZyA9ICcvJztcbiAgaWYgKGhhc2ggPT09ICcjLycpIHsgdHlwZSA9ICdhbGwnOyB1cmwgPSAnLyc7IH1cbiAgaWYgKGhhc2ggPT09ICcjL2FjdGl2ZScpIHsgdHlwZSA9ICdhY3RpdmUnOyB1cmwgPSAnL2FjdGl2ZSc7IH1cbiAgaWYgKGhhc2ggPT09ICcjL2NvbXBsZXRlZCcpIHsgdHlwZSA9ICdjb21wbGV0ZWQnOyB1cmwgPSAnL2NvbXBsZXRlZCc7IH1cbiAgaWYgKHByb3AgPT09ICd0eXBlJykge1xuICAgIHJldHVybiB0eXBlO1xuICB9XG4gIHJldHVybiB1cmw7XG59XG5cbi8vIGdlbmVyYXRlIHJhbmRvbSBpZFxuZXhwb3J0IGZ1bmN0aW9uIHJhbmRvbUlkKCkge1xuICByZXR1cm4gTWF0aC5yYW5kb20oKS50b1N0cmluZygzNikuc3Vic3RyaW5nKDIsIDE1KSArIE1hdGgucmFuZG9tKCkudG9TdHJpbmcoMzYpLnN1YnN0cmluZygyLCAxNSk7XG59XG5cbi8vIGdldCBhcnJheSBpbmRleCBieSBpdGVtIGlkIHByb3BcbmV4cG9ydCBmdW5jdGlvbiBnZXRJbmRleChhbGw6W1RvZG9dLCB0b2RvSWQ6c3RyaW5nKSB7XG4gIGxldCBmb3VuZEluZGV4ID0gLTE7XG4gIGZvciAobGV0IGluZGV4ID0gMDsgaW5kZXggPCBhbGwubGVuZ3RoOyBpbmRleCsrKSB7XG4gICAgY29uc3QgdG9kbyA9IGFsbFtpbmRleF07XG4gICAgaWYgKHRvZG8uaWQgPT09IHRvZG9JZCkge1xuICAgICAgZm91bmRJbmRleCA9IGluZGV4O1xuICAgIH1cbiAgfVxuICByZXR1cm4gZm91bmRJbmRleDtcbn1cblxuLy8gcmV0cm4gY29tcHV0ZWQgb3B0aW9uc1xuZXhwb3J0IGZ1bmN0aW9uIGNvbXB1dGVPcHRpb25zKHN0b3JlOlN0b3JlLCBkYXRhOltUb2RvXSkge1xuICBjb25zdCBzdGF0ZSA9IHN0b3JlLmdldFN0YXRlKCk7XG4gIGxldCBmaWx0ZXJTdGF0ZSA9IHtcbiAgICBhbGw6IHRydWVcbiAgfTtcbiAgaWYgKHN0YXRlICYmIHN0YXRlLk1haW4gJiYgc3RhdGUuTWFpbi50b2RvICYmIHN0YXRlLk1haW4udG9kby5vcHRpb25zICYmIHN0YXRlLk1haW4udG9kby5vcHRpb25zLmZpbHRlcikge1xuICAgIGZpbHRlclN0YXRlID0gT2JqZWN0LmFzc2lnbih7fSwgc3RhdGUuTWFpbi50b2RvLm9wdGlvbnMuZmlsdGVyKTtcbiAgfVxuICBjb25zdCBvcHRpb25zOk9wdGlvbnMgPSB7XG4gICAgY291bnRUb3RhbDogMCxcbiAgICBjb3VudENvbXBsZXRlOiAwLFxuICAgIGNvdW50Tm90Q29tcGxldGU6IDAsXG4gICAgaGFzQ29tcGxldGVkOiBmYWxzZSxcbiAgICBpc0FsbENvbXBsZXRlOiBmYWxzZSxcbiAgICBpc0VkaXRpbmc6IGZhbHNlLFxuICAgIGhhc0RhdGE6IGZhbHNlLFxuICAgIGlzT25lQ291bnQ6IGZhbHNlLFxuICAgIGZpbHRlcjogZmlsdGVyU3RhdGVcbiAgfTtcbiAgLy8gdG90YWxcbiAgb3B0aW9ucy5jb3VudFRvdGFsID0gZGF0YS5sZW5ndGg7XG4gIC8vIGNvdW50Q29tcGxldGUsIGNvdW50Tm90Q29tcGxldGVcbiAgZGF0YS5mb3JFYWNoKCh0b2RvOlRvZG8pID0+IHtcbiAgICBpZiAodG9kby5pc0NvbXBsZXRlZCkge1xuICAgICAgb3B0aW9ucy5jb3VudENvbXBsZXRlID0gb3B0aW9ucy5jb3VudENvbXBsZXRlICsgMTtcbiAgICB9IGVsc2Uge1xuICAgICAgb3B0aW9ucy5jb3VudE5vdENvbXBsZXRlID0gb3B0aW9ucy5jb3VudE5vdENvbXBsZXRlICsgMTtcbiAgICB9XG4gICAgaWYgKHRvZG8uaXNFZGl0aW5nKSB7XG4gICAgICBvcHRpb25zLmlzRWRpdGluZyA9IHRydWU7XG4gICAgfVxuICB9KTtcbiAgLy8gaGFzQ29tcGxldGVkXG4gIGlmIChvcHRpb25zLmNvdW50Q29tcGxldGUgPiAwKSB7XG4gICAgb3B0aW9ucy5oYXNDb21wbGV0ZWQgPSB0cnVlO1xuICB9XG4gIC8vIGlzQWxsQ29tcGxldGVcbiAgaWYgKGRhdGEubGVuZ3RoID09PSBvcHRpb25zLmNvdW50Q29tcGxldGUpIHtcbiAgICBvcHRpb25zLmlzQWxsQ29tcGxldGUgPSB0cnVlO1xuICB9XG4gIC8vIGhhc0RhdGFcbiAgaWYgKGRhdGEubGVuZ3RoID4gMCkge1xuICAgIG9wdGlvbnMuaGFzRGF0YSA9IHRydWU7XG4gIH1cbiAgLy8gaXNPbmVDb3VudFxuICBpZiAob3B0aW9ucy5jb3VudE5vdENvbXBsZXRlID09PSAxKSB7XG4gICAgb3B0aW9ucy5pc09uZUNvdW50ID0gdHJ1ZTtcbiAgfVxuICAvLyBzYXZlIGRhdGFcbiAgdHJ5IHtcbiAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgndG9kb3MtZHJtem4nLCBKU09OLnN0cmluZ2lmeShkYXRhKSk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gIH1cbiAgcmV0dXJuIG9wdGlvbnM7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjb21wdXRlSW5pdChzdG9yZTpTdG9yZSwgaGFzaDpzdHJpbmcpIHtcbiAgbGV0IGRhdGE6W1RvZG9dO1xuICB0cnkge1xuICAgIGRhdGEgPSA8W1RvZG9dPkpTT04ucGFyc2UoPGFueT5sb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndG9kb3MtZHJtem4nKSk7XG4gICAgLy8gcmVtb3ZlIGVkaXRpbmcgd2hlbiBsb2FkaW5nIGZyb20gbG9jYWwgc3RvcmFnZVxuICAgIGRhdGEuZm9yRWFjaCgodG9kbzpUb2RvKSA9PiB7XG4gICAgICB0b2RvLmlzRWRpdGluZyA9IGZhbHNlO1xuICAgIH0pO1xuICB9IGNhdGNoIChlcnJvcikge1xuICB9XG5cbiAgaWYgKCFkYXRhKSB7XG4gICAgZGF0YSA9IDxhbnk+W107XG4gIH1cbiAgLy8gY2FsYyBvcHRpb25zXG4gIGNvbnN0IG9wdGlvbnMgPSBjb21wdXRlT3B0aW9ucyhzdG9yZSwgZGF0YSk7XG4gIGNvbnN0IHR5cGUgPSBnZXRQcm9wKCd0eXBlJywgaGFzaCk7XG4gIG9wdGlvbnMuZmlsdGVyID0gPGFueT57fTtcbiAgb3B0aW9ucy5maWx0ZXJbdHlwZV0gPSB0cnVlO1xuICByZXR1cm4ge1xuICAgIGRhdGEsXG4gICAgb3B0aW9uc1xuICB9O1xufVxuXG4vKipcbiAqIEFkZHMgbmV3IHRvZG8gdG8gbGlzdCBvZiB0b2Rvc1xuICogQHBhcmFtIHN0b3JlIGluaXRpYWxpemVkIHJlZHV4IHN0b3JlXG4gKiBAcGFyYW0gdGV4dCB0ZXh0IG9mIHRoZSBuZXcgdG9kbyBpdGVtXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjb21wdXRlQWRkKHN0b3JlOlN0b3JlLCB0ZXh0OnN0cmluZykge1xuICAvLyBnZXQgY3VycmVudCBzdGF0ZVxuICBjb25zdCBzdGF0ZSA9IHN0b3JlLmdldFN0YXRlKCk7XG4gIC8vIGNvcHkgdG9kb3MgZGF0YSBmcm9tIHN0YXRlXG4gIGNvbnN0IGRhdGEgPSBjb3B5KHN0YXRlLk1haW4udG9kby5kYXRhKTtcbiAgLy8gc2V0IGluaXRpYWwgc3RhdGUgdmFyaWFibGVcbiAgbGV0IGlzVmlzaWJsZVN0YXRlID0gdHJ1ZTtcbiAgLy8gY2hlY2sgaWYgZmlsdGVyIGNvbXBsZXRlZCBpcyB0cnVlXG4gIGlmIChzdGF0ZS5NYWluLnRvZG8ub3B0aW9ucy5maWx0ZXIuY29tcGxldGVkKSB7XG4gICAgaXNWaXNpYmxlU3RhdGUgPSBmYWxzZTtcbiAgfVxuICAvLyBnZW5lcmF0ZSBpZFxuICBjb25zdCBpZCA9IHJhbmRvbUlkKCk7XG4gIC8vIHByZXBhcmUgdG9kbyBvYmplY3RcbiAgY29uc3QgdG9kbyA9IHtcbiAgICBpZCxcbiAgICB0ZXh0OiB0ZXh0LnRyaW0oKSxcbiAgICBpc0NvbXBsZXRlZDogZmFsc2UsXG4gICAgaXNWaXNpYmxlOiBpc1Zpc2libGVTdGF0ZVxuICB9O1xuICAvLyBhZGQgdG9kbyBvYmplY3QgdG8gY29waWVkIGRhdGEgbGlzdCB3aXRoIHRvZG9zXG4gIGRhdGEucHVzaCh0b2RvKTtcbiAgcmV0dXJuIGRhdGE7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjb21wdXRlRWRpdChzdG9yZTpTdG9yZSwgdG9kb0lkOnN0cmluZywgdGV4dDpzdHJpbmcpIHtcbiAgY29uc3Qgc3RhdGUgPSBzdG9yZS5nZXRTdGF0ZSgpO1xuICBjb25zdCBkYXRhID0gY29weShzdGF0ZS5NYWluLnRvZG8uZGF0YSk7XG4gIGNvbnN0IGZvdW5kSW5kZXggPSBnZXRJbmRleChkYXRhLCB0b2RvSWQpO1xuICAvLyB1cGRhdGUgdGV4dFxuICBkYXRhW2ZvdW5kSW5kZXhdLnRleHQgPSB0ZXh0LnRyaW0oKTtcbiAgcmV0dXJuIGRhdGE7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjb21wdXRlUmVtb3ZlKHN0b3JlOlN0b3JlLCB0b2RvSWQ6c3RyaW5nKSB7XG4gIGNvbnN0IHN0YXRlID0gc3RvcmUuZ2V0U3RhdGUoKTtcbiAgY29uc3QgZGF0YSA9IGNvcHkoc3RhdGUuTWFpbi50b2RvLmRhdGEpO1xuICBjb25zdCBmb3VuZEluZGV4ID0gZ2V0SW5kZXgoZGF0YSwgdG9kb0lkKTtcbiAgLy8gcmVtb3ZlIGl0ZW1cbiAgZGF0YS5zcGxpY2UoZm91bmRJbmRleCwgMSk7XG4gIHJldHVybiBkYXRhO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY29tcHV0ZVRvZ2dsZShzdG9yZTpTdG9yZSwgdG9kb0lkOnN0cmluZykge1xuICBjb25zdCBzdGF0ZSA9IHN0b3JlLmdldFN0YXRlKCk7XG4gIGNvbnN0IGRhdGEgPSBjb3B5KHN0YXRlLk1haW4udG9kby5kYXRhKTtcbiAgY29uc3QgZm91bmRJbmRleCA9IGdldEluZGV4KGRhdGEsIHRvZG9JZCk7XG4gIC8vIHRvZ2dsZSBpdGVtXG4gIGRhdGFbZm91bmRJbmRleF0uaXNDb21wbGV0ZWQgPSBkYXRhW2ZvdW5kSW5kZXhdLmlzQ29tcGxldGVkID8gZmFsc2UgOiB0cnVlO1xuICAvLyBoaWRlIGlmIGZpbHRlcmVkXG4gIGlmIChzdGF0ZS5NYWluLnRvZG8ub3B0aW9ucy5maWx0ZXIuY29tcGxldGVkKSB7XG4gICAgZGF0YVtmb3VuZEluZGV4XS5pc1Zpc2libGUgPSBkYXRhW2ZvdW5kSW5kZXhdLmlzQ29tcGxldGVkID8gdHJ1ZSA6IGZhbHNlO1xuICB9XG4gIC8vIGhpZGUgaWYgZmlsdGVyZWRcbiAgaWYgKHN0YXRlLk1haW4udG9kby5vcHRpb25zLmZpbHRlci5hY3RpdmUpIHtcbiAgICBkYXRhW2ZvdW5kSW5kZXhdLmlzVmlzaWJsZSA9IGRhdGFbZm91bmRJbmRleF0uaXNDb21wbGV0ZWQgPyBmYWxzZSA6IHRydWU7XG4gIH1cbiAgcmV0dXJuIGRhdGE7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjb21wdXRlVG9nZ2xlQWxsKHN0b3JlOlN0b3JlKSB7XG4gIGNvbnN0IHN0YXRlID0gc3RvcmUuZ2V0U3RhdGUoKTtcbiAgY29uc3QgZGF0YSA9IGNvcHkoc3RhdGUuTWFpbi50b2RvLmRhdGEpO1xuICBsZXQgYWxsQ29tcGxldGVkID0gdHJ1ZTtcbiAgZGF0YS5mb3JFYWNoKCh0b2RvOlRvZG8pID0+IHtcbiAgICBpZiAodG9kby5pc0NvbXBsZXRlZCA9PT0gZmFsc2UpIHtcbiAgICAgIGFsbENvbXBsZXRlZCA9IGZhbHNlO1xuICAgIH1cbiAgfSk7XG4gIC8vIGlmIGF0IGxlYXN0IG9uZSBpcyBub3QgY29tcGxldGUgLSBtYWtlIGFsbCBjb21wbGV0ZWRcbiAgLy8gaWYgYWxsIGFyZSBjb21wbGV0ZWQgLSBtYWtlIGFsbCBub3QgY29tcGxldGVkXG4gIGRhdGEuZm9yRWFjaCgodG9kbzpUb2RvKSA9PiB7XG4gICAgaWYgKGFsbENvbXBsZXRlZCkge1xuICAgICAgdG9kby5pc0NvbXBsZXRlZCA9IGZhbHNlO1xuICAgICAgaWYgKHN0YXRlLk1haW4udG9kby5vcHRpb25zLmZpbHRlci5jb21wbGV0ZWQpIHtcbiAgICAgICAgdG9kby5pc1Zpc2libGUgPSBmYWxzZTtcbiAgICAgIH1cbiAgICAgIGlmIChzdGF0ZS5NYWluLnRvZG8ub3B0aW9ucy5maWx0ZXIuYWN0aXZlKSB7XG4gICAgICAgIHRvZG8uaXNWaXNpYmxlID0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgdG9kby5pc0NvbXBsZXRlZCA9IHRydWU7XG4gICAgICBpZiAoc3RhdGUuTWFpbi50b2RvLm9wdGlvbnMuZmlsdGVyLmNvbXBsZXRlZCkge1xuICAgICAgICB0b2RvLmlzVmlzaWJsZSA9IHRydWU7XG4gICAgICB9XG4gICAgICBpZiAoc3RhdGUuTWFpbi50b2RvLm9wdGlvbnMuZmlsdGVyLmFjdGl2ZSkge1xuICAgICAgICB0b2RvLmlzVmlzaWJsZSA9IGZhbHNlO1xuICAgICAgfVxuICAgIH1cbiAgfSk7XG4gIHJldHVybiBkYXRhO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY29tcHV0ZUZpbHRlckJ5KHN0b3JlOlN0b3JlLCB0eXBlID0gJ2FsbCcpIHtcbiAgY29uc3Qgc3RhdGUgPSBzdG9yZS5nZXRTdGF0ZSgpO1xuICBjb25zdCBkYXRhID0gY29weShzdGF0ZS5NYWluLnRvZG8uZGF0YSk7XG4gIGRhdGEuZm9yRWFjaCgodG9kbzpUb2RvKSA9PiB7XG4gICAgaWYgKHR5cGUgPT09ICdhY3RpdmUnKSB7XG4gICAgICB0b2RvLmlzVmlzaWJsZSA9ICh0b2RvLmlzQ29tcGxldGVkID09PSBmYWxzZSkgPyB0cnVlIDogZmFsc2U7XG4gICAgfSBlbHNlIGlmICh0eXBlID09PSAnY29tcGxldGVkJykge1xuICAgICAgdG9kby5pc1Zpc2libGUgPSAodG9kby5pc0NvbXBsZXRlZCA9PT0gdHJ1ZSkgPyB0cnVlIDogZmFsc2U7XG4gICAgfSBlbHNlIGlmICh0eXBlID09PSAnYWxsJykge1xuICAgICAgdG9kby5pc1Zpc2libGUgPSB0cnVlO1xuICAgIH1cbiAgfSk7XG4gIHJldHVybiBkYXRhO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY29tcHV0ZVJlbW92ZUNvbXBsZXRlZChzdG9yZTpTdG9yZSkge1xuICBjb25zdCBzdGF0ZSA9IHN0b3JlLmdldFN0YXRlKCk7XG4gIGNvbnN0IGRhdGFUZW1wID0gY29weShzdGF0ZS5NYWluLnRvZG8uZGF0YSk7XG4gIC8vIHJlbW92ZSBjb21wbGV0ZWRcbiAgY29uc3QgZGF0YSA9IDxbVG9kb10+ZGF0YVRlbXAuZmlsdGVyKCh0b2RvOlRvZG8pID0+IHRvZG8uaXNDb21wbGV0ZWQgPT09IGZhbHNlKTtcbiAgcmV0dXJuIGRhdGE7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjb21wdXRlVG9nZ2xlRWRpdChzdG9yZTpTdG9yZSwgdG9kb0lkOnN0cmluZywgdHlwZTpzdHJpbmcsIHRleHQ6c3RyaW5nKSB7XG4gIGNvbnN0IHN0YXRlID0gc3RvcmUuZ2V0U3RhdGUoKTtcbiAgY29uc3QgZGF0YSA9IGNvcHkoc3RhdGUuTWFpbi50b2RvLmRhdGEpO1xuICAvLyB0b2dnbGUgZWRpdFxuICBkYXRhLmZvckVhY2goKHRvZG86VG9kbykgPT4ge1xuICAgIHRvZG8uaXNFZGl0aW5nID0gZmFsc2U7XG4gIH0pO1xuICBpZiAodG9kb0lkICYmIHR5cGUgPT09ICdvbicpIHtcbiAgICBjb25zdCBmb3VuZEluZGV4ID0gZ2V0SW5kZXgoZGF0YSwgdG9kb0lkKTtcbiAgICBpZiAoZm91bmRJbmRleCA+IC0xKSB7XG4gICAgICBkYXRhW2ZvdW5kSW5kZXhdLmlzRWRpdGluZyA9IHRydWU7XG4gICAgfVxuICB9XG4gIC8vIHNhdmUgdGV4dCBvbiBvZmZcbiAgaWYgKHRvZG9JZCAmJiB0ZXh0ICYmIHR5cGUgPT09ICdvZmYnKSB7XG4gICAgY29uc3QgZm91bmRJbmRleCA9IGdldEluZGV4KGRhdGEsIHRvZG9JZCk7XG4gICAgZGF0YVtmb3VuZEluZGV4XS50ZXh0ID0gdGV4dDtcbiAgfVxuICByZXR1cm4gZGF0YTtcbn1cbiIsImV4cG9ydCBjb25zdCBwbGFjZWhvbGRlciA9IChodG1sLCBwcmVsb2FkZWRTdGF0ZSwgdmVyc2lvbikgPT4gYDwhZG9jdHlwZSBodG1sPlxuPGh0bWwgbGFuZz1cImVuXCI+XG5cdDxoZWFkPlxuXHRcdDxtZXRhIGNoYXJzZXQ9XCJ1dGYtOFwiPlxuXHRcdDxtZXRhIG5hbWU9XCJ2aWV3cG9ydFwiIGNvbnRlbnQ9XCJ3aWR0aD1kZXZpY2Utd2lkdGgsIGluaXRpYWwtc2NhbGU9MVwiPlxuXHRcdDx0aXRsZT5Ecm16biDigKIgVG9kb01WQzwvdGl0bGU+XG5cdFx0PGxpbmsgcmVsPVwic3R5bGVzaGVldFwiIGhyZWY9XCIvY3NzL2Jhc2UuY3NzXCI+XG5cdFx0PGxpbmsgcmVsPVwic3R5bGVzaGVldFwiIGhyZWY9XCIvY3NzL2luZGV4LmNzc1wiPlxuXHRcdDxsaW5rIHJlbD1cInN0eWxlc2hlZXRcIiBocmVmPVwiL2Nzcy9hcHAuY3NzXCI+XG5cdDwvaGVhZD5cblx0PGJvZHk+XG5cdFx0PGRpdiBpZD1cInJvb3RcIj4ke2h0bWx9PC9kaXY+XG5cblx0XHQ8Zm9vdGVyIGNsYXNzPVwiaW5mb1wiPlxuXHRcdFx0PHA+RG91YmxlLWNsaWNrIHRvIGVkaXQgYSB0b2RvPC9wPlxuXHRcdFx0PHA+Q3JlYXRlZCBieSA8YSBocmVmPVwibWFpbHRvOmFsZXgudHp2ZXRhbm92QGdtYWlsLmNvbVwiPkFsZXggVHp2ZXRhbm92PC9hPjwvcD5cblx0XHRcdDxwPlBhcnQgb2YgPGEgaHJlZj1cImh0dHA6Ly90b2RvbXZjLmNvbVwiPlRvZG9NVkM8L2E+PC9wPlxuXHRcdDwvZm9vdGVyPlxuXG5cdFx0PHNjcmlwdD5cbiAgICAgIHdpbmRvdy5fX1BSRUxPQURFRF9TVEFURV9fID0gJyR7cHJlbG9hZGVkU3RhdGV9JztcbiAgICA8L3NjcmlwdD5cblxuICAgIDxzY3JpcHQgdHlwZT1cInRleHQvamF2YXNjcmlwdFwiIHNyYz1cIi9qcy9tYWluLiR7dmVyc2lvbn0ubWluLmpzXCI+PC9zY3JpcHQ+XG4gIDwvYm9keT5cbjwvaHRtbD5gO1xuIiwiaW1wb3J0IHsgYWxsIH0gZnJvbSAncmVkdXgtc2FnYS9lZmZlY3RzJztcclxuaW1wb3J0IHsgc2FnYU1pZGRsZXdhcmUgfSBmcm9tICdzcmMvY29uZmlnL3N0b3JlJztcclxuXHJcbmltcG9ydCBzb21lU2FnYSBmcm9tICdzcmMvc2FnYXMvc29tZVNhZ2EnO1xyXG5pbXBvcnQgb3B0aW9uc1NlbGVjdG9yU2FnYSBmcm9tICdzcmMvc2FnYXMvb3B0aW9uc1NlbGVjdG9yU2FnYSc7XHJcblxyXG5mdW5jdGlvbiAqIHJvb3RTYWdhKCkge1xyXG4gIHlpZWxkIGFsbChbXHJcbiAgICBvcHRpb25zU2VsZWN0b3JTYWdhKCksXHJcbiAgICBzb21lU2FnYSgpXHJcbiAgXSk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBydW5TYWdhcygpIHtcclxuICAvLyBjb25zb2xlLmxvZygncnVucyBzYWdhcycpO1xyXG4gIHNhZ2FNaWRkbGV3YXJlLnJ1bihyb290U2FnYSk7XHJcbn1cclxuIiwiaW1wb3J0ICogYXMgYWN0aW9ucyBmcm9tICdzcmMvY29uZmlnL2FjdGlvbnMnO1xuaW1wb3J0IHsgY3JlYXRlU3RvcmUsIGFwcGx5TWlkZGxld2FyZSB9IGZyb20gJ3JlZHV4JztcbmltcG9ydCBjcmVhdGVTYWdhTWlkZGxld2FyZSBmcm9tICdyZWR1eC1zYWdhJztcbmltcG9ydCB7IGNvbXBvc2VXaXRoRGV2VG9vbHMgfSBmcm9tICdyZWR1eC1kZXZ0b29scy1leHRlbnNpb24nO1xuXG5pbXBvcnQgeyBhY3Rpb25SZWR1Y2VyLCBoeWRyYXRlIH0gZnJvbSAnZHJtem4tcmVkdXgnO1xuXG5leHBvcnQgY29uc3Qgc2FnYU1pZGRsZXdhcmUgPSBjcmVhdGVTYWdhTWlkZGxld2FyZSgpO1xuXG4vLyBleHBvcnQgZnVuY3Rpb24gdGhhdCBjcmVhdGVzIG5ldyBzdG9yZSBmb3Igc2VydmVyIHNpZGVcbmV4cG9ydCBjb25zdCBzdG9yZUNyZWF0ZSA9ICgpID0+IGNyZWF0ZVN0b3JlKGFjdGlvblJlZHVjZXIoYWN0aW9ucyksIGh5ZHJhdGUsIGNvbXBvc2VXaXRoRGV2VG9vbHMoYXBwbHlNaWRkbGV3YXJlKHNhZ2FNaWRkbGV3YXJlKSkpO1xuXG4vLyBpbml0IHRoZSBzdG9yZSBvbiBjbGllbnQgc2lkZVxuZXhwb3J0IGNvbnN0IHN0b3JlID0gc3RvcmVDcmVhdGUoKTtcbiIsImltcG9ydCB7IFN0b3JlIH0gZnJvbSAncmVkdXgnO1xuaW1wb3J0ICogYXMgYWN0aW9ucyBmcm9tICdzcmMvY29uZmlnL2FjdGlvbnMnO1xuaW1wb3J0IHtcbiAgY29tcHV0ZUluaXQsXG4gIGNvbXB1dGVBZGQsXG4gIGNvbXB1dGVFZGl0LFxuICBjb21wdXRlUmVtb3ZlLFxuICBjb21wdXRlVG9nZ2xlLFxuICBjb21wdXRlVG9nZ2xlQWxsLFxuICBjb21wdXRlRmlsdGVyQnksXG4gIGNvbXB1dGVSZW1vdmVDb21wbGV0ZWQsXG4gIGNvbXB1dGVUb2dnbGVFZGl0XG4gfSBmcm9tICdzcmMvY29uZmlnL2Z1bmN0aW9ucyc7XG5cbmV4cG9ydCBjb25zdCBUb2RvID0gKHN0b3JlOlN0b3JlKSA9PiB7XG4gIGNvbnN0IGluaXQgPSAoaGFzaDpzdHJpbmcpID0+IHtcbiAgICBjb25zdCB7IGRhdGEsIG9wdGlvbnMgfSA9IGNvbXB1dGVJbml0KHN0b3JlLCBoYXNoKTtcbiAgICBhY3Rpb25zLmluaXQuZGlzcGF0Y2goc3RvcmUsIGRhdGEsIG9wdGlvbnMpO1xuICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcbiAgfTtcblxuICBjb25zdCBhZGQgPSAodGV4dDpzdHJpbmcpID0+IHtcbiAgICBjb25zdCBkYXRhID0gY29tcHV0ZUFkZChzdG9yZSwgdGV4dCk7XG4gICAgYWN0aW9ucy5hZGQuZGlzcGF0Y2goc3RvcmUsIGRhdGEpO1xuICB9O1xuXG4gIGNvbnN0IGVkaXQgPSAodG9kb0lkOnN0cmluZywgdGV4dDpzdHJpbmcpID0+IHtcbiAgICBjb25zdCBkYXRhID0gY29tcHV0ZUVkaXQoc3RvcmUsIHRvZG9JZCwgdGV4dCk7XG4gICAgYWN0aW9ucy5lZGl0LmRpc3BhdGNoKHN0b3JlLCBkYXRhKTtcbiAgfTtcblxuICBjb25zdCByZW1vdmUgPSAodG9kb0lkOnN0cmluZykgPT4ge1xuICAgIGNvbnN0IGRhdGEgPSBjb21wdXRlUmVtb3ZlKHN0b3JlLCB0b2RvSWQpO1xuICAgIGFjdGlvbnMucmVtb3ZlLmRpc3BhdGNoKHN0b3JlLCBkYXRhKTtcbiAgfTtcblxuICBjb25zdCB0b2dnbGUgPSAodG9kb0lkOnN0cmluZykgPT4ge1xuICAgIGNvbnN0IGRhdGEgPSBjb21wdXRlVG9nZ2xlKHN0b3JlLCB0b2RvSWQpO1xuICAgIGFjdGlvbnMudG9nZ2xlLmRpc3BhdGNoKHN0b3JlLCBkYXRhKTtcbiAgfTtcblxuICBjb25zdCB0b2dnbGVBbGwgPSAoKSA9PiB7XG4gICAgY29uc3QgZGF0YSA9IGNvbXB1dGVUb2dnbGVBbGwoc3RvcmUpO1xuICAgIGFjdGlvbnMudG9nZ2xlQWxsLmRpc3BhdGNoKHN0b3JlLCBkYXRhKTtcbiAgfTtcblxuICBjb25zdCBmaWx0ZXJCeSA9ICh0eXBlOnN0cmluZykgPT4ge1xuICAgIGNvbnN0IGRhdGEgPSBjb21wdXRlRmlsdGVyQnkoc3RvcmUsIHR5cGUpO1xuICAgIGFjdGlvbnMuZmlsdGVyQnkuZGlzcGF0Y2goc3RvcmUsIGRhdGEsIHR5cGUpO1xuICB9O1xuXG4gIGNvbnN0IHJlbW92ZUNvbXBsZXRlZCA9ICgpID0+IHtcbiAgICBjb25zdCBkYXRhID0gY29tcHV0ZVJlbW92ZUNvbXBsZXRlZChzdG9yZSk7XG4gICAgYWN0aW9ucy5yZW1vdmVDb21wbGV0ZWQuZGlzcGF0Y2goc3RvcmUsIGRhdGEpO1xuICB9O1xuXG4gIGNvbnN0IHRvZ2dsZUVkaXRpbmcgPSAodG9kb0lkOnN0cmluZywgdHlwZTpzdHJpbmcsIHRleHQ6c3RyaW5nKSA9PiB7XG4gICAgY29uc3QgZGF0YSA9IGNvbXB1dGVUb2dnbGVFZGl0KHN0b3JlLCB0b2RvSWQsIHR5cGUsIHRleHQpO1xuICAgIGFjdGlvbnMudG9nZ2xlRWRpdGluZy5kaXNwYXRjaChzdG9yZSwgZGF0YSk7XG4gIH07XG5cbiAgcmV0dXJuIHtcbiAgICBpbml0LFxuICAgIGFkZCxcbiAgICBlZGl0LFxuICAgIHJlbW92ZSxcbiAgICB0b2dnbGUsXG4gICAgdG9nZ2xlQWxsLFxuICAgIGZpbHRlckJ5LFxuICAgIHJlbW92ZUNvbXBsZXRlZCxcbiAgICB0b2dnbGVFZGl0aW5nXG4gIH07XG59O1xuIiwiaW1wb3J0IHsgdGFrZUxhdGVzdCwgY2FuY2VsIH0gZnJvbSAncmVkdXgtc2FnYS9lZmZlY3RzJztcbmltcG9ydCAqIGFzIGFjdGlvbnMgZnJvbSAnc3JjL2NvbmZpZy9hY3Rpb25zJztcbmltcG9ydCB7IHN0b3JlIH0gZnJvbSAnc3JjL2NvbmZpZy9zdG9yZSc7XG5cbmltcG9ydCB7IGNvbXB1dGVPcHRpb25zIH0gZnJvbSAnc3JjL2NvbmZpZy9mdW5jdGlvbnMnO1xuXG5mdW5jdGlvbiAqIGNvbXB1dGVPcHRpb25zQWN0aW9uKGFjdGlvbikge1xuICBpZiAoYWN0aW9uLnR5cGUgPT09ICdPUFRJT05TJykge1xuICAgIHlpZWxkIGNhbmNlbCgpO1xuICB9XG4gIGNvbnN0IHN0YXRlID0geWllbGQgKDxhbnk+c3RvcmUuZ2V0U3RhdGUoKSk7XG4gIGlmIChzdGF0ZSAmJiBzdGF0ZS5NYWluICYmIHN0YXRlLk1haW4udG9kbyAmJiBzdGF0ZS5NYWluLnRvZG8uZGF0YSkge1xuICAgIGNvbnN0IG9wdGlvbnMgPSB5aWVsZCBjb21wdXRlT3B0aW9ucyhzdG9yZSwgc3RhdGUuTWFpbi50b2RvLmRhdGEpO1xuICAgIHlpZWxkIGFjdGlvbnMub3B0aW9ucy5kaXNwYXRjaChzdG9yZSwgb3B0aW9ucyk7XG4gIH1cbn1cblxuLy8gd2F0Y2ggZm9yIFRPRE9fKiBhY3Rpb25zIGFuZCBjb21wdXRlIG9wdGlvbnNcbmZ1bmN0aW9uICogb3B0aW9uc1NlbGVjdG9yU2FnYSgpIHtcbiAgeWllbGQgdGFrZUxhdGVzdChhY3Rpb24gPT4gL15UT0RPXy8udGVzdChhY3Rpb24udHlwZSksIGNvbXB1dGVPcHRpb25zQWN0aW9uKTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgb3B0aW9uc1NlbGVjdG9yU2FnYTtcbiIsImltcG9ydCB7IHRha2VMYXRlc3QsIGRlbGF5IH0gZnJvbSAncmVkdXgtc2FnYS9lZmZlY3RzJztcbmltcG9ydCAqIGFzIGFjdGlvbnMgZnJvbSAnc3JjL2NvbmZpZy9hY3Rpb25zJztcbmltcG9ydCB7IHN0b3JlIH0gZnJvbSAnc3JjL2NvbmZpZy9zdG9yZSc7XG5cbmZ1bmN0aW9uICogc29tZUFjdGlvbigpIHtcbiAgeWllbGQgZGVsYXkoMjAwMCk7XG4gIHlpZWxkIGNvbnNvbGUubG9nKCd5b3lvLCBhZGRlZCBpdGVtcz8nKTtcbiAgeWllbGQgYWN0aW9ucy5tb25pdG9yU2FnYS5kaXNwYXRjaChzdG9yZSwgJ3Rlc3RpbmcgYWN0aW9uLXJlZHVjZXIgYWZ0ZXIgYWRkIGFjdGlvbicpO1xufVxuXG5mdW5jdGlvbiAqIHNvbWVTYWdhKCkge1xuICB5aWVsZCB0YWtlTGF0ZXN0KCdBREQnLCBzb21lQWN0aW9uKTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgc29tZVNhZ2E7XG4iLCJpbXBvcnQgKiBhcyBleHByZXNzIGZyb20gJ2V4cHJlc3MnO1xuaW1wb3J0ICogYXMgY29tcHJlc3Npb24gZnJvbSAnY29tcHJlc3Npb24nO1xuaW1wb3J0ICogYXMgaHR0cCBmcm9tICdodHRwJztcbi8vIGltcG9ydCAqIGFzIGh0dHBzIGZyb20gJ2h0dHBzJztcbi8vIGltcG9ydCAqIGFzIGZzIGZyb20gJ2ZzJztcblxuaW1wb3J0IHsgc3RvcmVDcmVhdGUgfSBmcm9tICdzcmMvY29uZmlnL3N0b3JlJztcbmltcG9ydCB7IFRvZG8gfSBmcm9tICdzcmMvY29udHJvbGxlcnMvVG9kb0NvbnRyb2xsZXInO1xuaW1wb3J0IHsgcGxhY2Vob2xkZXIgfSBmcm9tICdzcmMvY29uZmlnL3BsYWNlaG9sZGVyJztcbmltcG9ydCB7IHJ1blNhZ2FzIH0gZnJvbSAnc3JjL2NvbmZpZy9zYWdhcyc7XG5cbi8vIHJlYWN0XG5pbXBvcnQgeyBzc3IgfSBmcm9tICdkcm16bi1yZWFjdCc7XG5pbXBvcnQgQXBwIGZyb20gJ3NyYy9jb21wb25lbnRzL3Jvb3QnO1xuXG4vLyBtdXN0YWNoZVxuLy8gaW1wb3J0IHsgc3NyLCBnZXRUZW1wbGF0ZXMgfSBmcm9tICdkcm16bi1tdXN0YWNoZSc7XG4vLyBjb25zdCB0cGxzID0gcmVxdWlyZS5jb250ZXh0KCdzcmMvbXVzdGFjaGUnLCB0cnVlLCAvXFwuaHRtbCQvKTtcbi8vIGNvbnN0IHsgdGVtcGxhdGVzLCBjb250YWluZXIgfSA9IGdldFRlbXBsYXRlcyh0cGxzKTtcblxuY29uc3QgdmVyc2lvbiA9ICcwLjAuNyc7XG5cbmNvbnN0IGFwcCA9IGV4cHJlc3MoKTtcbmFwcC51c2UoY29tcHJlc3Npb24oKSk7XG5cbi8vIFJlYWN0IHJlbmRlclxuYXBwLmdldCgnLycsIGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICBjb25zdCBzdG9yZSA9IHN0b3JlQ3JlYXRlKCk7XG4gIHJ1blNhZ2FzKCk7XG4gIGF3YWl0IFRvZG8oc3RvcmUpLmluaXQoJy8nKTtcbiAgc3NyKHBsYWNlaG9sZGVyLCBBcHAsIHZlcnNpb24pLnJlbmRlcihzdG9yZSwgcmVxLCByZXMpO1xufSk7XG5cbi8vIE11c3RhY2hlIHJlbmRlclxuLy8gYXBwLmdldCgnLycsIGFzeW5jIChyZXEsIHJlcykgPT4ge1xuLy8gICBjb25zdCBzdG9yZSA9IHN0b3JlQ3JlYXRlKCk7XG4vLyAgIHJ1blNhZ2FzKCk7XG4vLyAgIGF3YWl0IFRvZG8oc3RvcmUpLmluaXQoJy8nKTtcbi8vICAgc3NyKHBsYWNlaG9sZGVyLCBjb250YWluZXIsIHRlbXBsYXRlcywgdmVyc2lvbikucmVuZGVyKHN0b3JlLCByZXEsIHJlcyk7XG4vLyB9KTtcblxuYXBwLnVzZSgnLycsIGV4cHJlc3Muc3RhdGljKCdwdWJsaWMnKSk7XG5cbmNvbnN0IHNlcnZlciA9IGh0dHAuY3JlYXRlU2VydmVyKGFwcCk7XG5zZXJ2ZXIubGlzdGVuKHByb2Nlc3MuZW52LlBPUlQpO1xuXG4vLyBjb25zdCBvcHRpb25zID0ge1xuLy8gICBrZXk6IGZzLnJlYWRGaWxlU3luYygnY2VydC5rZXknKSxcbi8vICAgY2VydDogZnMucmVhZEZpbGVTeW5jKCdjZXJ0LmNydCcpXG4vLyB9O1xuXG4vLyBjb25zdCBzZXJ2ZXIgPSBodHRwcy5jcmVhdGVTZXJ2ZXIob3B0aW9ucywgYXBwKTtcbi8vIHNlcnZlci5saXN0ZW4oNDQzKTtcbiIsIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcImNvbXByZXNzaW9uXCIpOyIsIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcImRybXpuLXJlYWN0XCIpOyIsIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcImRybXpuLXJlZHV4XCIpOyIsIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcImV4cHJlc3NcIik7IiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiaHR0cFwiKTsiLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJvYmplY3QtcGF0aC1pbW11dGFibGUvaW5kZXhcIik7IiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwicmVhY3RcIik7IiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwicmVhY3QtcmVkdXhcIik7IiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwicmVkdXhcIik7IiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwicmVkdXgtZGV2dG9vbHMtZXh0ZW5zaW9uXCIpOyIsIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcInJlZHV4LXNhZ2FcIik7IiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwicmVkdXgtc2FnYS9lZmZlY3RzXCIpOyJdLCJzb3VyY2VSb290IjoiIn0=