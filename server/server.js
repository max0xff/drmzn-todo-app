!function(t){var e={};function o(n){if(e[n])return e[n].exports;var s=e[n]={i:n,l:!1,exports:{}};return t[n].call(s.exports,s,s.exports,o),s.l=!0,s.exports}o.m=t,o.c=e,o.d=function(t,e,n){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},o.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)o.d(n,s,function(e){return t[e]}.bind(null,s));return n},o.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="",o(o.s="./src/server.ts")}({"./src/components/footer.tsx":function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=o("react");e.default=n.memo(t=>{const e=t.state.Main.todo.options;if(!e.hasData)return null;const o=e.isOneCount?"item":"items";return n.createElement("footer",{className:"footer"},n.createElement("span",{className:"todo-count"},n.createElement("strong",null,e.countNotComplete)," ",o," left"),n.createElement("ul",{className:"filters"},n.createElement("li",null,n.createElement("a",{className:e.filter.all?"selected":"",href:"#/"},"All")),n.createElement("li",null,n.createElement("a",{className:e.filter.active?"selected":"",href:"#/active"},"Active")),n.createElement("li",null,n.createElement("a",{className:e.filter.completed?"selected":"",href:"#/completed"},"Completed"))),(()=>{if(e.hasCompleted)return n.createElement("button",{className:"clear-completed"},"Clear completed")})())})},"./src/components/header.tsx":function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=o("react");e.default=n.memo(()=>n.createElement("div",{id:"header"},n.createElement("header",{className:"header"},n.createElement("h1",null,"todos"),n.createElement("input",{className:"new-todo",placeholder:"What needs to be done?",autoFocus:!0}))))},"./src/components/root.tsx":function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=o("react"),s=o("react-redux"),i=o("./src/components/header.tsx"),a=o("./src/components/footer.tsx"),r=o("./src/components/todos.tsx");e.default=s.connect(function(t){return t})(t=>n.createElement("section",{className:"todoapp"},n.createElement(i.default,null),n.createElement(r.default,{state:t.state}),n.createElement(a.default,{state:t.state})))},"./src/components/todo.tsx":function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=o("react"),s=o("./src/config/functions.ts");e.default=n.memo(t=>{const e=t.data;return n.createElement("li",{key:e.id,"data-id":e.id,className:s.classNames(e)},n.createElement("div",{className:"view"},n.createElement("input",{className:"toggle",type:"checkbox",checked:e.isCompleted,onChange:function(){}}),n.createElement("label",null,e.text),n.createElement("button",{className:"destroy"})),n.createElement("input",{type:"text",className:"edit",defaultValue:e.text,"data-text":e.text}))})},"./src/components/todos.tsx":function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=o("react"),s=o("./src/components/todo.tsx");e.default=n.memo(t=>{const e=t.state.Main.todo.data,o=t.state.Main.todo.options;if(!o.hasData)return null;return n.createElement("section",{className:"main"},n.createElement("input",{id:"toggle-all",className:"toggle-all",type:"checkbox",checked:o.isAllComplete,onChange:function(){}}),n.createElement("label",{htmlFor:"toggle-all"},"Mark all as complete"),n.createElement("ul",{className:"todo-list"},e.filter(t=>t.isVisible).map(t=>n.createElement(s.default,{data:t,key:t.id}))))})},"./src/config/actions.ts":function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=o("object-path-immutable/index");var s;(s=e.page||(e.page={})).type="PAGE",s.dispatch=((t,e)=>{t.dispatch({type:s.type,page:e})}),s.reduce=((t,e)=>n(t).set("Main.options.mainPage",{}).set(`Main.options.mainPage.${e.page}`,!0).value()),function(t){t.type="init",t.dispatch=((e,o,n)=>{e.dispatch({type:t.type,data:o,options:n})}),t.reduce=((t,e)=>n(t).set("Main.todo.data",e.data).set("Main.todo.options",e.options).value())}(e.init||(e.init={})),function(t){t.type="add",t.dispatch=((e,o,n)=>{e.dispatch({type:t.type,data:o,options:n})}),t.reduce=((t,e)=>n(t).set("Main.todo.data",e.data).set("Main.todo.options",e.options).value())}(e.add||(e.add={})),function(t){t.type="edit",t.dispatch=((e,o,n)=>{e.dispatch({type:t.type,data:o,options:n})}),t.reduce=((t,e)=>n(t).set("Main.todo.data",e.data).set("Main.todo.options",e.options).value())}(e.edit||(e.edit={})),function(t){t.type="remove",t.dispatch=((e,o,n)=>{e.dispatch({type:t.type,data:o,options:n})}),t.reduce=((t,e)=>n(t).set("Main.todo.data",e.data).set("Main.todo.options",e.options).value())}(e.remove||(e.remove={})),function(t){t.type="toggle",t.dispatch=((e,o,n)=>{e.dispatch({type:t.type,data:o,options:n})}),t.reduce=((t,e)=>n(t).set("Main.todo.data",e.data).set("Main.todo.options",e.options).value())}(e.toggle||(e.toggle={})),function(t){t.type="toggleAll",t.dispatch=((e,o,n)=>{e.dispatch({type:t.type,data:o,options:n})}),t.reduce=((t,e)=>n(t).set("Main.todo.data",e.data).set("Main.todo.options",e.options).value())}(e.toggleAll||(e.toggleAll={})),function(t){t.type="filterBy",t.dispatch=((e,o,n)=>{e.dispatch({type:t.type,data:o,options:n})}),t.reduce=((t,e)=>n(t).set("Main.todo.data",e.data).set("Main.todo.options",e.options).value())}(e.filterBy||(e.filterBy={})),function(t){t.type="removeCompleted",t.dispatch=((e,o,n)=>{e.dispatch({type:t.type,data:o,options:n})}),t.reduce=((t,e)=>n(t).set("Main.todo.data",e.data).set("Main.todo.options",e.options).value())}(e.removeCompleted||(e.removeCompleted={})),function(t){t.type="toggleEditing",t.dispatch=((e,o,n)=>{e.dispatch({type:t.type,data:o,options:n})}),t.reduce=((t,e)=>n(t).set("Main.todo.data",e.data).set("Main.todo.options",e.options).value())}(e.toggleEditing||(e.toggleEditing={})),function(t){t.type="monitorSaga",t.dispatch=((e,o)=>{e.dispatch({type:t.type,data:o})}),t.reduce=((t,e)=>n(t).set("Main.saga.test",e.data).set("Main.saga.reducer","yoyo").value())}(e.monitorSaga||(e.monitorSaga={}))},"./src/config/functions.ts":function(t,e,o){"use strict";function n(t){return JSON.parse(JSON.stringify(t))}function s(t,e){let o="all",n="/";return"#/"===e&&(o="all",n="/"),"#/active"===e&&(o="active",n="/active"),"#/completed"===e&&(o="completed",n="/completed"),"type"===t?o:n}function i(){return Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15)}function a(t,e){let o=-1;for(let n=0;n<t.length;n++){t[n].id===e&&(o=n)}return o}function r(t,e){const o=t.getState();let n={all:!0};o&&o.Main&&o.Main.todo&&o.Main.todo.options&&o.Main.todo.options.filter&&(n=Object.assign({},o.Main.todo.options.filter));const s={countTotal:0,countComplete:0,countNotComplete:0,hasCompleted:!1,isAllComplete:!1,isEditing:!1,hasData:!1,isOneCount:!1,filter:n};s.countTotal=e.length,e.forEach(t=>{t.isCompleted?s.countComplete=s.countComplete+1:s.countNotComplete=s.countNotComplete+1,t.isEditing&&(s.isEditing=!0)}),s.countComplete>0&&(s.hasCompleted=!0),e.length===s.countComplete&&(s.isAllComplete=!0),e.length>0&&(s.hasData=!0),1===s.countNotComplete&&(s.isOneCount=!0);try{localStorage.setItem("todos-drmzn",JSON.stringify(e))}catch(t){}return s}Object.defineProperty(e,"__esModule",{value:!0}),e.classNames=function(t){let e="";return t.isCompleted&&(e=`${e} completed`),t.isEditing&&(e=`${e} editing`),e.trim()},e.getProp=s,e.randomId=i,e.getIndex=a,e.computeOptions=r,e.computeInit=function(t,e){let o;try{(o=JSON.parse(localStorage.getItem("todos-drmzn"))).forEach(t=>{t.isEditing=!1})}catch(t){}o||(o=[]);const n=r(t,o),i=s("type",e);return n.filter={},n.filter[i]=!0,{data:o,options:n}},e.computeAdd=function(t,e){const o=t.getState(),s=n(o.Main.todo.data);let a=!0;o.Main.todo.options.filter.completed&&(a=!1);const c={id:i(),text:e.trim(),isCompleted:!1,isVisible:a};return s.push(c),{data:s,options:r(t,s)}},e.computeEdit=function(t,e,o){const s=n(t.getState().Main.todo.data);return s[a(s,e)].text=o.trim(),{data:s,options:r(t,s)}},e.computeRemove=function(t,e){const o=n(t.getState().Main.todo.data),s=a(o,e);return o.splice(s,1),{data:o,options:r(t,o)}},e.computeToggle=function(t,e){const o=t.getState(),s=n(o.Main.todo.data),i=a(s,e);return s[i].isCompleted=!s[i].isCompleted,o.Main.todo.options.filter.completed&&(s[i].isVisible=!!s[i].isCompleted),o.Main.todo.options.filter.active&&(s[i].isVisible=!s[i].isCompleted),{data:s,options:r(t,s)}},e.computeToggleAll=function(t){const e=t.getState(),o=n(e.Main.todo.data);let s=!0;return o.forEach(t=>{!1===t.isCompleted&&(s=!1)}),o.forEach(t=>{s?(t.isCompleted=!1,e.Main.todo.options.filter.completed&&(t.isVisible=!1),e.Main.todo.options.filter.active&&(t.isVisible=!0)):(t.isCompleted=!0,e.Main.todo.options.filter.completed&&(t.isVisible=!0),e.Main.todo.options.filter.active&&(t.isVisible=!1))}),{data:o,options:r(t,o)}},e.computeFilterBy=function(t,e="all"){const o=n(t.getState().Main.todo.data);"active"===e&&o.forEach(t=>{!1===t.isCompleted?t.isVisible=!0:t.isVisible=!1}),"completed"===e&&o.forEach(t=>{!0===t.isCompleted?t.isVisible=!0:t.isVisible=!1}),"all"===e&&o.forEach(t=>{t.isVisible=!0});const s=r(t,o);return s.filter={},s.filter[e]=!0,{data:o,options:s}},e.computeRemoveCompleted=function(t){const e=n(t.getState().Main.todo.data).filter(t=>!1===t.isCompleted);return{data:e,options:r(t,e)}},e.computeToggleEdit=function(t,e,o,s){const i=n(t.getState().Main.todo.data);if(i.forEach(t=>{t.isEditing=!1}),e&&"on"===o){const t=a(i,e);t>-1&&(i[t].isEditing=!0)}e&&s&&"off"===o&&(i[a(i,e)].text=s);return{data:i,options:r(t,i)}}},"./src/config/placeholder.ts":function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.placeholder=((t,e,o)=>`<!doctype html>\n<html lang="en">\n\t<head>\n\t\t<meta charset="utf-8">\n\t\t<meta name="viewport" content="width=device-width, initial-scale=1">\n\t\t<title>Drmzn • TodoMVC</title>\n\t\t<link rel="stylesheet" href="/css/base.css">\n\t\t<link rel="stylesheet" href="/css/index.css">\n\t\t<link rel="stylesheet" href="/css/app.css">\n\t</head>\n\t<body>\n\t\t<div id="root">${t}</div>\n\n\t\t<footer class="info">\n\t\t\t<p>Double-click to edit a todo</p>\n\t\t\t<p>Created by <a href="mailto:alex.tzvetanov@gmail.com">Alex Tzvetanov</a></p>\n\t\t\t<p>Part of <a href="http://todomvc.com">TodoMVC</a></p>\n\t\t</footer>\n\n\t\t<script>\n      window.__PRELOADED_STATE__ = '${e}';\n    <\/script>\n\n\t\t<script src="/js/base.js"><\/script>\n    <script type="text/javascript" src="/js/main.${o}.min.js"><\/script>\n  </body>\n</html>`)},"./src/config/store.ts":function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=o("./src/config/actions.ts"),s=o("redux"),i=o("redux-saga"),a=o("redux-devtools-extension"),r=o("drmzn-redux");e.sagaMiddleware=i.default(),e.storeCreate=(()=>s.createStore(r.actionReducer(n),r.hydrate,a.composeWithDevTools(s.applyMiddleware(e.sagaMiddleware)))),e.store=e.storeCreate()},"./src/controllers/TodoController.ts":function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=o("./src/config/actions.ts"),s=o("./src/config/functions.ts");e.Todo=(t=>{return{init:e=>{const{data:o,options:i}=s.computeInit(t,e);n.init.dispatch(t,o,i)},add:e=>{const{data:o,options:i}=s.computeAdd(t,e);n.add.dispatch(t,o,i)},edit:(e,o)=>{const{data:i,options:a}=s.computeEdit(t,e,o);n.edit.dispatch(t,i,a)},remove:e=>{const{data:o,options:i}=s.computeRemove(t,e);n.remove.dispatch(t,o,i)},toggle:e=>{const{data:o,options:i}=s.computeToggle(t,e);n.toggle.dispatch(t,o,i)},toggleAll:()=>{const{data:e,options:o}=s.computeToggleAll(t);n.toggleAll.dispatch(t,e,o)},filterBy:e=>{const{data:o,options:i}=s.computeFilterBy(t,e);n.filterBy.dispatch(t,o,i)},removeCompleted:()=>{const{data:e,options:o}=s.computeRemoveCompleted(t);n.removeCompleted.dispatch(t,e,o)},toggleEditing:(e,o,i)=>{const{data:a,options:r}=s.computeToggleEdit(t,e,o,i);n.toggleEditing.dispatch(t,a,r)}}})},"./src/server.ts":function(t,e,o){"use strict";var n=this&&this.__awaiter||function(t,e,o,n){return new(o||(o=Promise))(function(s,i){function a(t){try{c(n.next(t))}catch(t){i(t)}}function r(t){try{c(n.throw(t))}catch(t){i(t)}}function c(t){t.done?s(t.value):new o(function(e){e(t.value)}).then(a,r)}c((n=n.apply(t,e||[])).next())})};Object.defineProperty(e,"__esModule",{value:!0});const s=o("express"),i=o("compression"),a=o("http"),r=o("pusher"),c=o("js-string-escape"),l=o("./src/config/store.ts"),d=o("./src/controllers/TodoController.ts"),p=o("./src/config/placeholder.ts"),u=o("drmzn-react"),m=o("./src/components/root.tsx"),f=new r({appId:process.env.APPID,key:process.env.KEY,secret:process.env.SECRET,cluster:process.env.CLUSTER,useTLS:process.env.ENCRYPTED}),g=s();g.use(i()),g.get("/",(t,e)=>n(this,void 0,void 0,function*(){const o=l.storeCreate();yield d.Todo(o).init("/"),u.ssr(p.placeholder,m.default,"0.0.3").render(o,t,e)})),g.get("/secret-message/:message",(t,e)=>n(this,void 0,void 0,function*(){const o=c(t.params.message);f.trigger("drmzn","secret-message",{message:o}),e.status(200).end()})),g.use("/",s.static("public")),a.createServer(g).listen(process.env.PORT)},compression:function(t,e){t.exports=require("compression")},"drmzn-react":function(t,e){t.exports=require("drmzn-react")},"drmzn-redux":function(t,e){t.exports=require("drmzn-redux")},express:function(t,e){t.exports=require("express")},http:function(t,e){t.exports=require("http")},"js-string-escape":function(t,e){t.exports=require("js-string-escape")},"object-path-immutable/index":function(t,e){t.exports=require("object-path-immutable/index")},pusher:function(t,e){t.exports=require("pusher")},react:function(t,e){t.exports=require("react")},"react-redux":function(t,e){t.exports=require("react-redux")},redux:function(t,e){t.exports=require("redux")},"redux-devtools-extension":function(t,e){t.exports=require("redux-devtools-extension")},"redux-saga":function(t,e){t.exports=require("redux-saga")}});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvZm9vdGVyLnRzeCIsIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9oZWFkZXIudHN4Iiwid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL3Jvb3QudHN4Iiwid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL3RvZG8udHN4Iiwid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL3RvZG9zLnRzeCIsIndlYnBhY2s6Ly8vLi9zcmMvY29uZmlnL2FjdGlvbnMudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbmZpZy9mdW5jdGlvbnMudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbmZpZy9wbGFjZWhvbGRlci50cyIsIndlYnBhY2s6Ly8vLi9zcmMvY29uZmlnL3N0b3JlLnRzIiwid2VicGFjazovLy8uL3NyYy9jb250cm9sbGVycy9Ub2RvQ29udHJvbGxlci50cyIsIndlYnBhY2s6Ly8vLi9zcmMvc2VydmVyLnRzIiwid2VicGFjazovLy9leHRlcm5hbCBcImNvbXByZXNzaW9uXCIiLCJ3ZWJwYWNrOi8vL2V4dGVybmFsIFwiZHJtem4tcmVhY3RcIiIsIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJkcm16bi1yZWR1eFwiIiwid2VicGFjazovLy9leHRlcm5hbCBcImV4cHJlc3NcIiIsIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJodHRwXCIiLCJ3ZWJwYWNrOi8vL2V4dGVybmFsIFwianMtc3RyaW5nLWVzY2FwZVwiIiwid2VicGFjazovLy9leHRlcm5hbCBcIm9iamVjdC1wYXRoLWltbXV0YWJsZS9pbmRleFwiIiwid2VicGFjazovLy9leHRlcm5hbCBcInB1c2hlclwiIiwid2VicGFjazovLy9leHRlcm5hbCBcInJlYWN0XCIiLCJ3ZWJwYWNrOi8vL2V4dGVybmFsIFwicmVhY3QtcmVkdXhcIiIsIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJyZWR1eFwiIiwid2VicGFjazovLy9leHRlcm5hbCBcInJlZHV4LWRldnRvb2xzLWV4dGVuc2lvblwiIiwid2VicGFjazovLy9leHRlcm5hbCBcInJlZHV4LXNhZ2FcIiJdLCJuYW1lcyI6WyJpbnN0YWxsZWRNb2R1bGVzIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiZXhwb3J0cyIsIm1vZHVsZSIsImkiLCJsIiwibW9kdWxlcyIsImNhbGwiLCJtIiwiYyIsImQiLCJuYW1lIiwiZ2V0dGVyIiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsInIiLCJTeW1ib2wiLCJ0b1N0cmluZ1RhZyIsInZhbHVlIiwidCIsIm1vZGUiLCJfX2VzTW9kdWxlIiwibnMiLCJjcmVhdGUiLCJrZXkiLCJiaW5kIiwibiIsIm9iamVjdCIsInByb3BlcnR5IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJwIiwicyIsIlJlYWN0IiwiZGVmYXVsdCIsIm1lbW8iLCJwcm9wcyIsIm9wdGlvbnMiLCJzdGF0ZSIsIk1haW4iLCJ0b2RvIiwiaGFzRGF0YSIsIml0ZW1UeHQiLCJpc09uZUNvdW50IiwiY3JlYXRlRWxlbWVudCIsImNsYXNzTmFtZSIsImNvdW50Tm90Q29tcGxldGUiLCJmaWx0ZXIiLCJhbGwiLCJocmVmIiwiYWN0aXZlIiwiY29tcGxldGVkIiwiaGFzQ29tcGxldGVkIiwiY2xlYXJDb21wbGV0ZWQiLCJpZCIsInBsYWNlaG9sZGVyIiwiYXV0b0ZvY3VzIiwicmVhY3RfcmVkdXhfMSIsImhlYWRlcl8xIiwiZm9vdGVyXzEiLCJ0b2Rvc18xIiwiY29ubmVjdCIsImZ1bmN0aW9uc18xIiwiaXRlbSIsImRhdGEiLCJkYXRhLWlkIiwiY2xhc3NOYW1lcyIsInR5cGUiLCJjaGVja2VkIiwiaXNDb21wbGV0ZWQiLCJvbkNoYW5nZSIsInRleHQiLCJkZWZhdWx0VmFsdWUiLCJkYXRhLXRleHQiLCJ0b2RvXzEiLCJpc0FsbENvbXBsZXRlIiwiaHRtbEZvciIsImlzVmlzaWJsZSIsIm1hcCIsImltbXV0YWJsZSIsInBhZ2VfMSIsInBhZ2UiLCJkaXNwYXRjaCIsInN0b3JlIiwicmVkdWNlIiwiYWN0aW9uIiwic2V0IiwiaW5pdCIsImFkZCIsImVkaXQiLCJyZW1vdmUiLCJ0b2dnbGUiLCJ0b2dnbGVBbGwiLCJmaWx0ZXJCeSIsInJlbW92ZUNvbXBsZXRlZCIsInRvZ2dsZUVkaXRpbmciLCJtb25pdG9yU2FnYSIsImNvcHkiLCJvYmoiLCJKU09OIiwicGFyc2UiLCJzdHJpbmdpZnkiLCJnZXRQcm9wIiwicHJvcCIsImhhc2giLCJ1cmwiLCJyYW5kb21JZCIsIk1hdGgiLCJyYW5kb20iLCJ0b1N0cmluZyIsInN1YnN0cmluZyIsImdldEluZGV4IiwidG9kb0lkIiwiZm91bmRJbmRleCIsImluZGV4IiwibGVuZ3RoIiwiY29tcHV0ZU9wdGlvbnMiLCJnZXRTdGF0ZSIsImZpbHRlclN0YXRlIiwiYXNzaWduIiwiY291bnRUb3RhbCIsImNvdW50Q29tcGxldGUiLCJpc0VkaXRpbmciLCJmb3JFYWNoIiwibG9jYWxTdG9yYWdlIiwic2V0SXRlbSIsImVycm9yIiwiY2xhc3NMaXN0IiwidHJpbSIsImNvbXB1dGVJbml0IiwiZ2V0SXRlbSIsImNvbXB1dGVBZGQiLCJpc1Zpc2libGVTdGF0ZSIsInB1c2giLCJjb21wdXRlRWRpdCIsImNvbXB1dGVSZW1vdmUiLCJzcGxpY2UiLCJjb21wdXRlVG9nZ2xlIiwiY29tcHV0ZVRvZ2dsZUFsbCIsImFsbENvbXBsZXRlZCIsImNvbXB1dGVGaWx0ZXJCeSIsImNvbXB1dGVSZW1vdmVDb21wbGV0ZWQiLCJjb21wdXRlVG9nZ2xlRWRpdCIsImh0bWwiLCJwcmVsb2FkZWRTdGF0ZSIsInZlcnNpb24iLCJhY3Rpb25zIiwicmVkdXhfMSIsInJlZHV4X3NhZ2FfMSIsInJlZHV4X2RldnRvb2xzX2V4dGVuc2lvbl8xIiwiZHJtem5fcmVkdXhfMSIsInNhZ2FNaWRkbGV3YXJlIiwic3RvcmVDcmVhdGUiLCJjcmVhdGVTdG9yZSIsImFjdGlvblJlZHVjZXIiLCJoeWRyYXRlIiwiY29tcG9zZVdpdGhEZXZUb29scyIsImFwcGx5TWlkZGxld2FyZSIsIlRvZG8iLCJleHByZXNzIiwiY29tcHJlc3Npb24iLCJodHRwIiwiUHVzaGVyIiwianNTdHJpbmdFc2NhcGUiLCJzdG9yZV8xIiwiVG9kb0NvbnRyb2xsZXJfMSIsInBsYWNlaG9sZGVyXzEiLCJkcm16bl9yZWFjdF8xIiwicm9vdF8xIiwicHVzaGVyIiwiYXBwSWQiLCJwcm9jZXNzIiwiZW52IiwiQVBQSUQiLCJLRVkiLCJzZWNyZXQiLCJTRUNSRVQiLCJjbHVzdGVyIiwiQ0xVU1RFUiIsInVzZVRMUyIsIkVOQ1JZUFRFRCIsImFwcCIsInVzZSIsInJlcSIsInJlcyIsIl9fYXdhaXRlciIsInRoaXMiLCJzc3IiLCJyZW5kZXIiLCJtZXNzYWdlIiwicGFyYW1zIiwidHJpZ2dlciIsInN0YXR1cyIsImVuZCIsInN0YXRpYyIsImNyZWF0ZVNlcnZlciIsImxpc3RlbiIsIlBPUlQiLCJyZXF1aXJlIl0sIm1hcHBpbmdzIjoiYUFDQSxJQUFBQSxFQUFBLEdBR0EsU0FBQUMsRUFBQUMsR0FHQSxHQUFBRixFQUFBRSxHQUNBLE9BQUFGLEVBQUFFLEdBQUFDLFFBR0EsSUFBQUMsRUFBQUosRUFBQUUsR0FBQSxDQUNBRyxFQUFBSCxFQUNBSSxHQUFBLEVBQ0FILFFBQUEsSUFVQSxPQU5BSSxFQUFBTCxHQUFBTSxLQUFBSixFQUFBRCxRQUFBQyxJQUFBRCxRQUFBRixHQUdBRyxFQUFBRSxHQUFBLEVBR0FGLEVBQUFELFFBS0FGLEVBQUFRLEVBQUFGLEVBR0FOLEVBQUFTLEVBQUFWLEVBR0FDLEVBQUFVLEVBQUEsU0FBQVIsRUFBQVMsRUFBQUMsR0FDQVosRUFBQWEsRUFBQVgsRUFBQVMsSUFDQUcsT0FBQUMsZUFBQWIsRUFBQVMsRUFBQSxDQUEwQ0ssWUFBQSxFQUFBQyxJQUFBTCxLQUsxQ1osRUFBQWtCLEVBQUEsU0FBQWhCLEdBQ0Esb0JBQUFpQixlQUFBQyxhQUNBTixPQUFBQyxlQUFBYixFQUFBaUIsT0FBQUMsWUFBQSxDQUF3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QkMsRUFBTXRCLElBQ1pzQixFQUFJQyxJQUFJdEIsS0FFUnFCLEVBQUl2SyxJQUFJLElBQUssQ0FBT3lLLEVBQUtDLElBQU9DLEVBQUFDLFVBQUEscUJBQzlCLE1BQU12RyxFQUFRaUYsRUFBQVosb0JBQ1JhLEVBQUFQLEtBQUszRSxHQUFPSSxLQUFLLEtBR3ZCZ0YsRUFBQW9CLElBQUlyQixFQUFBL0csWUFBYWlILEVBQUF0SSxRQVZILFNBVWlCMEosT0FBT3pHLEVBQU9vRyxFQUFLQyxNQU9wREgsRUFBSXZLLElBQUksMkJBQTRCLENBQU95SyxFQUFLQyxJQUFPQyxFQUFBQyxVQUFBLHFCQUNyRCxNQUFNRyxFQUFVMUIsRUFBZW9CLEVBQUlPLE9BQU9ELFNBQzFDcEIsRUFBT3NCLFFBQVEsUUFBUyxpQkFBa0IsQ0FDeENGLFlBRUZMLEVBQUlRLE9BQU8sS0FBS0MsU0FHbEJaLEVBQUlDLElBQUksSUFBS3ZCLEVBQVFtQyxPQUFPLFdBRWJqQyxFQUFLa0MsYUFBYWQsR0FDMUJlLE9BQU96QixRQUFRQyxJQUFJeUIsaUNDM0QxQnJNLEVBQUFELFFBQUF1TSxRQUFBLDRDQ0FBdE0sRUFBQUQsUUFBQXVNLFFBQUEsNENDQUF0TSxFQUFBRCxRQUFBdU0sUUFBQSxzQ0NBQXRNLEVBQUFELFFBQUF1TSxRQUFBLCtCQ0FBdE0sRUFBQUQsUUFBQXVNLFFBQUEsMENDQUF0TSxFQUFBRCxRQUFBdU0sUUFBQSxpRUNBQXRNLEVBQUFELFFBQUF1TSxRQUFBLHFEQ0FBdE0sRUFBQUQsUUFBQXVNLFFBQUEsK0JDQUF0TSxFQUFBRCxRQUFBdU0sUUFBQSxzQ0NBQXRNLEVBQUFELFFBQUF1TSxRQUFBLG9DQ0FBdE0sRUFBQUQsUUFBQXVNLFFBQUEsbURDQUF0TSxFQUFBRCxRQUFBdU0sUUFBQSx3RENBQXRNLEVBQUFELFFBQUF1TSxRQUFBIiwiZmlsZSI6InNlcnZlci5qcyIsInNvdXJjZXNDb250ZW50IjpbIiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9XG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGdldHRlciB9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xuIFx0XHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcbiBcdFx0fVxuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuIFx0fTtcblxuIFx0Ly8gY3JlYXRlIGEgZmFrZSBuYW1lc3BhY2Ugb2JqZWN0XG4gXHQvLyBtb2RlICYgMTogdmFsdWUgaXMgYSBtb2R1bGUgaWQsIHJlcXVpcmUgaXRcbiBcdC8vIG1vZGUgJiAyOiBtZXJnZSBhbGwgcHJvcGVydGllcyBvZiB2YWx1ZSBpbnRvIHRoZSBuc1xuIFx0Ly8gbW9kZSAmIDQ6IHJldHVybiB2YWx1ZSB3aGVuIGFscmVhZHkgbnMgb2JqZWN0XG4gXHQvLyBtb2RlICYgOHwxOiBiZWhhdmUgbGlrZSByZXF1aXJlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnQgPSBmdW5jdGlvbih2YWx1ZSwgbW9kZSkge1xuIFx0XHRpZihtb2RlICYgMSkgdmFsdWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKHZhbHVlKTtcbiBcdFx0aWYobW9kZSAmIDgpIHJldHVybiB2YWx1ZTtcbiBcdFx0aWYoKG1vZGUgJiA0KSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICYmIHZhbHVlLl9fZXNNb2R1bGUpIHJldHVybiB2YWx1ZTtcbiBcdFx0dmFyIG5zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yKG5zKTtcbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG5zLCAnZGVmYXVsdCcsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHZhbHVlIH0pO1xuIFx0XHRpZihtb2RlICYgMiAmJiB0eXBlb2YgdmFsdWUgIT0gJ3N0cmluZycpIGZvcih2YXIga2V5IGluIHZhbHVlKSBfX3dlYnBhY2tfcmVxdWlyZV9fLmQobnMsIGtleSwgZnVuY3Rpb24oa2V5KSB7IHJldHVybiB2YWx1ZVtrZXldOyB9LmJpbmQobnVsbCwga2V5KSk7XG4gXHRcdHJldHVybiBucztcbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSBcIi4vc3JjL3NlcnZlci50c1wiKTtcbiIsImltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IE9wdGlvbnMgfSBmcm9tICdzcmMvY29uZmlnL2ludGVyZmFjZXMnO1xuXG5jb25zdCBGb290ZXIgPSAocHJvcHMpID0+IHtcbiAgY29uc3Qgb3B0aW9uczpPcHRpb25zID0gcHJvcHMuc3RhdGUuTWFpbi50b2RvLm9wdGlvbnM7XG4gIGlmICghb3B0aW9ucy5oYXNEYXRhKSByZXR1cm4gbnVsbDtcbiAgY29uc3QgaXRlbVR4dCA9IG9wdGlvbnMuaXNPbmVDb3VudCA/ICdpdGVtJyA6ICdpdGVtcyc7XG4gIGNvbnN0IGNsZWFyQ29tcGxldGVkID0gKCkgPT4ge1xuICAgIGlmIChvcHRpb25zLmhhc0NvbXBsZXRlZCkge1xuICAgICAgcmV0dXJuIDxidXR0b24gY2xhc3NOYW1lPVwiY2xlYXItY29tcGxldGVkXCI+Q2xlYXIgY29tcGxldGVkPC9idXR0b24+O1xuICAgIH1cbiAgfTtcbiAgcmV0dXJuIChcbiAgICA8Zm9vdGVyIGNsYXNzTmFtZT1cImZvb3RlclwiPlxuICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidG9kby1jb3VudFwiPjxzdHJvbmc+e29wdGlvbnMuY291bnROb3RDb21wbGV0ZX08L3N0cm9uZz4ge2l0ZW1UeHR9IGxlZnQ8L3NwYW4+XG4gICAgICAgIDx1bCBjbGFzc05hbWU9XCJmaWx0ZXJzXCI+XG4gICAgICAgICAgPGxpPjxhIGNsYXNzTmFtZT17b3B0aW9ucy5maWx0ZXIuYWxsID8gJ3NlbGVjdGVkJyA6ICcnfSBocmVmPVwiIy9cIj5BbGw8L2E+PC9saT5cbiAgICAgICAgICA8bGk+PGEgY2xhc3NOYW1lPXtvcHRpb25zLmZpbHRlci5hY3RpdmUgPyAnc2VsZWN0ZWQnIDogJyd9IGhyZWY9XCIjL2FjdGl2ZVwiPkFjdGl2ZTwvYT48L2xpPlxuICAgICAgICAgIDxsaT48YSBjbGFzc05hbWU9e29wdGlvbnMuZmlsdGVyLmNvbXBsZXRlZCA/ICdzZWxlY3RlZCcgOiAnJ30gaHJlZj1cIiMvY29tcGxldGVkXCI+Q29tcGxldGVkPC9hPjwvbGk+XG4gICAgICAgIDwvdWw+XG4gICAgICAgIHtjbGVhckNvbXBsZXRlZCgpfVxuICAgIDwvZm9vdGVyPlxuICApO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgUmVhY3QubWVtbyhGb290ZXIpO1xuIiwiaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuXG5jb25zdCBIZWFkZXIgPSAoKSA9PiB7XG4gIHJldHVybiAoXG4gICAgPGRpdiBpZD1cImhlYWRlclwiPlxuICAgICAgPGhlYWRlciBjbGFzc05hbWU9XCJoZWFkZXJcIj5cbiAgICAgICAgPGgxPnRvZG9zPC9oMT5cbiAgICAgICAgPGlucHV0IGNsYXNzTmFtZT1cIm5ldy10b2RvXCIgcGxhY2Vob2xkZXI9XCJXaGF0IG5lZWRzIHRvIGJlIGRvbmU/XCIgYXV0b0ZvY3VzPXt0cnVlfSAvPlxuICAgICAgPC9oZWFkZXI+XG4gICAgPC9kaXY+XG4gICk7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBSZWFjdC5tZW1vKEhlYWRlcik7XG4iLCJpbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBjb25uZWN0IH0gZnJvbSAncmVhY3QtcmVkdXgnO1xuXG5pbXBvcnQgSGVhZGVyIGZyb20gJ3NyYy9jb21wb25lbnRzL2hlYWRlcic7XG5pbXBvcnQgRm9vdGVyIGZyb20gJ3NyYy9jb21wb25lbnRzL2Zvb3Rlcic7XG5pbXBvcnQgVG9kb3MgZnJvbSAnc3JjL2NvbXBvbmVudHMvdG9kb3MnO1xuXG5mdW5jdGlvbiBtYXBTdGF0ZVRvUHJvcHMoc3RhdGUpIHtcbiAgcmV0dXJuIHN0YXRlO1xufVxuXG5jb25zdCBBcHAgPSAocHJvcHMpID0+IHtcbiAgcmV0dXJuIChcbiAgICA8c2VjdGlvbiBjbGFzc05hbWU9XCJ0b2RvYXBwXCI+XG4gICAgICA8SGVhZGVyIC8+XG4gICAgICA8VG9kb3Mgc3RhdGU9e3Byb3BzLnN0YXRlfSAvPlxuICAgICAgPEZvb3RlciBzdGF0ZT17cHJvcHMuc3RhdGV9IC8+XG4gICAgPC9zZWN0aW9uPlxuICApO1xufTtcblxuLy8gZXhwb3J0IGRlZmF1bHQgQXBwO1xuZXhwb3J0IGRlZmF1bHQgY29ubmVjdChtYXBTdGF0ZVRvUHJvcHMpKEFwcCk7XG4iLCJpbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBjbGFzc05hbWVzIH0gZnJvbSAnc3JjL2NvbmZpZy9mdW5jdGlvbnMnO1xuaW1wb3J0IHsgVG9kbyB9IGZyb20gJ3NyYy9jb25maWcvaW50ZXJmYWNlcyc7XG5cbmNvbnN0IFRvZG9JdGVtID0gKHByb3BzKSA9PiB7XG4gIGNvbnN0IGl0ZW06VG9kbyA9IHByb3BzLmRhdGE7XG4gIGZ1bmN0aW9uIGhhbmRsZUNoYW5nZSgpIHt9XG4gIHJldHVybiAoXG4gICAgPGxpIGtleT17aXRlbS5pZH0gZGF0YS1pZD17aXRlbS5pZH0gY2xhc3NOYW1lPXtjbGFzc05hbWVzKGl0ZW0pfT5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwidmlld1wiPlxuICAgICAgPGlucHV0IGNsYXNzTmFtZT1cInRvZ2dsZVwiIHR5cGU9XCJjaGVja2JveFwiIGNoZWNrZWQ9e2l0ZW0uaXNDb21wbGV0ZWR9IG9uQ2hhbmdlPXtoYW5kbGVDaGFuZ2V9IC8+XG4gICAgICAgIDxsYWJlbD57aXRlbS50ZXh0fTwvbGFiZWw+XG4gICAgICAgIDxidXR0b24gY2xhc3NOYW1lPVwiZGVzdHJveVwiLz5cbiAgICAgIDwvZGl2PlxuICAgICAgPGlucHV0IHR5cGU9XCJ0ZXh0XCIgY2xhc3NOYW1lPVwiZWRpdFwiIGRlZmF1bHRWYWx1ZT17aXRlbS50ZXh0fSBkYXRhLXRleHQ9e2l0ZW0udGV4dH0gLz5cbiAgICA8L2xpPlxuICApO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgUmVhY3QubWVtbyhUb2RvSXRlbSk7XG4iLCJpbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBUb2RvLCBPcHRpb25zIH0gZnJvbSAnc3JjL2NvbmZpZy9pbnRlcmZhY2VzJztcbmltcG9ydCBUb2RvSXRlbSBmcm9tICdzcmMvY29tcG9uZW50cy90b2RvJztcblxuY29uc3QgVG9kb3MgPSAocHJvcHMpID0+IHtcbiAgY29uc3QgZGF0YTpbVG9kb10gPSBwcm9wcy5zdGF0ZS5NYWluLnRvZG8uZGF0YTtcbiAgY29uc3Qgb3B0aW9uczpPcHRpb25zID0gcHJvcHMuc3RhdGUuTWFpbi50b2RvLm9wdGlvbnM7XG4gIGlmICghb3B0aW9ucy5oYXNEYXRhKSByZXR1cm4gbnVsbDtcbiAgZnVuY3Rpb24gaGFuZGxlQ2hhbmdlKCkge31cbiAgcmV0dXJuIChcbiAgICA8c2VjdGlvbiBjbGFzc05hbWU9XCJtYWluXCI+XG4gICAgICA8aW5wdXQgaWQ9XCJ0b2dnbGUtYWxsXCIgY2xhc3NOYW1lPVwidG9nZ2xlLWFsbFwiIHR5cGU9XCJjaGVja2JveFwiIGNoZWNrZWQ9e29wdGlvbnMuaXNBbGxDb21wbGV0ZX0gb25DaGFuZ2U9e2hhbmRsZUNoYW5nZX0gLz5cbiAgICAgIDxsYWJlbCBodG1sRm9yPVwidG9nZ2xlLWFsbFwiPk1hcmsgYWxsIGFzIGNvbXBsZXRlPC9sYWJlbD5cbiAgICAgIDx1bCBjbGFzc05hbWU9XCJ0b2RvLWxpc3RcIj5cbiAgICAgICAge2RhdGEuZmlsdGVyKGl0ZW0gPT4gaXRlbS5pc1Zpc2libGUpLm1hcChpdGVtID0+IDxUb2RvSXRlbSBkYXRhPXtpdGVtfSBrZXk9e2l0ZW0uaWR9IC8+KX1cbiAgICAgIDwvdWw+XG4gICAgPC9zZWN0aW9uPlxuICApO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgUmVhY3QubWVtbyhUb2Rvcyk7XG4iLCJpbXBvcnQgKiBhcyBpbW11dGFibGUgZnJvbSAnb2JqZWN0LXBhdGgtaW1tdXRhYmxlL2luZGV4JztcblxuZXhwb3J0IG5hbWVzcGFjZSBwYWdlIHtcbiAgZXhwb3J0IGNvbnN0IHR5cGUgPSAnUEFHRSc7XG4gIGV4cG9ydCBjb25zdCBkaXNwYXRjaCA9IChzdG9yZSwgcGFnZSkgPT4ge1xuICAgIHN0b3JlLmRpc3BhdGNoKHtcbiAgICAgIHR5cGUsXG4gICAgICBwYWdlXG4gICAgfSk7XG4gIH07XG4gIGV4cG9ydCBjb25zdCByZWR1Y2UgPSAoc3RhdGUsIGFjdGlvbikgPT4gaW1tdXRhYmxlKHN0YXRlKVxuICAgIC5zZXQoJ01haW4ub3B0aW9ucy5tYWluUGFnZScsIHt9KVxuICAgIC5zZXQoYE1haW4ub3B0aW9ucy5tYWluUGFnZS4ke2FjdGlvbi5wYWdlfWAsIHRydWUpXG4gICAgLnZhbHVlKCk7XG59XG5cbmV4cG9ydCBuYW1lc3BhY2UgaW5pdCB7XG4gIGV4cG9ydCBjb25zdCB0eXBlID0gJ2luaXQnO1xuICBleHBvcnQgY29uc3QgZGlzcGF0Y2ggPSAoc3RvcmUsIGRhdGEsIG9wdGlvbnMpID0+IHtcbiAgICBzdG9yZS5kaXNwYXRjaCh7XG4gICAgICB0eXBlLFxuICAgICAgZGF0YSxcbiAgICAgIG9wdGlvbnNcbiAgICB9KTtcbiAgfTtcbiAgZXhwb3J0IGNvbnN0IHJlZHVjZSA9IChzdGF0ZSwgYWN0aW9uKSA9PiBpbW11dGFibGUoc3RhdGUpXG4gICAgLnNldCgnTWFpbi50b2RvLmRhdGEnLCBhY3Rpb24uZGF0YSlcbiAgICAuc2V0KCdNYWluLnRvZG8ub3B0aW9ucycsIGFjdGlvbi5vcHRpb25zKVxuICAgIC52YWx1ZSgpO1xufVxuXG5leHBvcnQgbmFtZXNwYWNlIGFkZCB7XG4gIGV4cG9ydCBjb25zdCB0eXBlID0gJ2FkZCc7XG4gIGV4cG9ydCBjb25zdCBkaXNwYXRjaCA9IChzdG9yZSwgZGF0YSwgb3B0aW9ucykgPT4ge1xuICAgIHN0b3JlLmRpc3BhdGNoKHtcbiAgICAgIHR5cGUsXG4gICAgICBkYXRhLFxuICAgICAgb3B0aW9uc1xuICAgIH0pO1xuICB9O1xuICBleHBvcnQgY29uc3QgcmVkdWNlID0gKHN0YXRlLCBhY3Rpb24pID0+IGltbXV0YWJsZShzdGF0ZSlcbiAgICAuc2V0KCdNYWluLnRvZG8uZGF0YScsIGFjdGlvbi5kYXRhKVxuICAgIC5zZXQoJ01haW4udG9kby5vcHRpb25zJywgYWN0aW9uLm9wdGlvbnMpXG4gICAgLnZhbHVlKCk7XG59XG5cbmV4cG9ydCBuYW1lc3BhY2UgZWRpdCB7XG4gIGV4cG9ydCBjb25zdCB0eXBlID0gJ2VkaXQnO1xuICBleHBvcnQgY29uc3QgZGlzcGF0Y2ggPSAoc3RvcmUsIGRhdGEsIG9wdGlvbnMpID0+IHtcbiAgICBzdG9yZS5kaXNwYXRjaCh7XG4gICAgICB0eXBlLFxuICAgICAgZGF0YSxcbiAgICAgIG9wdGlvbnNcbiAgICB9KTtcbiAgfTtcbiAgZXhwb3J0IGNvbnN0IHJlZHVjZSA9IChzdGF0ZSwgYWN0aW9uKSA9PiBpbW11dGFibGUoc3RhdGUpXG4gICAgLnNldCgnTWFpbi50b2RvLmRhdGEnLCBhY3Rpb24uZGF0YSlcbiAgICAuc2V0KCdNYWluLnRvZG8ub3B0aW9ucycsIGFjdGlvbi5vcHRpb25zKVxuICAgIC52YWx1ZSgpO1xufVxuXG5leHBvcnQgbmFtZXNwYWNlIHJlbW92ZSB7XG4gIGV4cG9ydCBjb25zdCB0eXBlID0gJ3JlbW92ZSc7XG4gIGV4cG9ydCBjb25zdCBkaXNwYXRjaCA9IChzdG9yZSwgZGF0YSwgb3B0aW9ucykgPT4ge1xuICAgIHN0b3JlLmRpc3BhdGNoKHtcbiAgICAgIHR5cGUsXG4gICAgICBkYXRhLFxuICAgICAgb3B0aW9uc1xuICAgIH0pO1xuICB9O1xuICBleHBvcnQgY29uc3QgcmVkdWNlID0gKHN0YXRlLCBhY3Rpb24pID0+IGltbXV0YWJsZShzdGF0ZSlcbiAgICAuc2V0KCdNYWluLnRvZG8uZGF0YScsIGFjdGlvbi5kYXRhKVxuICAgIC5zZXQoJ01haW4udG9kby5vcHRpb25zJywgYWN0aW9uLm9wdGlvbnMpXG4gICAgLnZhbHVlKCk7XG59XG5cbmV4cG9ydCBuYW1lc3BhY2UgdG9nZ2xlIHtcbiAgZXhwb3J0IGNvbnN0IHR5cGUgPSAndG9nZ2xlJztcbiAgZXhwb3J0IGNvbnN0IGRpc3BhdGNoID0gKHN0b3JlLCBkYXRhLCBvcHRpb25zKSA9PiB7XG4gICAgc3RvcmUuZGlzcGF0Y2goe1xuICAgICAgdHlwZSxcbiAgICAgIGRhdGEsXG4gICAgICBvcHRpb25zXG4gICAgfSk7XG4gIH07XG4gIGV4cG9ydCBjb25zdCByZWR1Y2UgPSAoc3RhdGUsIGFjdGlvbikgPT4gaW1tdXRhYmxlKHN0YXRlKVxuICAgIC5zZXQoJ01haW4udG9kby5kYXRhJywgYWN0aW9uLmRhdGEpXG4gICAgLnNldCgnTWFpbi50b2RvLm9wdGlvbnMnLCBhY3Rpb24ub3B0aW9ucylcbiAgICAudmFsdWUoKTtcbn1cblxuZXhwb3J0IG5hbWVzcGFjZSB0b2dnbGVBbGwge1xuICBleHBvcnQgY29uc3QgdHlwZSA9ICd0b2dnbGVBbGwnO1xuICBleHBvcnQgY29uc3QgZGlzcGF0Y2ggPSAoc3RvcmUsIGRhdGEsIG9wdGlvbnMpID0+IHtcbiAgICBzdG9yZS5kaXNwYXRjaCh7XG4gICAgICB0eXBlLFxuICAgICAgZGF0YSxcbiAgICAgIG9wdGlvbnNcbiAgICB9KTtcbiAgfTtcbiAgZXhwb3J0IGNvbnN0IHJlZHVjZSA9IChzdGF0ZSwgYWN0aW9uKSA9PiBpbW11dGFibGUoc3RhdGUpXG4gICAgLnNldCgnTWFpbi50b2RvLmRhdGEnLCBhY3Rpb24uZGF0YSlcbiAgICAuc2V0KCdNYWluLnRvZG8ub3B0aW9ucycsIGFjdGlvbi5vcHRpb25zKVxuICAgIC52YWx1ZSgpO1xufVxuXG5leHBvcnQgbmFtZXNwYWNlIGZpbHRlckJ5IHtcbiAgZXhwb3J0IGNvbnN0IHR5cGUgPSAnZmlsdGVyQnknO1xuICBleHBvcnQgY29uc3QgZGlzcGF0Y2ggPSAoc3RvcmUsIGRhdGEsIG9wdGlvbnMpID0+IHtcbiAgICBzdG9yZS5kaXNwYXRjaCh7XG4gICAgICB0eXBlLFxuICAgICAgZGF0YSxcbiAgICAgIG9wdGlvbnNcbiAgICB9KTtcbiAgfTtcbiAgZXhwb3J0IGNvbnN0IHJlZHVjZSA9IChzdGF0ZSwgYWN0aW9uKSA9PiBpbW11dGFibGUoc3RhdGUpXG4gICAgLnNldCgnTWFpbi50b2RvLmRhdGEnLCBhY3Rpb24uZGF0YSlcbiAgICAuc2V0KCdNYWluLnRvZG8ub3B0aW9ucycsIGFjdGlvbi5vcHRpb25zKVxuICAgIC52YWx1ZSgpO1xufVxuXG5leHBvcnQgbmFtZXNwYWNlIHJlbW92ZUNvbXBsZXRlZCB7XG4gIGV4cG9ydCBjb25zdCB0eXBlID0gJ3JlbW92ZUNvbXBsZXRlZCc7XG4gIGV4cG9ydCBjb25zdCBkaXNwYXRjaCA9IChzdG9yZSwgZGF0YSwgb3B0aW9ucykgPT4ge1xuICAgIHN0b3JlLmRpc3BhdGNoKHtcbiAgICAgIHR5cGUsXG4gICAgICBkYXRhLFxuICAgICAgb3B0aW9uc1xuICAgIH0pO1xuICB9O1xuICBleHBvcnQgY29uc3QgcmVkdWNlID0gKHN0YXRlLCBhY3Rpb24pID0+IGltbXV0YWJsZShzdGF0ZSlcbiAgICAuc2V0KCdNYWluLnRvZG8uZGF0YScsIGFjdGlvbi5kYXRhKVxuICAgIC5zZXQoJ01haW4udG9kby5vcHRpb25zJywgYWN0aW9uLm9wdGlvbnMpXG4gICAgLnZhbHVlKCk7XG59XG5cbmV4cG9ydCBuYW1lc3BhY2UgdG9nZ2xlRWRpdGluZyB7XG4gIGV4cG9ydCBjb25zdCB0eXBlID0gJ3RvZ2dsZUVkaXRpbmcnO1xuICBleHBvcnQgY29uc3QgZGlzcGF0Y2ggPSAoc3RvcmUsIGRhdGEsIG9wdGlvbnMpID0+IHtcbiAgICBzdG9yZS5kaXNwYXRjaCh7XG4gICAgICB0eXBlLFxuICAgICAgZGF0YSxcbiAgICAgIG9wdGlvbnNcbiAgICB9KTtcbiAgfTtcbiAgZXhwb3J0IGNvbnN0IHJlZHVjZSA9IChzdGF0ZSwgYWN0aW9uKSA9PiBpbW11dGFibGUoc3RhdGUpXG4gICAgLnNldCgnTWFpbi50b2RvLmRhdGEnLCBhY3Rpb24uZGF0YSlcbiAgICAuc2V0KCdNYWluLnRvZG8ub3B0aW9ucycsIGFjdGlvbi5vcHRpb25zKVxuICAgIC52YWx1ZSgpO1xufVxuXG5leHBvcnQgbmFtZXNwYWNlIG1vbml0b3JTYWdhIHtcbiAgZXhwb3J0IGNvbnN0IHR5cGUgPSAnbW9uaXRvclNhZ2EnO1xuICBleHBvcnQgY29uc3QgZGlzcGF0Y2ggPSAoc3RvcmUsIGRhdGEpID0+IHtcbiAgICBzdG9yZS5kaXNwYXRjaCh7XG4gICAgICB0eXBlLFxuICAgICAgZGF0YVxuICAgIH0pO1xuICB9O1xuICBleHBvcnQgY29uc3QgcmVkdWNlID0gKHN0YXRlLCBhY3Rpb24pID0+IGltbXV0YWJsZShzdGF0ZSlcbiAgICAuc2V0KCdNYWluLnNhZ2EudGVzdCcsIGFjdGlvbi5kYXRhKVxuICAgIC5zZXQoJ01haW4uc2FnYS5yZWR1Y2VyJywgJ3lveW8nKVxuICAgIC52YWx1ZSgpO1xufVxuIiwiaW1wb3J0IHsgU3RvcmUgfSBmcm9tICdyZWR1eCc7XG5pbXBvcnQgeyBUb2RvLCBPcHRpb25zIH0gZnJvbSAnc3JjL2NvbmZpZy9pbnRlcmZhY2VzJztcblxuZnVuY3Rpb24gY29weShvYmopIHtcbiAgcmV0dXJuIEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkob2JqKSk7XG59XG5cbi8vIGdldCBjbGFzc2VzXG5leHBvcnQgZnVuY3Rpb24gY2xhc3NOYW1lcyhpdGVtKSB7XG4gIGxldCBjbGFzc0xpc3QgPSAnJztcbiAgaWYgKGl0ZW0uaXNDb21wbGV0ZWQpIHtcbiAgICBjbGFzc0xpc3QgPSBgJHtjbGFzc0xpc3R9IGNvbXBsZXRlZGA7XG4gIH1cbiAgaWYgKGl0ZW0uaXNFZGl0aW5nKSB7XG4gICAgY2xhc3NMaXN0ID0gYCR7Y2xhc3NMaXN0fSBlZGl0aW5nYDtcbiAgfVxuICByZXR1cm4gY2xhc3NMaXN0LnRyaW0oKTtcbn1cblxuLy8gZ2V0IHR5cGUgZm9yIGZpbHRlclxuZXhwb3J0IGZ1bmN0aW9uIGdldFByb3AocHJvcDogc3RyaW5nLCBoYXNoOnN0cmluZykge1xuICBsZXQgdHlwZTpzdHJpbmcgPSAnYWxsJztcbiAgbGV0IHVybDpzdHJpbmcgPSAnLyc7XG4gIGlmIChoYXNoID09PSAnIy8nKSB7IHR5cGUgPSAnYWxsJzsgdXJsID0gJy8nOyB9XG4gIGlmIChoYXNoID09PSAnIy9hY3RpdmUnKSB7IHR5cGUgPSAnYWN0aXZlJzsgdXJsID0gJy9hY3RpdmUnOyB9XG4gIGlmIChoYXNoID09PSAnIy9jb21wbGV0ZWQnKSB7IHR5cGUgPSAnY29tcGxldGVkJzsgdXJsID0gJy9jb21wbGV0ZWQnOyB9XG4gIGlmIChwcm9wID09PSAndHlwZScpIHtcbiAgICByZXR1cm4gdHlwZTtcbiAgfVxuICByZXR1cm4gdXJsO1xufVxuXG4vLyBnZW5lcmF0ZSByYW5kb20gaWRcbmV4cG9ydCBmdW5jdGlvbiByYW5kb21JZCgpIHtcbiAgcmV0dXJuIE1hdGgucmFuZG9tKCkudG9TdHJpbmcoMzYpLnN1YnN0cmluZygyLCAxNSkgKyBNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zdWJzdHJpbmcoMiwgMTUpO1xufVxuXG4vLyBnZXQgYXJyYXkgaW5kZXggYnkgaXRlbSBpZCBwcm9wXG5leHBvcnQgZnVuY3Rpb24gZ2V0SW5kZXgoYWxsOltUb2RvXSwgdG9kb0lkOnN0cmluZykge1xuICBsZXQgZm91bmRJbmRleCA9IC0xO1xuICBmb3IgKGxldCBpbmRleCA9IDA7IGluZGV4IDwgYWxsLmxlbmd0aDsgaW5kZXgrKykge1xuICAgIGNvbnN0IHRvZG8gPSBhbGxbaW5kZXhdO1xuICAgIGlmICh0b2RvLmlkID09PSB0b2RvSWQpIHtcbiAgICAgIGZvdW5kSW5kZXggPSBpbmRleDtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGZvdW5kSW5kZXg7XG59XG5cbi8vIHJldHJuIGNvbXB1dGVkIG9wdGlvbnNcbmV4cG9ydCBmdW5jdGlvbiBjb21wdXRlT3B0aW9ucyhzdG9yZTpTdG9yZSwgZGF0YTpbVG9kb10pIHtcbiAgY29uc3Qgc3RhdGUgPSBzdG9yZS5nZXRTdGF0ZSgpO1xuICBsZXQgZmlsdGVyU3RhdGUgPSB7XG4gICAgYWxsOiB0cnVlXG4gIH07XG4gIGlmIChzdGF0ZSAmJiBzdGF0ZS5NYWluICYmIHN0YXRlLk1haW4udG9kbyAmJiBzdGF0ZS5NYWluLnRvZG8ub3B0aW9ucyAmJiBzdGF0ZS5NYWluLnRvZG8ub3B0aW9ucy5maWx0ZXIpIHtcbiAgICBmaWx0ZXJTdGF0ZSA9IE9iamVjdC5hc3NpZ24oe30sIHN0YXRlLk1haW4udG9kby5vcHRpb25zLmZpbHRlcik7XG4gIH1cbiAgY29uc3Qgb3B0aW9uczpPcHRpb25zID0ge1xuICAgIGNvdW50VG90YWw6IDAsXG4gICAgY291bnRDb21wbGV0ZTogMCxcbiAgICBjb3VudE5vdENvbXBsZXRlOiAwLFxuICAgIGhhc0NvbXBsZXRlZDogZmFsc2UsXG4gICAgaXNBbGxDb21wbGV0ZTogZmFsc2UsXG4gICAgaXNFZGl0aW5nOiBmYWxzZSxcbiAgICBoYXNEYXRhOiBmYWxzZSxcbiAgICBpc09uZUNvdW50OiBmYWxzZSxcbiAgICBmaWx0ZXI6IGZpbHRlclN0YXRlXG4gIH07XG4gIC8vIHRvdGFsXG4gIG9wdGlvbnMuY291bnRUb3RhbCA9IGRhdGEubGVuZ3RoO1xuICAvLyBjb3VudENvbXBsZXRlLCBjb3VudE5vdENvbXBsZXRlXG4gIGRhdGEuZm9yRWFjaCgodG9kbzpUb2RvKSA9PiB7XG4gICAgaWYgKHRvZG8uaXNDb21wbGV0ZWQpIHtcbiAgICAgIG9wdGlvbnMuY291bnRDb21wbGV0ZSA9IG9wdGlvbnMuY291bnRDb21wbGV0ZSArIDE7XG4gICAgfSBlbHNlIHtcbiAgICAgIG9wdGlvbnMuY291bnROb3RDb21wbGV0ZSA9IG9wdGlvbnMuY291bnROb3RDb21wbGV0ZSArIDE7XG4gICAgfVxuICAgIGlmICh0b2RvLmlzRWRpdGluZykge1xuICAgICAgb3B0aW9ucy5pc0VkaXRpbmcgPSB0cnVlO1xuICAgIH1cbiAgfSk7XG4gIC8vIGhhc0NvbXBsZXRlZFxuICBpZiAob3B0aW9ucy5jb3VudENvbXBsZXRlID4gMCkge1xuICAgIG9wdGlvbnMuaGFzQ29tcGxldGVkID0gdHJ1ZTtcbiAgfVxuICAvLyBpc0FsbENvbXBsZXRlXG4gIGlmIChkYXRhLmxlbmd0aCA9PT0gb3B0aW9ucy5jb3VudENvbXBsZXRlKSB7XG4gICAgb3B0aW9ucy5pc0FsbENvbXBsZXRlID0gdHJ1ZTtcbiAgfVxuICAvLyBoYXNEYXRhXG4gIGlmIChkYXRhLmxlbmd0aCA+IDApIHtcbiAgICBvcHRpb25zLmhhc0RhdGEgPSB0cnVlO1xuICB9XG4gIC8vIGlzT25lQ291bnRcbiAgaWYgKG9wdGlvbnMuY291bnROb3RDb21wbGV0ZSA9PT0gMSkge1xuICAgIG9wdGlvbnMuaXNPbmVDb3VudCA9IHRydWU7XG4gIH1cbiAgLy8gc2F2ZSBkYXRhXG4gIHRyeSB7XG4gICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3RvZG9zLWRybXpuJywgSlNPTi5zdHJpbmdpZnkoZGF0YSkpO1xuICB9IGNhdGNoIChlcnJvcikge1xuICB9XG4gIHJldHVybiBvcHRpb25zO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY29tcHV0ZUluaXQoc3RvcmU6U3RvcmUsIGhhc2g6c3RyaW5nKSB7XG4gIGxldCBkYXRhOltUb2RvXTtcbiAgdHJ5IHtcbiAgICBkYXRhID0gPFtUb2RvXT5KU09OLnBhcnNlKDxhbnk+bG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3RvZG9zLWRybXpuJykpO1xuICAgIC8vIHJlbW92ZSBlZGl0aW5nIHdoZW4gbG9hZGluZyBmcm9tIGxvY2FsIHN0b3JhZ2VcbiAgICBkYXRhLmZvckVhY2goKHRvZG86VG9kbykgPT4ge1xuICAgICAgdG9kby5pc0VkaXRpbmcgPSBmYWxzZTtcbiAgICB9KTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgfVxuXG4gIGlmICghZGF0YSkge1xuICAgIGRhdGEgPSA8YW55PltdO1xuICB9XG4gIC8vIGNhbGMgb3B0aW9uc1xuICBjb25zdCBvcHRpb25zID0gY29tcHV0ZU9wdGlvbnMoc3RvcmUsIGRhdGEpO1xuICBjb25zdCB0eXBlID0gZ2V0UHJvcCgndHlwZScsIGhhc2gpO1xuICBvcHRpb25zLmZpbHRlciA9IDxhbnk+e307XG4gIG9wdGlvbnMuZmlsdGVyW3R5cGVdID0gdHJ1ZTtcbiAgcmV0dXJuIHtcbiAgICBkYXRhLFxuICAgIG9wdGlvbnNcbiAgfTtcbn1cblxuLyoqXG4gKiBBZGRzIG5ldyB0b2RvIHRvIGxpc3Qgb2YgdG9kb3NcbiAqIEBwYXJhbSBzdG9yZSBpbml0aWFsaXplZCByZWR1eCBzdG9yZVxuICogQHBhcmFtIHRleHQgdGV4dCBvZiB0aGUgbmV3IHRvZG8gaXRlbVxuICovXG5leHBvcnQgZnVuY3Rpb24gY29tcHV0ZUFkZChzdG9yZTpTdG9yZSwgdGV4dDpzdHJpbmcpIHtcbiAgLy8gZ2V0IGN1cnJlbnQgc3RhdGVcbiAgY29uc3Qgc3RhdGUgPSBzdG9yZS5nZXRTdGF0ZSgpO1xuICAvLyBjb3B5IHRvZG9zIGRhdGEgZnJvbSBzdGF0ZVxuICBjb25zdCBkYXRhID0gY29weShzdGF0ZS5NYWluLnRvZG8uZGF0YSk7XG4gIC8vIHNldCBpbml0aWFsIHN0YXRlIHZhcmlhYmxlXG4gIGxldCBpc1Zpc2libGVTdGF0ZSA9IHRydWU7XG4gIC8vIGNoZWNrIGlmIGZpbHRlciBjb21wbGV0ZWQgaXMgdHJ1ZVxuICBpZiAoc3RhdGUuTWFpbi50b2RvLm9wdGlvbnMuZmlsdGVyLmNvbXBsZXRlZCkge1xuICAgIGlzVmlzaWJsZVN0YXRlID0gZmFsc2U7XG4gIH1cbiAgLy8gZ2VuZXJhdGUgaWRcbiAgY29uc3QgaWQgPSByYW5kb21JZCgpO1xuICAvLyBwcmVwYXJlIHRvZG8gb2JqZWN0XG4gIGNvbnN0IHRvZG8gPSB7XG4gICAgaWQsXG4gICAgdGV4dDogdGV4dC50cmltKCksXG4gICAgaXNDb21wbGV0ZWQ6IGZhbHNlLFxuICAgIGlzVmlzaWJsZTogaXNWaXNpYmxlU3RhdGVcbiAgfTtcbiAgLy8gYWRkIHRvZG8gb2JqZWN0IHRvIGNvcGllZCBkYXRhIGxpc3Qgd2l0aCB0b2Rvc1xuICBkYXRhLnB1c2godG9kbyk7XG4gIC8vIGNhbGMgb3B0aW9uc1xuICBjb25zdCBvcHRpb25zID0gY29tcHV0ZU9wdGlvbnMoc3RvcmUsIGRhdGEpO1xuICByZXR1cm4ge1xuICAgIGRhdGEsXG4gICAgb3B0aW9uc1xuICB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY29tcHV0ZUVkaXQoc3RvcmU6U3RvcmUsIHRvZG9JZDpzdHJpbmcsIHRleHQ6c3RyaW5nKSB7XG4gIGNvbnN0IHN0YXRlID0gc3RvcmUuZ2V0U3RhdGUoKTtcbiAgY29uc3QgZGF0YSA9IGNvcHkoc3RhdGUuTWFpbi50b2RvLmRhdGEpO1xuICBjb25zdCBmb3VuZEluZGV4ID0gZ2V0SW5kZXgoZGF0YSwgdG9kb0lkKTtcbiAgLy8gdXBkYXRlIHRleHRcbiAgZGF0YVtmb3VuZEluZGV4XS50ZXh0ID0gdGV4dC50cmltKCk7XG4gIC8vIGNhbGMgb3B0aW9uc1xuICBjb25zdCBvcHRpb25zID0gY29tcHV0ZU9wdGlvbnMoc3RvcmUsIGRhdGEpO1xuICByZXR1cm4ge1xuICAgIGRhdGEsXG4gICAgb3B0aW9uc1xuICB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY29tcHV0ZVJlbW92ZShzdG9yZTpTdG9yZSwgdG9kb0lkOnN0cmluZykge1xuICBjb25zdCBzdGF0ZSA9IHN0b3JlLmdldFN0YXRlKCk7XG4gIGNvbnN0IGRhdGEgPSBjb3B5KHN0YXRlLk1haW4udG9kby5kYXRhKTtcbiAgY29uc3QgZm91bmRJbmRleCA9IGdldEluZGV4KGRhdGEsIHRvZG9JZCk7XG4gIC8vIHJlbW92ZSBpdGVtXG4gIGRhdGEuc3BsaWNlKGZvdW5kSW5kZXgsIDEpO1xuICAvLyBjYWxjIG9wdGlvbnNcbiAgY29uc3Qgb3B0aW9ucyA9IGNvbXB1dGVPcHRpb25zKHN0b3JlLCBkYXRhKTtcbiAgcmV0dXJuIHtcbiAgICBkYXRhLFxuICAgIG9wdGlvbnNcbiAgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNvbXB1dGVUb2dnbGUoc3RvcmU6U3RvcmUsIHRvZG9JZDpzdHJpbmcpIHtcbiAgY29uc3Qgc3RhdGUgPSBzdG9yZS5nZXRTdGF0ZSgpO1xuICBjb25zdCBkYXRhID0gY29weShzdGF0ZS5NYWluLnRvZG8uZGF0YSk7XG4gIGNvbnN0IGZvdW5kSW5kZXggPSBnZXRJbmRleChkYXRhLCB0b2RvSWQpO1xuICAvLyB0b2dnbGUgaXRlbVxuICBkYXRhW2ZvdW5kSW5kZXhdLmlzQ29tcGxldGVkID0gZGF0YVtmb3VuZEluZGV4XS5pc0NvbXBsZXRlZCA/IGZhbHNlIDogdHJ1ZTtcbiAgLy8gaGlkZSBpZiBmaWx0ZXJlZFxuICBpZiAoc3RhdGUuTWFpbi50b2RvLm9wdGlvbnMuZmlsdGVyLmNvbXBsZXRlZCkge1xuICAgIGRhdGFbZm91bmRJbmRleF0uaXNWaXNpYmxlID0gZGF0YVtmb3VuZEluZGV4XS5pc0NvbXBsZXRlZCA/IHRydWUgOiBmYWxzZTtcbiAgfVxuICAvLyBoaWRlIGlmIGZpbHRlcmVkXG4gIGlmIChzdGF0ZS5NYWluLnRvZG8ub3B0aW9ucy5maWx0ZXIuYWN0aXZlKSB7XG4gICAgZGF0YVtmb3VuZEluZGV4XS5pc1Zpc2libGUgPSBkYXRhW2ZvdW5kSW5kZXhdLmlzQ29tcGxldGVkID8gZmFsc2UgOiB0cnVlIDtcbiAgfVxuICAvLyBjYWxjIG9wdGlvbnNcbiAgY29uc3Qgb3B0aW9ucyA9IGNvbXB1dGVPcHRpb25zKHN0b3JlLCBkYXRhKTtcbiAgcmV0dXJuIHtcbiAgICBkYXRhLFxuICAgIG9wdGlvbnNcbiAgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNvbXB1dGVUb2dnbGVBbGwoc3RvcmU6U3RvcmUpIHtcbiAgY29uc3Qgc3RhdGUgPSBzdG9yZS5nZXRTdGF0ZSgpO1xuICBjb25zdCBkYXRhID0gY29weShzdGF0ZS5NYWluLnRvZG8uZGF0YSk7XG4gIGxldCBhbGxDb21wbGV0ZWQgPSB0cnVlO1xuICBkYXRhLmZvckVhY2goKHRvZG86VG9kbykgPT4ge1xuICAgIGlmICh0b2RvLmlzQ29tcGxldGVkID09PSBmYWxzZSkge1xuICAgICAgYWxsQ29tcGxldGVkID0gZmFsc2U7XG4gICAgfVxuICB9KTtcbiAgLy8gaWYgYXQgbGVhc3Qgb25lIGlzIG5vdCBjb21wbGV0ZSAtIG1ha2UgYWxsIGNvbXBsZXRlZFxuICAvLyBpZiBhbGwgYXJlIGNvbXBsZXRlZCAtIG1ha2UgYWxsIG5vdCBjb21wbGV0ZWRcbiAgZGF0YS5mb3JFYWNoKCh0b2RvOlRvZG8pID0+IHtcbiAgICBpZiAoYWxsQ29tcGxldGVkKSB7XG4gICAgICB0b2RvLmlzQ29tcGxldGVkID0gZmFsc2U7XG4gICAgICBpZiAoc3RhdGUuTWFpbi50b2RvLm9wdGlvbnMuZmlsdGVyLmNvbXBsZXRlZCkge1xuICAgICAgICB0b2RvLmlzVmlzaWJsZSA9IGZhbHNlO1xuICAgICAgfVxuICAgICAgaWYgKHN0YXRlLk1haW4udG9kby5vcHRpb25zLmZpbHRlci5hY3RpdmUpIHtcbiAgICAgICAgdG9kby5pc1Zpc2libGUgPSB0cnVlO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICB0b2RvLmlzQ29tcGxldGVkID0gdHJ1ZTtcbiAgICAgIGlmIChzdGF0ZS5NYWluLnRvZG8ub3B0aW9ucy5maWx0ZXIuY29tcGxldGVkKSB7XG4gICAgICAgIHRvZG8uaXNWaXNpYmxlID0gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIGlmIChzdGF0ZS5NYWluLnRvZG8ub3B0aW9ucy5maWx0ZXIuYWN0aXZlKSB7XG4gICAgICAgIHRvZG8uaXNWaXNpYmxlID0gZmFsc2U7XG4gICAgICB9XG4gICAgfVxuICB9KTtcbiAgLy8gY2FsYyBvcHRpb25zXG4gIGNvbnN0IG9wdGlvbnMgPSBjb21wdXRlT3B0aW9ucyhzdG9yZSwgZGF0YSk7XG4gIHJldHVybiB7XG4gICAgZGF0YSxcbiAgICBvcHRpb25zXG4gIH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjb21wdXRlRmlsdGVyQnkoc3RvcmU6U3RvcmUsIHR5cGUgPSAnYWxsJykge1xuICBjb25zdCBzdGF0ZSA9IHN0b3JlLmdldFN0YXRlKCk7XG4gIGNvbnN0IGRhdGEgPSBjb3B5KHN0YXRlLk1haW4udG9kby5kYXRhKTtcbiAgaWYgKHR5cGUgPT09ICdhY3RpdmUnKSB7XG4gICAgZGF0YS5mb3JFYWNoKCh0b2RvOlRvZG8pID0+IHtcbiAgICAgIGlmICh0b2RvLmlzQ29tcGxldGVkID09PSBmYWxzZSkge1xuICAgICAgICB0b2RvLmlzVmlzaWJsZSA9IHRydWU7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0b2RvLmlzVmlzaWJsZSA9IGZhbHNlO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG4gIGlmICh0eXBlID09PSAnY29tcGxldGVkJykge1xuICAgIGRhdGEuZm9yRWFjaCgodG9kbzpUb2RvKSA9PiB7XG4gICAgICBpZiAodG9kby5pc0NvbXBsZXRlZCA9PT0gdHJ1ZSkge1xuICAgICAgICB0b2RvLmlzVmlzaWJsZSA9IHRydWU7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0b2RvLmlzVmlzaWJsZSA9IGZhbHNlO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG4gIGlmICh0eXBlID09PSAnYWxsJykge1xuICAgIGRhdGEuZm9yRWFjaCgodG9kbzpUb2RvKSA9PiB7XG4gICAgICB0b2RvLmlzVmlzaWJsZSA9IHRydWU7XG4gICAgfSk7XG4gIH1cbiAgLy8gY2FsYyBvcHRpb25zXG4gIGNvbnN0IG9wdGlvbnMgPSBjb21wdXRlT3B0aW9ucyhzdG9yZSwgZGF0YSk7XG4gIG9wdGlvbnMuZmlsdGVyID0gPGFueT57fTtcbiAgb3B0aW9ucy5maWx0ZXJbdHlwZV0gPSB0cnVlO1xuICByZXR1cm4ge1xuICAgIGRhdGEsXG4gICAgb3B0aW9uc1xuICB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY29tcHV0ZVJlbW92ZUNvbXBsZXRlZChzdG9yZTpTdG9yZSkge1xuICBjb25zdCBzdGF0ZSA9IHN0b3JlLmdldFN0YXRlKCk7XG4gIGNvbnN0IGRhdGFUZW1wID0gY29weShzdGF0ZS5NYWluLnRvZG8uZGF0YSk7XG4gIC8vIHJlbW92ZSBjb21wbGV0ZWRcbiAgY29uc3QgZGF0YSA9IDxbVG9kb10+ZGF0YVRlbXAuZmlsdGVyKCh0b2RvOlRvZG8pID0+IHRvZG8uaXNDb21wbGV0ZWQgPT09IGZhbHNlKTtcbiAgLy8gY2FsYyBvcHRpb25zXG4gIGNvbnN0IG9wdGlvbnMgPSBjb21wdXRlT3B0aW9ucyhzdG9yZSwgZGF0YSk7XG4gIHJldHVybiB7XG4gICAgZGF0YSxcbiAgICBvcHRpb25zXG4gIH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjb21wdXRlVG9nZ2xlRWRpdChzdG9yZTpTdG9yZSwgdG9kb0lkOnN0cmluZywgdHlwZTpzdHJpbmcsIHRleHQ6c3RyaW5nKSB7XG4gIGNvbnN0IHN0YXRlID0gc3RvcmUuZ2V0U3RhdGUoKTtcbiAgY29uc3QgZGF0YSA9IGNvcHkoc3RhdGUuTWFpbi50b2RvLmRhdGEpO1xuICAvLyB0b2dnbGUgZWRpdFxuICBkYXRhLmZvckVhY2goKHRvZG86VG9kbykgPT4ge1xuICAgIHRvZG8uaXNFZGl0aW5nID0gZmFsc2U7XG4gIH0pO1xuICBpZiAodG9kb0lkICYmIHR5cGUgPT09ICdvbicpIHtcbiAgICBjb25zdCBmb3VuZEluZGV4ID0gZ2V0SW5kZXgoZGF0YSwgdG9kb0lkKTtcbiAgICBpZiAoZm91bmRJbmRleCA+IC0xKSB7XG4gICAgICBkYXRhW2ZvdW5kSW5kZXhdLmlzRWRpdGluZyA9IHRydWU7XG4gICAgfVxuICB9XG4gIC8vIHNhdmUgdGV4dCBvbiBvZmZcbiAgaWYgKHRvZG9JZCAmJiB0ZXh0ICYmIHR5cGUgPT09ICdvZmYnKSB7XG4gICAgY29uc3QgZm91bmRJbmRleCA9IGdldEluZGV4KGRhdGEsIHRvZG9JZCk7XG4gICAgZGF0YVtmb3VuZEluZGV4XS50ZXh0ID0gdGV4dDtcbiAgfVxuICAvLyBjYWxjIG9wdGlvbnNcbiAgY29uc3Qgb3B0aW9ucyA9IGNvbXB1dGVPcHRpb25zKHN0b3JlLCBkYXRhKTtcbiAgcmV0dXJuIHtcbiAgICBkYXRhLFxuICAgIG9wdGlvbnNcbiAgfTtcbn1cbiIsImV4cG9ydCBjb25zdCBwbGFjZWhvbGRlciA9IChodG1sLCBwcmVsb2FkZWRTdGF0ZSwgdmVyc2lvbikgPT4gYDwhZG9jdHlwZSBodG1sPlxuPGh0bWwgbGFuZz1cImVuXCI+XG5cdDxoZWFkPlxuXHRcdDxtZXRhIGNoYXJzZXQ9XCJ1dGYtOFwiPlxuXHRcdDxtZXRhIG5hbWU9XCJ2aWV3cG9ydFwiIGNvbnRlbnQ9XCJ3aWR0aD1kZXZpY2Utd2lkdGgsIGluaXRpYWwtc2NhbGU9MVwiPlxuXHRcdDx0aXRsZT5Ecm16biDigKIgVG9kb01WQzwvdGl0bGU+XG5cdFx0PGxpbmsgcmVsPVwic3R5bGVzaGVldFwiIGhyZWY9XCIvY3NzL2Jhc2UuY3NzXCI+XG5cdFx0PGxpbmsgcmVsPVwic3R5bGVzaGVldFwiIGhyZWY9XCIvY3NzL2luZGV4LmNzc1wiPlxuXHRcdDxsaW5rIHJlbD1cInN0eWxlc2hlZXRcIiBocmVmPVwiL2Nzcy9hcHAuY3NzXCI+XG5cdDwvaGVhZD5cblx0PGJvZHk+XG5cdFx0PGRpdiBpZD1cInJvb3RcIj4ke2h0bWx9PC9kaXY+XG5cblx0XHQ8Zm9vdGVyIGNsYXNzPVwiaW5mb1wiPlxuXHRcdFx0PHA+RG91YmxlLWNsaWNrIHRvIGVkaXQgYSB0b2RvPC9wPlxuXHRcdFx0PHA+Q3JlYXRlZCBieSA8YSBocmVmPVwibWFpbHRvOmFsZXgudHp2ZXRhbm92QGdtYWlsLmNvbVwiPkFsZXggVHp2ZXRhbm92PC9hPjwvcD5cblx0XHRcdDxwPlBhcnQgb2YgPGEgaHJlZj1cImh0dHA6Ly90b2RvbXZjLmNvbVwiPlRvZG9NVkM8L2E+PC9wPlxuXHRcdDwvZm9vdGVyPlxuXG5cdFx0PHNjcmlwdD5cbiAgICAgIHdpbmRvdy5fX1BSRUxPQURFRF9TVEFURV9fID0gJyR7cHJlbG9hZGVkU3RhdGV9JztcbiAgICA8L3NjcmlwdD5cblxuXHRcdDxzY3JpcHQgc3JjPVwiL2pzL2Jhc2UuanNcIj48L3NjcmlwdD5cbiAgICA8c2NyaXB0IHR5cGU9XCJ0ZXh0L2phdmFzY3JpcHRcIiBzcmM9XCIvanMvbWFpbi4ke3ZlcnNpb259Lm1pbi5qc1wiPjwvc2NyaXB0PlxuICA8L2JvZHk+XG48L2h0bWw+YDtcbiIsImltcG9ydCAqIGFzIGFjdGlvbnMgZnJvbSAnc3JjL2NvbmZpZy9hY3Rpb25zJztcbmltcG9ydCB7IGNyZWF0ZVN0b3JlLCBhcHBseU1pZGRsZXdhcmUgfSBmcm9tICdyZWR1eCc7XG5pbXBvcnQgY3JlYXRlU2FnYU1pZGRsZXdhcmUgZnJvbSAncmVkdXgtc2FnYSc7XG5pbXBvcnQgeyBjb21wb3NlV2l0aERldlRvb2xzIH0gZnJvbSAncmVkdXgtZGV2dG9vbHMtZXh0ZW5zaW9uJztcblxuaW1wb3J0IHsgYWN0aW9uUmVkdWNlciwgaHlkcmF0ZSB9IGZyb20gJ2RybXpuLXJlZHV4JztcblxuZXhwb3J0IGNvbnN0IHNhZ2FNaWRkbGV3YXJlID0gY3JlYXRlU2FnYU1pZGRsZXdhcmUoKTtcblxuLy8gZXhwb3J0IGZ1bmN0aW9uIHRoYXQgY3JlYXRlcyBuZXcgc3RvcmUgZm9yIHNlcnZlciBzaWRlXG5leHBvcnQgY29uc3Qgc3RvcmVDcmVhdGUgPSAoKSA9PiBjcmVhdGVTdG9yZShhY3Rpb25SZWR1Y2VyKGFjdGlvbnMpLCBoeWRyYXRlLCBjb21wb3NlV2l0aERldlRvb2xzKGFwcGx5TWlkZGxld2FyZShzYWdhTWlkZGxld2FyZSkpKTtcblxuLy8gaW5pdCB0aGUgc3RvcmUgb24gY2xpZW50IHNpZGVcbmV4cG9ydCBjb25zdCBzdG9yZSA9IHN0b3JlQ3JlYXRlKCk7XG4iLCJpbXBvcnQgeyBTdG9yZSB9IGZyb20gJ3JlZHV4JztcbmltcG9ydCAqIGFzIGFjdGlvbnMgZnJvbSAnc3JjL2NvbmZpZy9hY3Rpb25zJztcbmltcG9ydCB7XG4gIGNvbXB1dGVJbml0LFxuICBjb21wdXRlQWRkLFxuICBjb21wdXRlRWRpdCxcbiAgY29tcHV0ZVJlbW92ZSxcbiAgY29tcHV0ZVRvZ2dsZSxcbiAgY29tcHV0ZVRvZ2dsZUFsbCxcbiAgY29tcHV0ZUZpbHRlckJ5LFxuICBjb21wdXRlUmVtb3ZlQ29tcGxldGVkLFxuICBjb21wdXRlVG9nZ2xlRWRpdFxuIH0gZnJvbSAnc3JjL2NvbmZpZy9mdW5jdGlvbnMnO1xuXG5leHBvcnQgY29uc3QgVG9kbyA9IChzdG9yZTpTdG9yZSkgPT4ge1xuICBjb25zdCBpbml0ID0gKGhhc2g6c3RyaW5nKSA9PiB7XG4gICAgY29uc3QgeyBkYXRhLCBvcHRpb25zIH0gPSBjb21wdXRlSW5pdChzdG9yZSwgaGFzaCk7XG4gICAgYWN0aW9ucy5pbml0LmRpc3BhdGNoKHN0b3JlLCBkYXRhLCBvcHRpb25zKTtcbiAgfTtcblxuICBjb25zdCBhZGQgPSAodGV4dDpzdHJpbmcpID0+IHtcbiAgICBjb25zdCB7IGRhdGEsIG9wdGlvbnMgfSA9IGNvbXB1dGVBZGQoc3RvcmUsIHRleHQpO1xuICAgIGFjdGlvbnMuYWRkLmRpc3BhdGNoKHN0b3JlLCBkYXRhLCBvcHRpb25zKTtcbiAgfTtcblxuICBjb25zdCBlZGl0ID0gKHRvZG9JZDpzdHJpbmcsIHRleHQ6c3RyaW5nKSA9PiB7XG4gICAgY29uc3QgeyBkYXRhLCBvcHRpb25zIH0gPSBjb21wdXRlRWRpdChzdG9yZSwgdG9kb0lkLCB0ZXh0KTtcbiAgICBhY3Rpb25zLmVkaXQuZGlzcGF0Y2goc3RvcmUsIGRhdGEsIG9wdGlvbnMpO1xuICB9O1xuXG4gIGNvbnN0IHJlbW92ZSA9ICh0b2RvSWQ6c3RyaW5nKSA9PiB7XG4gICAgY29uc3QgeyBkYXRhLCBvcHRpb25zIH0gPSBjb21wdXRlUmVtb3ZlKHN0b3JlLCB0b2RvSWQpO1xuICAgIGFjdGlvbnMucmVtb3ZlLmRpc3BhdGNoKHN0b3JlLCBkYXRhLCBvcHRpb25zKTtcbiAgfTtcblxuICBjb25zdCB0b2dnbGUgPSAodG9kb0lkOnN0cmluZykgPT4ge1xuICAgIGNvbnN0IHsgZGF0YSwgb3B0aW9ucyB9ID0gY29tcHV0ZVRvZ2dsZShzdG9yZSwgdG9kb0lkKTtcbiAgICBhY3Rpb25zLnRvZ2dsZS5kaXNwYXRjaChzdG9yZSwgZGF0YSwgb3B0aW9ucyk7XG4gIH07XG5cbiAgY29uc3QgdG9nZ2xlQWxsID0gKCkgPT4ge1xuICAgIGNvbnN0IHsgZGF0YSwgb3B0aW9ucyB9ID0gY29tcHV0ZVRvZ2dsZUFsbChzdG9yZSk7XG4gICAgYWN0aW9ucy50b2dnbGVBbGwuZGlzcGF0Y2goc3RvcmUsIGRhdGEsIG9wdGlvbnMpO1xuICB9O1xuXG4gIGNvbnN0IGZpbHRlckJ5ID0gKHR5cGU6c3RyaW5nKSA9PiB7XG4gICAgY29uc3QgeyBkYXRhLCBvcHRpb25zIH0gPSBjb21wdXRlRmlsdGVyQnkoc3RvcmUsIHR5cGUpO1xuICAgIGFjdGlvbnMuZmlsdGVyQnkuZGlzcGF0Y2goc3RvcmUsIGRhdGEsIG9wdGlvbnMpO1xuICB9O1xuXG4gIGNvbnN0IHJlbW92ZUNvbXBsZXRlZCA9ICgpID0+IHtcbiAgICBjb25zdCB7IGRhdGEsIG9wdGlvbnMgfSA9IGNvbXB1dGVSZW1vdmVDb21wbGV0ZWQoc3RvcmUpO1xuICAgIGFjdGlvbnMucmVtb3ZlQ29tcGxldGVkLmRpc3BhdGNoKHN0b3JlLCBkYXRhLCBvcHRpb25zKTtcbiAgfTtcblxuICBjb25zdCB0b2dnbGVFZGl0aW5nID0gKHRvZG9JZDpzdHJpbmcsIHR5cGU6c3RyaW5nLCB0ZXh0OnN0cmluZykgPT4ge1xuICAgIGNvbnN0IHsgZGF0YSwgb3B0aW9ucyB9ID0gY29tcHV0ZVRvZ2dsZUVkaXQoc3RvcmUsIHRvZG9JZCwgdHlwZSwgdGV4dCk7XG4gICAgYWN0aW9ucy50b2dnbGVFZGl0aW5nLmRpc3BhdGNoKHN0b3JlLCBkYXRhLCBvcHRpb25zKTtcbiAgfTtcblxuICByZXR1cm4ge1xuICAgIGluaXQsXG4gICAgYWRkLFxuICAgIGVkaXQsXG4gICAgcmVtb3ZlLFxuICAgIHRvZ2dsZSxcbiAgICB0b2dnbGVBbGwsXG4gICAgZmlsdGVyQnksXG4gICAgcmVtb3ZlQ29tcGxldGVkLFxuICAgIHRvZ2dsZUVkaXRpbmdcbiAgfTtcbn07XG4iLCJpbXBvcnQgKiBhcyBleHByZXNzIGZyb20gJ2V4cHJlc3MnO1xuaW1wb3J0ICogYXMgY29tcHJlc3Npb24gZnJvbSAnY29tcHJlc3Npb24nO1xuaW1wb3J0ICogYXMgaHR0cCBmcm9tICdodHRwJztcbmltcG9ydCAqIGFzIGh0dHBzIGZyb20gJ2h0dHBzJztcbmltcG9ydCAqIGFzIGZzIGZyb20gJ2ZzJztcblxuY29uc3QgUHVzaGVyID0gcmVxdWlyZSgncHVzaGVyJyk7XG5cbmltcG9ydCAqIGFzIGpzU3RyaW5nRXNjYXBlIGZyb20gJ2pzLXN0cmluZy1lc2NhcGUnO1xuXG5pbXBvcnQgeyBzdG9yZUNyZWF0ZSB9IGZyb20gJ3NyYy9jb25maWcvc3RvcmUnO1xuaW1wb3J0IHsgVG9kbyB9IGZyb20gJ3NyYy9jb250cm9sbGVycy9Ub2RvQ29udHJvbGxlcic7XG5pbXBvcnQgeyBwbGFjZWhvbGRlciB9IGZyb20gJ3NyYy9jb25maWcvcGxhY2Vob2xkZXInO1xuXG4vLyBjb21tZW50IHRoaXMgdG8gZGlzYWJsZSByZWFjdFxuaW1wb3J0IHsgc3NyIH0gZnJvbSAnZHJtem4tcmVhY3QnO1xuaW1wb3J0IEFwcCBmcm9tICdzcmMvY29tcG9uZW50cy9yb290JztcblxuLy8gdW5jb21tZW50IHRoaXMgdG8gZW5hYmxlIG11c3RhY2hlXG4vLyBpbXBvcnQgeyBzc3IsIGdldFRlbXBsYXRlcyB9IGZyb20gJ2RybXpuLW11c3RhY2hlJztcbi8vIGNvbnN0IHRwbHMgPSByZXF1aXJlLmNvbnRleHQoJ3NyYy9tdXN0YWNoZScsIHRydWUsIC9cXC5odG1sJC8pO1xuLy8gY29uc3QgeyB0ZW1wbGF0ZXMsIGNvbnRhaW5lciB9ID0gZ2V0VGVtcGxhdGVzKHRwbHMpO1xuXG5jb25zdCBwdXNoZXIgPSBuZXcgUHVzaGVyKHtcbiAgYXBwSWQ6IHByb2Nlc3MuZW52LkFQUElELFxuICBrZXk6IHByb2Nlc3MuZW52LktFWSxcbiAgc2VjcmV0OiBwcm9jZXNzLmVudi5TRUNSRVQsXG4gIGNsdXN0ZXI6IHByb2Nlc3MuZW52LkNMVVNURVIsXG4gIHVzZVRMUzogcHJvY2Vzcy5lbnYuRU5DUllQVEVEXG59KTtcblxuY29uc3QgdmVyc2lvbiA9ICcwLjAuMyc7XG5cbmNvbnN0IGFwcCA9IGV4cHJlc3MoKTtcbmFwcC51c2UoY29tcHJlc3Npb24oKSk7XG5cbmFwcC5nZXQoJy8nLCBhc3luYyAocmVxLCByZXMpID0+IHtcbiAgY29uc3Qgc3RvcmUgPSBzdG9yZUNyZWF0ZSgpO1xuICBhd2FpdCBUb2RvKHN0b3JlKS5pbml0KCcvJyk7XG5cbiAgLy8gY29tbWVudCB0aGlzIHRvIGRpc2FibGUgUmVhY3QgcmVuZGVyXG4gIHNzcihwbGFjZWhvbGRlciwgQXBwLCB2ZXJzaW9uKS5yZW5kZXIoc3RvcmUsIHJlcSwgcmVzKTtcblxuICAvLyB1bmNvbW1lbnQgdGhpcyB0byBlbmFibGUgbXVzdGFjaGUgcmVuZGVyXG4gIC8vIHNzcihwbGFjZWhvbGRlciwgY29udGFpbmVyLCB0ZW1wbGF0ZXMsIHZlcnNpb24pLnJlbmRlcihzdG9yZSwgcmVxLCByZXMpO1xuXG59KTtcblxuYXBwLmdldCgnL3NlY3JldC1tZXNzYWdlLzptZXNzYWdlJywgYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gIGNvbnN0IG1lc3NhZ2UgPSBqc1N0cmluZ0VzY2FwZShyZXEucGFyYW1zLm1lc3NhZ2UpO1xuICBwdXNoZXIudHJpZ2dlcignZHJtem4nLCAnc2VjcmV0LW1lc3NhZ2UnLCB7XG4gICAgbWVzc2FnZVxuICB9KTtcbiAgcmVzLnN0YXR1cygyMDApLmVuZCgpO1xufSk7XG5cbmFwcC51c2UoJy8nLCBleHByZXNzLnN0YXRpYygncHVibGljJykpO1xuXG5jb25zdCBzZXJ2ZXIgPSBodHRwLmNyZWF0ZVNlcnZlcihhcHApO1xuc2VydmVyLmxpc3Rlbihwcm9jZXNzLmVudi5QT1JUKTtcblxuLy8gY29uc3Qgb3B0aW9ucyA9IHtcbi8vICAga2V5OiBmcy5yZWFkRmlsZVN5bmMoJ2NlcnQua2V5JyksXG4vLyAgIGNlcnQ6IGZzLnJlYWRGaWxlU3luYygnY2VydC5jcnQnKVxuLy8gfTtcblxuLy8gY29uc3Qgc2VydmVyID0gaHR0cHMuY3JlYXRlU2VydmVyKG9wdGlvbnMsIGFwcCk7XG4vLyBzZXJ2ZXIubGlzdGVuKDQ0Myk7XG4iLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJjb21wcmVzc2lvblwiKTsiLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJkcm16bi1yZWFjdFwiKTsiLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJkcm16bi1yZWR1eFwiKTsiLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJleHByZXNzXCIpOyIsIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcImh0dHBcIik7IiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwianMtc3RyaW5nLWVzY2FwZVwiKTsiLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJvYmplY3QtcGF0aC1pbW11dGFibGUvaW5kZXhcIik7IiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwicHVzaGVyXCIpOyIsIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcInJlYWN0XCIpOyIsIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcInJlYWN0LXJlZHV4XCIpOyIsIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcInJlZHV4XCIpOyIsIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcInJlZHV4LWRldnRvb2xzLWV4dGVuc2lvblwiKTsiLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJyZWR1eC1zYWdhXCIpOyJdLCJzb3VyY2VSb290IjoiIn0=